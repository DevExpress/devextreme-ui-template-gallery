(self["webpackChunkvue_ui_teplate_gallery"]=self["webpackChunkvue_ui_teplate_gallery"]||[]).push([[4794],{34794:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pi}});n(69375);var i=n(59259),o=n(32723),r=n(14109),s=n(34060),a=(n(82438),n(2989),n(12266),n(99819),n(57327),n(50020),n(20338)),l=n(66529),c=n(85563),d=n(80028),u=n(44956),p=n(63825),h=n(50172),g=n(27996),f=n(24906),m=n(96004),y=n(74567),v=n(92324),T=n(47759),_=n(69135);const k=(0,g.zk)(),b="dx-splitter-bar";class w extends _.Ay{_init(){super._init();const e=(new T.A).toString();this.SPLITTER_POINTER_DOWN_EVENT_NAME=(0,y.b4)(m.A.down,"dxSplitterResizing"+e),this.SPLITTER_POINTER_MOVE_EVENT_NAME=(0,y.b4)(m.A.move,"dxSplitterResizing"+e),this.SPLITTER_POINTER_UP_EVENT_NAME=(0,y.b4)(m.A.up,"dxSplitterResizing"+e)}_initMarkup(){super._initMarkup(),this._initActions();const{container:e,leftElement:t,rightElement:n}=this.option();this._$container=e,this._$leftElement=t,this._$rightElement=n,this.$element().addClass("dx-splitter-wrapper").addClass("dx-splitter-initial"),this._$splitterBorder=(0,c.A)("<div>").addClass("dx-splitter-border").appendTo(this.$element()),this._$splitter=(0,c.A)("<div>").addClass(b).addClass("dx-splitter-inactive").appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){const e=v.A.getDocument();f.A.on(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME,this._onMouseDownHandler.bind(this)),f.A.on(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME,this._onMouseMoveHandler.bind(this)),f.A.on(e,this.SPLITTER_POINTER_UP_EVENT_NAME,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){const e=v.A.getDocument();f.A.off(this._$splitterBorder,this.SPLITTER_POINTER_DOWN_EVENT_NAME),f.A.off(e,this.SPLITTER_POINTER_MOVE_EVENT_NAME),f.A.off(e,this.SPLITTER_POINTER_UP_EVENT_NAME)}_dimensionChanged(e){e&&"height"===e||(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){var t,n;e.preventDefault(),this._offsetX=e.pageX-(null===(t=this._$splitterBorder.offset())||void 0===t?void 0:t.left)<=this._getSplitterBorderWidth()?e.pageX-(null===(n=this._$splitterBorder.offset())||void 0===n?void 0:n.left):0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass("dx-splitter-initial"),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){let t=e.pageX-this._getContainerLeftOffset()-this._offsetX;return t=Math.max(0-this._getSplitterOffset(),t),t=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),t),t}_getContainerLeftOffset(){var e;let t=null===(e=this._$container.offset())||void 0===e?void 0:e.left;if(k){const e=k.getComputedStyle(this._$container.get(0)),n=parseFloat(e.paddingLeft)||0,i=parseFloat(e.borderLeftWidth)||0;t+=n+i}return t}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}getSplitterBorderElement(){return this._$splitterBorder}_toggleActive(e){var t,n;this.$element().toggleClass("dx-splitter-inactive",!e),this._$splitter.toggleClass("dx-splitter-inactive",!e),this._isSplitterActive=e,null===(t=(n=this._actions).onActiveStateChanged)||void 0===t||t.call(n,{isActive:e})}toggleDisabled(e){this.$element().toggleClass("dx-state-disabled",e),this._$splitter.toggleClass("dx-state-disabled",e)}isSplitterMoved(){return!this.$element().hasClass("dx-splitter-initial")}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){var e,t;let{splitterPositionLeft:n=null,needUpdatePanels:i=!1,usePercentagePanelsWidth:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=n||this._getLeftPanelWidth()-this._getSplitterOffset();const r=n+this._getSplitterOffset(),s=this._containerWidth-r;this._isSplitterCalculationDisabled||this.$element().css("left",n),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(r);const a=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));i&&(null===(e=(t=this._actions).onApplyPanelSize)||void 0===e||e.call(t,{leftPanelWidth:o?`${this._leftPanelPercentageWidth}%`:r,rightPanelWidth:o?`${a}%`:s}))}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(n),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[t]=this._createActionByOption(t);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}var S=w,C=n(35754);const D={onContextMenuPreparing:"onContextMenuPreparing",onCustomCommand:"onCustomCommand",onDependencyDeleted:"onDependencyDeleted",onDependencyDeleting:"onDependencyDeleting",onDependencyInserted:"onDependencyInserted",onDependencyInserting:"onDependencyInserting",onResourceAssigned:"onResourceAssigned",onResourceAssigning:"onResourceAssigning",onResourceDeleted:"onResourceDeleted",onResourceDeleting:"onResourceDeleting",onResourceInserted:"onResourceInserted",onResourceInserting:"onResourceInserting",onResourceManagerDialogShowing:"onResourceManagerDialogShowing",onResourceUnassigned:"onResourceUnassigned",onResourceUnassigning:"onResourceUnassigning",onSelectionChanged:"onSelectionChanged",onTaskClick:"onTaskClick",onTaskDblClick:"onTaskDblClick",onTaskDeleted:"onTaskDeleted",onTaskDeleting:"onTaskDeleting",onTaskEditDialogShowing:"onTaskEditDialogShowing",onTaskInserted:"onTaskInserted",onTaskInserting:"onTaskInserting",onTaskMoving:"onTaskMoving",onTaskUpdated:"onTaskUpdated",onTaskUpdating:"onTaskUpdating",onScaleCellPrepared:"onScaleCellPrepared"};class I{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this._customFieldsManager=e._customFieldsManager}_createActionByOption(e){var t;return null===(t=this._gantt)||void 0===t?void 0:t._createActionByOption(e)}_getTaskData(e){return this._gantt.getTaskData(e)}_convertCoreToMappedData(e,t){var n;return null===(n=this._mappingHelper)||void 0===n?void 0:n.convertCoreToMappedData(e,t)}_convertMappedToCoreData(e,t){var n;return null===(n=this._mappingHelper)||void 0===n?void 0:n.convertMappedToCoreData(e,t)}_convertMappedToCoreFields(e,t){var n;return null===(n=this._mappingHelper)||void 0===n?void 0:n.convertMappedToCoreFields(e,t)}_convertCoreToMappedFields(e,t){var n;return null===(n=this._mappingHelper)||void 0===n?void 0:n.convertCoreToMappedFields(e,t)}_saveCustomFieldsDataToCache(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];null===(n=this._customFieldsManager)||void 0===n||n.saveCustomFieldsDataToCache(e,t,i,o)}createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption(D.onTaskDblClick)}taskDblClickAction(e){var t;this._taskDblClickAction||this.createTaskDblClickAction(),null===(t=this._taskDblClickAction)||void 0===t||t.call(this,e)}raiseTaskDblClickAction(e,t){const n={cancel:!1,data:this._getTaskData(e),event:t,key:e};return this.taskDblClickAction(n),!n.cancel}createTaskClickAction(){this._taskClickAction=this._createActionByOption(D.onTaskClick)}taskClickAction(e){var t;this._taskClickAction||this.createTaskClickAction(),null===(t=this._taskClickAction)||void 0===t||t.call(this,e)}raiseTaskClickAction(e,t){const n={key:e,event:t,data:this._getTaskData(e)};this.taskClickAction(n)}createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption(D.onSelectionChanged)}selectionChangedAction(e){var t;this._selectionChangedAction||this.createSelectionChangedAction(),null===(t=this._selectionChangedAction)||void 0===t||t.call(this,e)}raiseSelectionChangedAction(e){this.selectionChangedAction({selectedRowKey:e})}createCustomCommandAction(){this._customCommandAction=this._createActionByOption(D.onCustomCommand)}customCommandAction(e){var t;this._customCommandAction||this.createCustomCommandAction(),null===(t=this._customCommandAction)||void 0===t||t.call(this,e)}raiseCustomCommand(e){this.customCommandAction({name:e})}createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption(D.onContextMenuPreparing)}contextMenuPreparingAction(e){var t;this._contextMenuPreparingAction||this.createContextMenuPreparingAction(),null===(t=this._contextMenuPreparingAction)||void 0===t||t.call(this,e)}raiseContextMenuPreparing(e){this.contextMenuPreparingAction(e)}_getInsertingAction(e){switch(e){case"tasks":return this._getTaskInsertingAction();case"dependencies":return this._getDependencyInsertingAction();case"resources":return this._getResourceInsertingAction();case"resourceAssignments":return this._getResourceAssigningAction();default:return()=>{}}}raiseInsertingAction(e,t){const n=this._getInsertingAction(e);if(n){const i={cancel:!1,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel,(0,u.X)(t.values,this._convertMappedToCoreData(e,i.values)),"tasks"===e&&this._saveCustomFieldsDataToCache("gantt_new_task_key",i.values)}}createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption(D.onTaskInserting)}taskInsertingAction(e){const t=this._getTaskInsertingAction();null===t||void 0===t||t(e)}_getTaskInsertingAction(){return this._taskInsertingAction||this.createTaskInsertingAction(),this._taskInsertingAction}createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption(D.onDependencyInserting)}dependencyInsertingAction(e){const t=this._getDependencyInsertingAction();null===t||void 0===t||t(e)}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this.createDependencyInsertingAction(),this._dependencyInsertingAction}createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption(D.onResourceInserting)}resourceInsertingAction(e){const t=this._getResourceInsertingAction();null===t||void 0===t||t(e)}_getResourceInsertingAction(){return this._resourceInsertingAction||this.createResourceInsertingAction(),this._resourceInsertingAction}createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption(D.onResourceAssigning)}resourceAssigningAction(e){const t=this._getResourceAssigningAction();null===t||void 0===t||t(e)}_getResourceAssigningAction(){return this._resourceAssigningAction||this.createResourceAssigningAction(),this._resourceAssigningAction}_getInsertedAction(e){switch(e){case"tasks":return this._getTaskInsertedAction();case"dependencies":return this._getDependencyInsertedAction();case"resources":return this._getResourceInsertedAction();case"resourceAssignments":return this._getResourceAssignedAction();default:return()=>{}}}raiseInsertedAction(e,t,n){const i=this._getInsertedAction(e);if(i){const e={values:t,key:n};i(e)}}createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption(D.onTaskInserted)}taskInsertedAction(e){const t=this._getTaskInsertedAction();null===t||void 0===t||t(e)}_getTaskInsertedAction(){return this._taskInsertedAction||this.createTaskInsertedAction(),this._taskInsertedAction}createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption(D.onDependencyInserted)}dependencyInsertedAction(e){const t=this._getDependencyInsertedAction();null===t||void 0===t||t(e)}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this.createDependencyInsertedAction(),this._dependencyInsertedAction}createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption(D.onResourceInserted)}resourceInsertedAction(e){const t=this._getResourceInsertedAction();null===t||void 0===t||t(e)}_getResourceInsertedAction(){return this._resourceInsertedAction||this.createResourceInsertedAction(),this._resourceInsertedAction}createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption(D.onResourceAssigned)}resourceAssignedAction(e){const t=this._getResourceAssignedAction();null===t||void 0===t||t(e)}_getResourceAssignedAction(){return this._resourceAssignedAction||this.createResourceAssignedAction(),this._resourceAssignedAction}_getDeletingAction(e){switch(e){case"tasks":return this._getTaskDeletingAction();case"dependencies":return this._getDependencyDeletingAction();case"resources":return this._getResourceDeletingAction();case"resourceAssignments":return this._getResourceUnassigningAction();default:return()=>{}}}raiseDeletingAction(e,t){const n=this._getDeletingAction(e);if(n){const i={cancel:!1,key:t.key,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel}}createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption(D.onTaskDeleting)}taskDeletingAction(e){const t=this._getTaskDeletingAction();null===t||void 0===t||t(e)}_getTaskDeletingAction(){return this._taskDeletingAction||this.createTaskDeletingAction(),this._taskDeletingAction}createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption(D.onDependencyDeleting)}dependencyDeletingAction(e){const t=this._getDependencyDeletingAction();null===t||void 0===t||t(e)}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this.createDependencyDeletingAction(),this._dependencyDeletingAction}createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption(D.onResourceDeleting)}resourceDeletingAction(e){const t=this._getResourceDeletingAction();null===t||void 0===t||t(e)}_getResourceDeletingAction(){return this._resourceDeletingAction||this.createResourceDeletingAction(),this._resourceDeletingAction}createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption(D.onResourceUnassigning)}resourceUnassigningAction(e){const t=this._getResourceUnassigningAction();null===t||void 0===t||t(e)}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this.createResourceUnassigningAction(),this._resourceUnassigningAction}_getDeletedAction(e){switch(e){case"tasks":return this._getTaskDeletedAction();case"dependencies":return this._getDependencyDeletedAction();case"resources":return this._getResourceDeletedAction();case"resourceAssignments":return this._getResourceUnassignedAction();default:return()=>{}}}raiseDeletedAction(e,t,n){const i=this._getDeletedAction(e);if(i){const e={key:t,values:n};i(e)}}createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption(D.onTaskDeleted)}taskDeletedAction(e){const t=this._getTaskDeletedAction();null===t||void 0===t||t(e)}_getTaskDeletedAction(){return this._taskDeletedAction||this.createTaskDeletedAction(),this._taskDeletedAction}createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption(D.onDependencyDeleted)}dependencyDeletedAction(e){const t=this._getDependencyDeletedAction();null===t||void 0===t||t(e)}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this.createDependencyDeletedAction(),this._dependencyDeletedAction}createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption(D.onResourceDeleted)}resourceDeletedAction(e){const t=this._getResourceDeletedAction();null===t||void 0===t||t(e)}_getResourceDeletedAction(){return this._resourceDeletedAction||this.createResourceDeletedAction(),this._resourceDeletedAction}createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption(D.onResourceUnassigned)}resourceUnassignedAction(e){const t=this._getResourceUnassignedAction();null===t||void 0===t||t(e)}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this.createResourceUnassignedAction(),this._resourceUnassignedAction}_getUpdatingAction(e){return"tasks"===e?this._getTaskUpdatingAction():()=>{}}raiseUpdatingAction(e,t,n){if(n=n||this._getUpdatingAction(e),n){var i;const s="tasks"===e,a={cancel:!1,key:t.key,newValues:this._convertCoreToMappedData(e,t.newValues),values:s?this._getTaskData(t.key):this._convertCoreToMappedData(e,t.values)};var o;if(s&&null!==(i=this._customFieldsManager)&&void 0!==i&&i.cache.hasData(a.key))null===(o=this._customFieldsManager)||void 0===o||o.addCustomFieldsDataFromCache(a.key,a.newValues);if(n(a),t.cancel=a.cancel,(0,u.X)(t.newValues,this._convertMappedToCoreData(e,a.newValues)),s)if(a.cancel){var r;null===(r=this._customFieldsManager)||void 0===r||r.resetCustomFieldsDataCache(a.key)}else{const e=!Object.keys(t.newValues).length;this._saveCustomFieldsDataToCache(a.key,a.newValues,e)}}}createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption(D.onTaskUpdating)}taskUpdatingAction(e){const t=this._getTaskUpdatingAction();null===t||void 0===t||t(e)}_getTaskUpdatingAction(){return this._taskUpdatingAction||this.createTaskUpdatingAction(),this._taskUpdatingAction}_getUpdatedAction(e){return"tasks"===e?this._getTaskUpdatedAction():()=>{}}raiseUpdatedAction(e,t,n){const i=this._getUpdatedAction(e);if(i){const e={values:t,key:n};i(e)}}createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption(D.onTaskUpdated)}taskUpdatedAction(e){const t=this._getTaskUpdatedAction();null===t||void 0===t||t(e)}_getTaskUpdatedAction(){return this._taskUpdatedAction||this.createTaskUpdatedAction(),this._taskUpdatedAction}createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption(D.onTaskEditDialogShowing)}taskEditDialogShowingAction(e){const t=this._getTaskEditDialogShowingAction();null===t||void 0===t||t(e)}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this.createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}raiseTaskEditDialogShowingAction(e){const t=this._getTaskEditDialogShowingAction();if(t){const n={cancel:!1,key:e.key,values:this._convertCoreToMappedData("tasks",e.values),readOnlyFields:this._convertCoreToMappedFields("tasks",e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields("tasks",e.hiddenFields)};t(n),e.cancel=n.cancel,(0,u.X)(e.values,this._convertMappedToCoreData("tasks",n.values)),e.readOnlyFields=this._convertMappedToCoreFields("tasks",n.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields("tasks",n.hiddenFields)}}createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption(D.onResourceManagerDialogShowing)}resourceManagerDialogShowingAction(e){const t=this._getResourceManagerDialogShowingAction();null===t||void 0===t||t(e)}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this.createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}raiseResourceManagerDialogShowingAction(e){const t=this._getResourceManagerDialogShowingAction();if(t){const n=e.values.resources.items.map(e=>this._convertMappedToCoreData("resources",e)),i={cancel:!1,values:n};t(i),e.cancel=i.cancel}}createTaskMovingAction(){this._taskMovingAction=this._createActionByOption(D.onTaskMoving)}taskMovingAction(e){const t=this.getTaskMovingAction();null===t||void 0===t||t(e)}getTaskMovingAction(){return this._taskMovingAction||this.createTaskMovingAction(),this._taskMovingAction}getScaleCellPreparedAction(){return this._scaleCellPreparedAction||this.createScaleCellPreparedAction(),this._scaleCellPreparedAction}createScaleCellPreparedAction(){this._scaleCellPreparedAction=this._createActionByOption(D.onScaleCellPrepared)}raiseScaleCellPreparedAction(e){const t=this.getScaleCellPreparedAction();if(t){const n={scaleIndex:e.scaleIndex,scaleType:this._getScaleType(e.scaleType),scaleElement:(0,C.cc)((0,c.A)(e.scaleElement)),separatorElement:(0,C.cc)((0,c.A)(e.separatorElement)),startDate:new Date(e.start),endDate:new Date(e.end)};null===t||void 0===t||t(n)}}_getScaleType(e){switch(e){case 0:return"minutes";case 1:return"hours";case 2:return"sixHours";case 3:return"days";case 4:return"weeks";case 5:return"months";case 6:return"quarters";case 7:return"years";case 8:return"fiveYears";default:return}}}var E=n(63027),A=n(77856),M=n(40411);const P="dx-gantt-toolbar-separator",x={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13,toggleResources:14,toggleDependencies:15};class O{constructor(e,t){this._element=e,this._owner=t,this._items=[],this._createControl()}_createControl(){}_createSeparator(){}_createDefaultItem(e,t,n){}createItems(e){var t;this._cache=null,this._items=this._createItemsCore(e),null===(t=this._menu)||void 0===t||t.option("items",this._items)}_createItemsCore(e){return e.map(e=>{let t;return t="string"===typeof e?this._createItemByText(e):e.name?(0,u.X)(this._createItemByText(e.name),e):(0,u.X)(this._getDefaultItemOptions(),e),e.items&&(t.items=this._createItemsCore(e.items)),t})}_createItemByText(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(x.undo,E.A.format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(x.redo,E.A.format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(x.expandAll,E.A.format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(x.collapseAll,E.A.format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(x.createTask,E.A.format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(x.createSubTask,E.A.format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(x.removeTask,E.A.format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(x.removeDependency,E.A.format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(x.zoomIn,E.A.format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(x.zoomOut,E.A.format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(x.fullScreen,E.A.format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(x.taskInformation,`${E.A.format("dxGantt-dialogTaskDetailsTitle")}...`,this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(x.resourceManager,E.A.format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));case"showresources":return this._createDefaultItem(x.toggleResources,E.A.format("dxGantt-showResources"),this._getIcon("toggle-resources"));case"showdependencies":return this._createDefaultItem(x.toggleDependencies,E.A.format("dxGantt-showDependencies"),this._getIcon("toggle-dependencies"));default:return(0,u.X)(this._getDefaultItemOptions(),{options:{text:e}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(e){e.forEach(e=>{const t=e.commandId;void 0!==t&&(this._cache[t]||(this._cache[t]=[]),this._cache[t].push(e)),e.items&&this._fillCache(e.items)})}_getIcon(e){return`dx-gantt-i dx-gantt-i-${e}`}getCommandKeys(){const e=this._getItemsCache(),t=[];for(const n in e)t.push(parseInt(n,10));return t}setItemEnabled(e,t){const n=this._getItemsCache();n[e].forEach(e=>{e.disabled=!t})}setItemVisible(e,t){const n=this._getItemsCache();n[e].forEach(e=>{e.visible=t})}setItemValue(e,t){}setEnabled(e){var t;null===(t=this._menu)||void 0===t||t.option("disabled",!e)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class R extends O{_createControl(){this._menu=this._owner._createComponent(this._element,M.A,{onItemClick:e=>{const{commandId:t}=e.itemData;void 0!==t&&this._owner._executeCoreCommand(t)}})}_createDefaultItem(e,t,n){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:n,stylingMode:"text",hint:t}}}_createSeparator(){return{location:"before",template:(e,t,n)=>{(0,c.A)(n).addClass(P)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){var e;null===(e=this._menu)||void 0===e||e.option("items",this._items)}}class L extends O{_createControl(){this._menu=this._owner._createComponent(this._element,A.Ay,{showEvent:void 0,onItemClick:e=>{void 0!==e.itemData.commandId?this._owner._executeCoreCommand(e.itemData.commandId):void 0!==e.itemData.name&&this._owner._actionsManager.raiseCustomCommand(e.itemData.name)}})}createItems(e){e&&0!==e.length||(e=this._getDefaultItems()),super.createItems(e)}_getDefaultItems(){return[{text:E.A.format("dxGantt-dialogButtonAdd"),commandId:x.taskAddContextItem,icon:this._getIcon("add"),items:[{text:E.A.format("dxGantt-contextMenuNewTask"),commandId:x.createTask,icon:this._getIcon("add-task")},{text:E.A.format("dxGantt-contextMenuNewSubtask"),commandId:x.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:`${E.A.format("dxGantt-dialogTaskDetailsTitle")}...`,commandId:x.taskInformation,icon:this._getIcon("task-details")},{text:E.A.format("dxGantt-contextMenuDeleteTask"),commandId:x.removeTask,icon:this._getIcon("delete")},{text:E.A.format("dxGantt-contextMenuDeleteDependency"),commandId:x.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(e,t,n){return{commandId:e,text:t,icon:n}}show(e,t){var n,i,o;null===(n=this._menu)||void 0===n||n.option("items",t||this._items),null===(i=this._menu)||void 0===i||i.option("position.offset",{x:e.x,y:e.y}),null===(o=this._menu)||void 0===o||o.option("position.collision","fit"),this._menu.show()}hide(){this._menu.hide()}isContextMenu(){return!0}}n(74786);class N{constructor(){this._cache={},this._timers={}}saveData(e,t,n){if(t){this._clearTimer(e);const i=this._getCache(e,!0);(0,u.a)(i,t,!0),n&&this._setExpireTimer(e,n)}}pullDataFromCache(e,t){const n=this._getCache(e);n&&(0,u.a)(t,n),this._onKeyExpired(e)}hasData(e){return!!this._cache[e]}resetCache(e){this._onKeyExpired(e)}_getCache(e,t){return!this._cache[e]&&t&&(this._cache[e]={}),this._cache[e]}_setExpireTimer(e,t){this._timers[e]=setTimeout(()=>{t(e,this._getCache(e)),this._onKeyExpired(e)},200)}_onKeyExpired(e){this._clearCache(e),this._clearTimer(e)}_clearCache(e){delete this._cache[e]}_clearTimer(e){const t=this._timers;null!==t&&void 0!==t&&t[e]&&(clearTimeout(t[e]),delete t[e])}}const H={prepareMapHandler:e=>t=>Object.keys(e).reduce((n,i)=>{const o="key"===i?"id":i;return n[o]=e[i](t),n},{}),prepareSetterMapHandler:e=>t=>Object.keys(e).reduce((n,i)=>{const o="key"===i?"id":i;return e[i](n,t[o]),n},{}),compileGettersByOption(e){const t={};for(const n in e){const i=/(\w*)Expr/.exec(n);i&&(t[i[1]]=(0,d.Hz)(e[i[0]]))}return t},compileSettersByOption(e){const t={};for(const n in e){const i=/(\w*)Expr/.exec(n);i&&!(0,h.Tn)(e[i[0]])&&(t[i[1]]=(0,d.vL)(e[i[0]]))}return t},compileFuncSettersByOption(e){const t={};for(const n in e){const i=/(\w*)Expr/.exec(n);i&&(0,h.Tn)(e[i[0]])&&(t[i[1]]=e[i[0]])}return t},getStoreObject(e,t){const n=H.compileSettersByOption(e);return Object.keys(n).reduce((e,i)=>("key"!==i&&n[i](e,t[i]),e),{})},getInvertedData(e,t){const n={};if(e)for(let i=0;i<e.length;i+=1){const o=e[i],r=t(o);n[r]=o}return n},getArrayFromOneElement:e=>void 0===e||null===e?[]:[e],getSelectionMode:e=>e?"single":"none",convertTreeToList(e,t){null!==e&&void 0!==e&&e.data&&null!==e&&void 0!==e&&e.visible&&t.push(e.data);for(let i=0;i<(null===(n=e.children)||void 0===n?void 0:n.length);i+=1){var n;const o=e.children[i];H.convertTreeToList(o,t)}},getAllParentNodesKeys(e,t){var n;null!==e&&void 0!==e&&e.data&&t.push(e.key),null!==e&&void 0!==e&&null!==(n=e.parent)&&void 0!==n&&n.data&&H.getAllParentNodesKeys(e.parent,t)},getDefaultOptions:()=>({tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,showDependencies:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",scaleTypeRange:{min:"minutes",max:"years"},editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1,enablePredecessorGap:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0,sorting:{ascendingText:E.A.format("dxGantt-sortingAscendingText"),descendingText:E.A.format("dxGantt-sortingDescendingText"),clearText:E.A.format("dxGantt-sortingClearText"),mode:"single",showSortIndexes:!1},filterRow:void 0,headerFilter:void 0,rtlEnabled:!1})};class B{constructor(e){this._gantt=e,this._mappingHelper=e._mappingHelper,this.cache=new N}_getTaskCustomFields(){const{columns:e}=this._gantt.option(),t=null===e||void 0===e?void 0:e.map(e=>e.dataField),n=this._mappingHelper.getTaskMappedFieldNames();return t?t.filter(e=>!n.includes(e)):[]}_getCustomFieldsData(e){return this._getTaskCustomFields().reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}addCustomFieldsData(e,t){if(t){var n;const i=null===(n=this._gantt._tasksOption)||void 0===n?void 0:n._getItems(),o=(0,d.Hz)(this._gantt.option("tasks.keyExpr")),r=null===i||void 0===i?void 0:i.filter(t=>o(t)===e)[0],s=this._getTaskCustomFields();if(r)for(let e=0;e<s.length;e+=1){const n=s[e];Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}}appendCustomFields(e){var t;const n=null===(t=this._gantt._tasksOption)||void 0===t?void 0:t._getItems(),i=this._gantt._getTaskKeyGetter(),o=H.getInvertedData(n,i);return e.reduce((e,t)=>{const n=i(t),r=o[n];if(r){const n={};for(const e in r)n[e]=Object.prototype.hasOwnProperty.call(t,e)?t[e]:r[e];e.push(n)}else e.push(t);return e},[])}addCustomFieldsDataFromCache(e,t){this.cache.pullDataFromCache(e,t)}saveCustomFieldsDataToCache(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=this._getCustomFieldsData(t);if(Object.keys(o).length>0){const t=(e,t)=>{const n=this._gantt._tasksOption;n&&t&&n.update(e,t,(e,t)=>{var o,r;const s={};this.addCustomFieldsData(t,s),n._reloadDataSource().done(e=>{var t;null===(t=this._gantt._ganttTreeList)||void 0===t||t.updateDataSource(e??n._dataSource,!1,i)});const a=this._gantt.option("selectedRowKey");null===(o=this._gantt._ganttView)||void 0===o||o._selectTask(a),null===(r=this._gantt._actionsManager)||void 0===r||r.raiseUpdatedAction("tasks",s,t)})};this.cache.saveData(e,o,n?t:null)}}resetCustomFieldsDataCache(e){this.cache.resetCache(e)}}var V=n(94272),F=n(35723);class j extends F.u{constructor(e,t,n){super(),this._optionName=e,this._getLoadPanel=t,this._dataSourceChangedCallback=n}insert(e,t,n){this._showLoadPanel(),this._getStore().insert(e).done(e=>{t&&t(e),this._hideLoadPanel()}).fail(e=>{n&&n(e),this._hideLoadPanel()})}update(e,t,n,i){this._showLoadPanel(),this._getStore().update(e,t).done((e,t)=>{n&&n(e,t),this._hideLoadPanel()}).fail(e=>{i&&i(e),this._hideLoadPanel()})}remove(e,t,n){this._showLoadPanel(),this._getStore().remove(e).done(e=>{t&&t(e),this._hideLoadPanel()}).fail(e=>{n&&n(e),this._hideLoadPanel()})}_dataSourceChangedHandler(e,t){this._dataSourceChangedCallback(this._optionName,e)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){var e;null===(e=this._getLoadPanel())||void 0===e||e.show()}_hideLoadPanel(){var e;null===(e=this._getLoadPanel())||void 0===e||e.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}_reloadDataSource(){return this._dataSource.load()}dispose(){this._disposeDataSource()}_optionChanged(e){const{name:t}=e}}j.include(V.w);var W=j;class U{constructor(){this._waitingForGanttViewReady=!1,this._waitingForTreeListReady=!1,this._completionActions=[]}onGanttViewReady(){this._stopWaitForGanttViewReady(),this.executeActionsIfPossible()}onTreeListReady(){this._stopWaitForTreeListReady(),this.executeActionsIfPossible()}addCompletionAction(e,t,n){e&&(t&&this._startWaitForGanttViewReady(),n&&this._startWaitForTreeListReady(),this._completionActions.push(e))}executeActionsIfPossible(){this._canExecuteActions()&&(this._completionActions.forEach(e=>e()),this._completionActions=[])}_startWaitForGanttViewReady(){this._waitingForGanttViewReady=!0}_stopWaitForGanttViewReady(){this._waitingForGanttViewReady=!1}_startWaitForTreeListReady(){this._waitingForTreeListReady=!0}_stopWaitForTreeListReady(){this._waitingForTreeListReady=!1}_canExecuteActions(){return!(this._waitingForGanttViewReady||this._waitingForTreeListReady)}}n(5330),n(7465),n(98610),n(20418);var K=n(30090),z=n(11797),G=n(53342);class Y{constructor(e,t,n,i,o){this._parameters=e,this._applyAction=t,this._hideAction=n,this._editingOptions=i,this._owner=o}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(e){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(e,t){return{widget:"dxButton",toolbar:"bottom",options:{text:E.A.format(e),onClick:t}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return e=>(this._form=new z.A(e,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()},rtlEnabled:!1}),e)}getResult(){const e=this.getFormData();return this._updateParameters(e),this._parameters}getFormData(){var e;const t=null===(e=this._form)||void 0===e?void 0:e.option("formData");return t}isValidated(){return!0}shouldHidePopup(){return!0}}class $ extends Y{getTitle(){return E.A.format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){const e=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,t=e||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:E.A.format("dxGantt-dialogTitle")},editorOptions:{readOnly:e||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:E.A.format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:E.A.format("validation-required-formatted",E.A.format("dxGantt-dialogStartTitle"))},{type:"custom",validationCallback:e=>{if(this._parameters.isValidationRequired){const t=this._parameters.getCorrectDateRange(this._parameters.id,e.value,this._parameters.end);if(t.start.getTime()!==e.value.getTime())return e.rule.message=this._getValidationMessage(!0,t.start),!1}return!0}}]},{dataField:"end",editorType:"dxDateBox",label:{text:E.A.format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:E.A.format("validation-required-formatted",E.A.format("dxGantt-dialogEndTitle"))},{type:"custom",validationCallback:e=>{if(this._parameters.isValidationRequired){const t=this._parameters.getCorrectDateRange(this._parameters.id,this._parameters.start,e.value);if(t.end.getTime()!==e.value.getTime())return e.rule.message=this._getValidationMessage(!1,t.end),!1}return!0}}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:E.A.format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:t||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:E.A.format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:e||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:E.A.format("dxGantt-dialogEditResourceListHint"),onClick:()=>{const e=this.getFormData();this._parameters.showResourcesDialogCommand.execute(()=>{this._parameters.showTaskEditDialogCommand.execute(),this._restoreFormData(e)})}}}]}}]}_restoreFormData(e){const t=this._owner._dialogInfo._form,n=t.getEditor("title"),i=t.getEditor("assigned.items"),o=t.getEditor("start"),r=t.getEditor("end"),s=t.getEditor("progress");n.option("value",e.title),i.option("value",e.assigned.items),o.option("value",e.start),r.option("value",e.end),s.option("value",e.progress)}_getValidationMessage(e,t){return e?E.A.format("dxGantt-dialogStartDateValidation",this._getFormattedDateText(t)):E.A.format("dxGantt-dialogEndDateValidation",this._getFormattedDateText(t))}_getFormattedDateText(e){return e?K.A.format(e,"shortDateShortTime"):""}_isReadOnlyField(e){return this._parameters.readOnlyFields.indexOf(e)>-1}_isHiddenField(e){return this._parameters.hiddenFields.indexOf(e)>-1}_getFormData(){const e={};for(const t in this._parameters)e[t]="progress"===t?this._parameters[t]/100:this._parameters[t];return e}_updateParameters(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=Math.round(100*e.progress),this._parameters.assigned=e.assigned}isValidated(){var e;const t=null===(e=this._form)||void 0===e?void 0:e.validate();return null===t||void 0===t?void 0:t.isValid}}class q extends Y{getTitle(){return E.A.format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:E.A.format("dxGantt-dialogEditNoResources"),onInitialized:e=>{this.list=e.component},onItemDeleted:e=>{this._parameters.resources.remove(e.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:e=>{this.textBox=e.component},onInput:e=>{const t=e.component.getButton("addResource"),n=e.component.option("text");t.option("disabled",0===n.length)},buttons:[{name:"addResource",location:"after",options:{text:E.A.format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:e=>{const t=this._parameters.resources.createItem();t.text=this.textBox.option("text"),this._parameters.resources.add(t),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(t),this.textBox.clear(),e.component.option("disabled",!0)}}}]}}]}shouldHidePopup(){return!1}}class X extends Y{getContentTemplate(){return()=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return E.A.format("dxGantt-dialogTaskDeleteConfirmation");case 1:return E.A.format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return E.A.format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class Z extends Y{_getFormItems(){const{hasCriticalErrors:e}=this._parameters,t=this._parameters.errorsCount>1,n=[],i=t?"dxGantt-dialogDeleteDependenciesMessage":"dxGantt-dialogDeleteDependencyMessage",o=t?"dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"dxGantt-dialogMoveTaskAndKeepDependencyMessage";let r="";return r=e?t?"dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"dxGantt-dialogConstraintCriticalViolationMessage":t?"dxGantt-dialogConstraintViolationSeveralTasksMessage":"dxGantt-dialogConstraintViolationMessage",n.push({text:E.A.format("dxGantt-dialogCancelOperationMessage"),value:0}),n.push({text:E.A.format(i),value:1}),e||n.push({text:E.A.format(o),value:2}),[{template:E.A.format(r)},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:n,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(e){this._parameters.option=e.option}}class Q{constructor(e,t){this._popupInstance=e._createComponent(t,G.Ay),this.infoMap={TaskEdit:$,Resources:q,Confirmation:X,ConstraintViolation:Z}}_apply(){if(this._dialogInfo.isValidated()){const e=this._dialogInfo.getResult();this._callback(e),this.hide()}}show(e,t,n,i,o){var r,s;if(this._callback=n,this._afterClosing=i,!this.infoMap[e])return;const a=(null===(r=this._popupInstance)||void 0===r?void 0:r._isVisible())&&this._dialogInfo&&this._dialogInfo instanceof this.infoMap[e];var l,c;(this._dialogInfo=new this.infoMap[e](t,this._apply.bind(this),this.hide.bind(this),o,this),null===(s=this._popupInstance)||void 0===s||s.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._afterClosing)&&(null===(l=this._popupInstance)||void 0===l||l.option("onHidden",this._afterClosing));a||(null===(c=this._popupInstance)||void 0===c||c.show())}hide(){var e;this._dialogInfo.shouldHidePopup()&&(null===(e=this._popupInstance)||void 0===e||e.hide());this._afterClosing&&this._afterClosing()}}var J=n(38943);const ee=(0,g.zk)(),te="dx-treelist-empty-space",ne="dx-treelist-table";class ie{constructor(e){this._gantt=e,this._treeList=e._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){const e=this._getTreeListTable(),t=ee.getComputedStyle(e);return{color:t.color,backgroundColor:t.backgroundColor,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){const e=this._getHeaderView(),t=e.getColumnWidths().filter(e=>e>0);return t.length}getTreeListHeaderInfo(e){const t=this._getHeaderElement(e);if(!t)return null;const n=ee.getComputedStyle(t),i={color:n.color,padding:n.padding,paddingLeft:n.paddingLeft,paddingTop:n.paddingTop,paddingRight:n.paddingRight,paddingBottom:n.paddingBottom,verticalAlign:n.verticalAlign,width:this._getColumnWidth(e)};return{content:t.textContent,styles:i}}getTreeListCellInfo(e,t){var n,i;const o=null===(n=this._treeList)||void 0===n?void 0:n.getNodeByKey(e),r=null===(i=this._treeList)||void 0===i?void 0:i.getRowIndexByKey(e),s=r>-1?this._getDataCell(r,t):null,a=s?ee.getComputedStyle(s):this._getColumnCellStyle(t),l={color:a.color,padding:a.padding,paddingLeft:a.paddingLeft,paddingTop:a.paddingTop,paddingRight:a.paddingRight,paddingBottom:a.paddingBottom,width:this._getColumnWidth(t)};return 0===t&&(l.extraLeftPadding=this._getEmptySpaceWidth(o.level)),{content:(null===s||void 0===s?void 0:s.textContent)??this._getDisplayText(e,t),styles:l}}getTreeListEmptyDataCellInfo(){var e;return{content:null===(e=this._treeList)||void 0===e?void 0:e.option("noDataText")}}_ensureColumnWidthCache(e){var t;if((t=this._cache).columnWidths??(t.columnWidths={}),!this._cache.columnWidths[e]){const t=this._getHeaderElement(e);this._cache.columnWidths[e]=(null===t||void 0===t?void 0:t.clientWidth)??0}}_getColumnWidth(e){this._ensureColumnWidthCache(e);const t=this._cache.columnWidths;return null===t||void 0===t?void 0:t[e]}_getEmptySpaceWidth(e){var t;if(!this._cache.emptyWidth){const e=this._getTreeListElement(te);(t=this._cache).emptyWidth??(t.emptyWidth=(null===e||void 0===e?void 0:e.offsetWidth)??0)}return this._cache.emptyWidth*(e+1)}_getColumnCellStyle(e){return this._ensureColumnCellStyleCache(e),this._cache.columnStyles[e]}_ensureColumnCellStyleCache(e){var t;if((t=this._cache).columnStyles??(t.columnStyles={}),!this._cache.columnStyles[e]){const t=this._getDataCell(0,e);this._cache.columnStyles[e]=ee.getComputedStyle(t)}}_getTask(e){return this._ensureTaskCache(e),this._cache.tasks[e]}_ensureTaskCache(e){var t,n;(t=this._cache).tasks??(t.tasks={}),(n=this._cache.tasks)[e]??(n[e]=this._gantt._findTaskByKey(e))}_getTreeListTable(){return this._getTreeListElement(ne)}_getTreeListElement(e){var t;return null===(t=this._treeList)||void 0===t?void 0:t.$element().find(`.${e}`).get(0)}_getDataCell(e,t){const n=this._treeList,i=null===n||void 0===n?void 0:n.getCellElement(e,t);return null!==i&&void 0!==i&&i.length?i[0]:i}_getHeaderElement(e){return this._getHeaderView().getHeaderElement(e).get(0)}_getHeaderView(){var e;return null===(e=this._treeList)||void 0===e?void 0:e._views.columnHeadersView}_getDisplayText(e,t){const n=this._getTask(e);return n&&this._getGridDisplayText(t,n)}_getGridDisplayText(e,t){var n;const i=null===(n=this._treeList)||void 0===n?void 0:n.getController("columns").getVisibleColumns(),o=i[e],r=null===o||void 0===o?void 0:o.dataField,s=null===o||void 0===o?void 0:o.format,l=a.A.getDisplayValue(o,t[r],t,"data");if((0,h.O9)(s)){if("date"===(null===o||void 0===o?void 0:o.dataType)||"datetime"===(null===o||void 0===o?void 0:o.dataType)){const e=(0,h.$P)(l)?l:new Date(l);return K.A.format(e,s)}if((0,h.kf)(l))return J.A.format(l,s)}return"string"===typeof l?l:null===l||void 0===l?void 0:l.toString()}}const oe=/(\w*)Expr/;class re{constructor(e){this._gantt=e}_getMappedFieldName(e,t){let n=t;return"id"===t&&(n="key"),this._gantt.option(`${e}.${n}Expr`)}getTaskMappedFieldNames(){const e=[],t=this._gantt.option("tasks");for(const n in t){const i=oe.exec(n),o=i&&t[i[0]];o&&e.push(o)}return e}convertCoreToMappedData(e,t){return Object.keys(t).reduce((n,i)=>{const o=this._getMappedFieldName(e,i);if(o&&!(0,h.Tn)(o)){const e=(0,d.vL)(o);e(n,t[i])}return n},{})}convertMappedToCoreData(e,t){const n={};if(t){const i=this._gantt.option(e);for(const e in i){const o=oe.exec(e),r=o&&i[o[0]];if(r&&void 0!==t[r]){const e=(0,d.Hz)(r),i=o[1];n[i]=e(t)}}}return n}convertCoreToMappedFields(e,t){return t.reduce((t,n)=>{const i=this._getMappedFieldName(e,n);return i&&t.push(i),t},[])}convertMappedToCoreFields(e,t){const n=[],i=this._gantt.option(e);for(const o in i){const e=oe.exec(o),r=e&&i[e[0]];if(r&&t.indexOf(r)>-1){const t=e[1];n.push(t)}}return n}}const se={create:e=>({NotifyTaskCreated:(t,n,i)=>{e._onRecordInserted("tasks",t,n)},NotifyTaskRemoved:(t,n,i)=>{e._onRecordRemoved("tasks",t,i)},NotifyTaskUpdated:(t,n,i)=>{e._onRecordUpdated("tasks",t,n)},NotifyParentTaskUpdated:(t,n)=>{e._onParentTaskUpdated(t)},NotifyDependencyInserted:(t,n,i)=>{e._onRecordInserted("dependencies",t,n)},NotifyDependencyRemoved:(t,n,i)=>{e._onRecordRemoved("dependencies",t,i)},NotifyResourceCreated:(t,n,i)=>{e._onRecordInserted("resources",t,n)},NotifyResourceRemoved:(t,n,i)=>{e._onRecordRemoved("resources",t,i)},NotifyResourceAssigned:(t,n,i)=>{e._onRecordInserted("resourceAssignments",t,n)},NotifyResourceUnassigned:(t,n,i)=>{e._onRecordRemoved("resourceAssignments",t,i)},NotifyParentDataRecalculated:t=>{e._onParentTasksRecalculated(t)},NotifyTaskCreating:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseInsertingAction("tasks",t)},NotifyTaskRemoving:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseDeletingAction("tasks",t)},NotifyTaskUpdating:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseUpdatingAction("tasks",t)},NotifyTaskMoving:t=>{var n,i;null===(n=e._actionsManager)||void 0===n||n.raiseUpdatingAction("tasks",t,null===(i=e._actionsManager)||void 0===i?void 0:i.getTaskMovingAction())},NotifyTaskEditDialogShowing:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseTaskEditDialogShowingAction(t)},NotifyResourceManagerDialogShowing:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseResourceManagerDialogShowingAction(t)},NotifyDependencyInserting:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseInsertingAction("dependencies",t)},NotifyDependencyRemoving:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseDeletingAction("dependencies",t)},NotifyResourceCreating:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseInsertingAction("resources",t)},NotifyResourceRemoving:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseDeletingAction("resources",t)},NotifyResourceAssigning:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseInsertingAction("resourceAssignments",t)},NotifyResourceUnassigning:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseDeletingAction("resourceAssignments",t)},NotifyScaleCellPrepared:t=>{var n;null===(n=e._actionsManager)||void 0===n||n.raiseScaleCellPreparedAction(t)},NotifyGanttViewUpdated:()=>{e._onGanttViewCoreUpdated()}})};class ae{constructor(e){this._gantt=e}_setTreeListDimension(e,t){var n;const i="width"===e?p.zj:p.k$,o="width"===e?p.RG:p.Oq;i(this._gantt._$treeListWrapper,t),null===(n=this._gantt._ganttTreeList)||void 0===n||n.setOption(e,o(this._gantt._$treeListWrapper))}_setGanttViewDimension(e,t){const n="width"===e?p.zj:p.k$,i="width"===e?p.RG:p.Oq;n(this._gantt._$ganttView,t),this._gantt._setGanttViewOption(e,i(this._gantt._$ganttView))}_getPanelsWidthByOption(){var e,t;const n=(0,p.RG)(this._gantt.$element()),{taskListWidth:i}=this._gantt.option();let o;return isNaN(i)?(null===(e=i.indexOf)||void 0===e?void 0:e.call(i,"px"))>0?o=n-parseInt(i.replace("px",""),10)+"px":(null===(t=i.indexOf)||void 0===t?void 0:t.call(i,"%"))>0&&(o=100-parseInt(i.replace("%",""),10)+"%"):o=n-parseInt(i,10),{leftPanelWidth:i,rightPanelWidth:o}}onAdjustControl(){const e=(0,p.Oq)(this._gantt.$element());this.updateGanttWidth(),this.setGanttHeight(e)}onApplyPanelSize(e){this.setInnerElementsWidth(e),this.updateGanttRowHeights()}updateGanttRowHeights(){var e;const t=null===(e=this._gantt._ganttTreeList)||void 0===e?void 0:e.getRowHeight();var n;this._gantt._getGanttViewOption("rowHeight")!==t&&(this._gantt._setGanttViewOption("rowHeight",t),null===(n=this._gantt._ganttView)||void 0===n||n._ganttViewCore.updateRowHeights(t))}adjustHeight(){var e;this._gantt._hasHeight||(this._gantt._setGanttViewOption("height",0),this._gantt._setGanttViewOption("height",null===(e=this._gantt._ganttTreeList)||void 0===e?void 0:e.getOffsetHeight()))}setInnerElementsWidth(e){var t,n;if(!(0,g.Vd)())return;const i=!e;var o;(i&&(e=this._getPanelsWidthByOption(),this._setTreeListDimension("width",0),this._setGanttViewDimension("width",0)),this._setTreeListDimension("width",null===(t=e)||void 0===t?void 0:t.leftPanelWidth),this._setGanttViewDimension("width",null===(n=e)||void 0===n?void 0:n.rightPanelWidth),i)&&(null===(o=this._gantt._splitter)||void 0===o||o._setSplitterPositionLeft())}updateGanttWidth(){var e;null===(e=this._gantt._splitter)||void 0===e||e._dimensionChanged()}setGanttHeight(e){var t;const n=this._gantt._$toolbarWrapper.get(0).offsetHeight,i=e-n;this._setTreeListDimension("height",i),this._setGanttViewDimension("height",i),null===(t=this._gantt._ganttView)||void 0===t||t._ganttViewCore.resetAndUpdate()}}class le{constructor(e){this._gantt=e}getTaskTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e),n=t&&((e,n,i)=>(t.render({model:this._gantt.getTaskDataByCoreData(n),container:(0,C.cc)((0,c.A)(e)),onRendered:()=>{i()}}),!0));return n}getTaskProgressTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e),n=t&&((e,n,i)=>(t.render({model:n,container:(0,C.cc)((0,c.A)(e)),onRendered:()=>{i()}}),!0));return n}getTaskTimeTooltipContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e),n=t&&((e,n,i)=>(t.render({model:n,container:(0,C.cc)((0,c.A)(e)),onRendered:()=>{i()}}),!0));return n}getTaskContentTemplateFunc(e){const t=e&&this._gantt._getTemplate(e),n=t&&((e,n,i,o)=>(n.taskData=this._gantt.getTaskDataByCoreData(n.taskData),t.render({model:n,container:(0,C.cc)((0,c.A)(e)),onRendered:()=>{i(e,o)}}),!0));return n}}n(34840);var ce=n(94041),de=n(59715),ue=n(94360),pe=n(85414),he=n(91125),ge=(0,u.X)({},he.Ay,{modules:[],foreachNodes(e,t,n){for(let i=0;i<e.length;i++)!1!==t(e[i])&&(n||e[i].hasChildren)&&e[i].children.length&&this.foreachNodes(e[i].children,t,n)}});ge.registerModule("columnHeaders",pe.J);var fe=n(31514);class me extends fe._{_getFirstItems(e){return super._getFirstItems(e).map(e=>e.data)}getFirstDataColumnIndex(){const e=this.getVisibleColumns(),t=e.length;let n=0;for(let i=0;i<=t-1;i++)if(!(0,h.O9)(e[i].command)){n=e[i].index;break}return n}}ge.registerModule("columns",{defaultOptions:fe.a.defaultOptions,controllers:{columns:me}});var ye=n(39889),ve=n(66703),Te=n(23581),_e=(n(32225),n(64727),n(84558)),ke=n(91418),be=n(57653),we=n(89214),Se=n(93821),Ce=n(68148);const{queryByOptions:De}=be.A,Ie=e=>"fullBranch"===e.option("filterMode"),Ee=function(e,t){const n=[];return t.forEach(t=>{const i=e.getNodeByKey(t);i&&i.children.forEach(e=>{n.push(e.key)})}),n},Ae=(e,t)=>De((0,ke.A)(e),{sort:t}).toArray();class Me extends Ce.A{_createKeyGetter(){const e=this.getKeyExpr();return(0,d.Hz)(e)}_createKeySetter(){const e=this.getKeyExpr();return(0,h.Tn)(e)?e:(0,d.vL)(e)}createParentIdGetter(){return(0,d.Hz)(this.option("parentIdExpr"))}createParentIdSetter(){const e=this.option("parentIdExpr");return(0,h.Tn)(e)?e:(0,d.vL)(e)}_createItemsGetter(){return(0,d.Hz)(this.option("itemsExpr"))}_createHasItemsGetter(){const e=this.option("hasItemsExpr");return e&&(0,d.Hz)(e)}_createHasItemsSetter(){const e=this.option("hasItemsExpr");return(0,h.Tn)(e)?e:e&&(0,d.vL)(e)}_updateIndexByKeyObject(e){const t=this;t._indexByKey={},(0,we.__)(e,(e,n)=>{t._indexByKey[n.key]=e})}_calculateHasItems(e,t){const n=this,{parentIds:i}=t.storeLoadOptions;let o;const r=Ie(n);return n._hasItemsGetter&&(i||!t.storeLoadOptions.filter||r)&&(o=n._hasItemsGetter(e.data)),void 0===o&&(o=!(n._isChildrenLoaded[e.key]||!t.remoteOperations.filtering||!i&&!r)||(t.loadOptions.filter&&!t.remoteOperations.filtering&&r?e.children.length:e.hasChildren)),!!o}_fillVisibleItemsByNodes(e,t,n){for(let i=0;i<e.length;i++)e[i].visible&&n.push(e[i]),(this.isRowExpanded(e[i].key,t)||!e[i].visible)&&e[i].hasChildren&&e[i].children.length&&this._fillVisibleItemsByNodes(e[i].children,t,n)}_convertItemToNode(e,t,n){const i=this._keyGetter(e);let o=this._parentIdGetter(e);o=(0,h.O9)(o)?o:t;const r=n[o]=n[o]||{key:o,children:[]},s=n[i]=n[i]||{key:i,children:[]};return s.data=e,s.parent=r,s}_createNodesByItems(e,t){const n=this,i=n.option("rootValue"),o={},r=n._nodeByKey={};let s;if(t)for(s=0;s<t.length;s++)o[this._keyGetter(t[s])]=!0;for(s=0;s<e.length;s++){const a=n._convertItemToNode(e[s],i,r);if(void 0===a.key)return;a.visible=!t||!!o[a.key],a.parent&&a.parent.children.push(a)}const a=r[i]||{key:i,children:[]};return a.level=-1,a}_convertDataToPlainStructure(e,t,n){let i;if(this._itemsGetter&&!e.isConverted){n=n||[];for(let o=0;o<e.length;o++){const r=(0,_e.lj)(e[o]);i=this._keyGetter(r),void 0===i&&(i=n.length+1,this._keySetter(r,i)),this._parentIdSetter(r,void 0===t?this.option("rootValue"):t),n.push(r);const s=this._itemsGetter(r);if(s&&s.length){this._convertDataToPlainStructure(s,i,n);const e=this.option("itemsExpr");(0,h.Tn)(e)||delete r[e]}}return n.isConverted=!0,n}return e}_createIdFilter(e,t){const n=[];for(let i=0;i<t.length;i++)n.push([e,"=",t[i]]);return a.A.combineFilters(n,"or")}_customizeRemoteOperations(e,t){super._customizeRemoteOperations.apply(this,arguments),e.remoteOperations.paging=!1;let n=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,this._lastLoadOptions&&(!t.filtering||e.storeLoadOptions.filter)||e.isCustomLoading||(n=!0)),e.isCustomLoading||(this._isReload=this._isReload||t.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(t.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?n=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=n}_getParentIdsToLoad(e){const t=[];for(let n=0;n<e.length;n++){const i=this.getNodeByKey(e[n]);(!i||i.hasChildren&&!i.children.length)&&t.push(e[n])}return t}_handleCustomizeStoreLoadOptions(e){const t=this.option("rootValue"),n=this.option("parentIdExpr");let{parentIds:i}=e.storeLoadOptions;if(i&&(e.isCustomLoading=!1),super._handleCustomizeStoreLoadOptions.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(Ie(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){const o=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");i=[t].concat(o).concat(i||[]);const r=e.data?this._getParentIdsToLoad(i):i;r.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0,e.delay=this.option("loadingTimeout")),e.storeLoadOptions.parentIds=r,e.storeLoadOptions.filter=this._createIdFilter(n,r)}}_generateInfoToLoad(e,t){const n=this;let i;const o={},r={},s=[],a=n.option("rootValue");let l;for(l=0;l<e.length;l++)i=t?n._parentIdGetter(e[l]):n._keyGetter(e[l]),o[i]=!0;for(l=0;l<e.length;l++){i=t?n._keyGetter(e[l]):n._parentIdGetter(e[l]);const c=t?n.isRowExpanded(i):i!==a;o[i]||r[i]||!c||(r[i]=!0,s.push(i))}return{keyMap:r,keys:s}}_loadParentsOrChildren(e,t,n){var i,o;let r,s;const{keys:a,keyMap:l}=this._generateInfoToLoad(e,n),c=new ve.cY,d=t.remoteOperations.filtering,p=this.option("maxFilterLengthInRequest"),h=(null===(i=t.storeLoadOptions)||void 0===i?void 0:i.sort)??(null===(o=t.loadOptions)||void 0===o?void 0:o.sort);let g=d?t.storeLoadOptions:t.loadOptions;const f=t=>(d&&(this._cachedStoreData=Ae(this._cachedStoreData.concat(t),h)),Ae(e.concat(t),h));if(!a.length)return c.resolve(e);let m=a.map(e=>this.getNodeByKey(e)).filter(e=>e&&e.data);if(m.length===a.length&&(n&&(m=m.reduce((e,t)=>e.concat(t.children),[])),m.length))return this._loadParentsOrChildren(f(m.map(e=>e.data)),t,n);const y=n?this.option("parentIdExpr"):this.getKeyExpr();r=this._createIdFilter(y,a);const v=encodeURI(JSON.stringify(r)).length;v>p&&(r=e=>l[n?this._parentIdGetter(e):this._keyGetter(e)],s=d),g=(0,u.X)({},g,{filter:s?null:r});const T=t.fullData?new ce.A(t.fullData):this._dataSource.store();return this.loadFromStore(g,T).done(i=>{i.length?(s&&(i=(0,ke.A)(i).filter(r).toArray()),this._loadParentsOrChildren(f(i),t,n).done(c.resolve).fail(c.reject)):c.resolve(e)}).fail(c.reject),c}_loadParents(e,t){return this._loadParentsOrChildren(e,t)}_loadChildrenIfNeed(e,t){return Ie(this)?this._loadParentsOrChildren(e,t,!0):(0,ve.z7)(e)}_updateHasItemsMap(e){const{parentIds:t}=e.storeLoadOptions;if(t)for(let n=0;n<t.length;n++)this._isChildrenLoaded[t[n]]=!0}_getKeyInfo(){return{key:()=>"key",keyOf:e=>e.key}}_processChanges(e){let t=[];return e.forEach(e=>{"insert"===e.type?t=t.concat(this._applyInsert(e)):"remove"===e.type?t=t.concat(this._applyRemove(e)):"update"===e.type&&t.push({type:e.type,key:e.key,data:{data:e.data}})}),t}_handleChanging(e){super._handleChanging.apply(this,arguments),e.postProcessChanges=e=>{const t=e.filter(e=>"update"===e.type);return this._processChanges(t)}}_applyBatch(e){const t=this._processChanges(e);super._applyBatch(t)}_setHasItems(e,t){const n=this._hasItemsSetter;e.hasChildren=t,n&&e.data&&n(e.data,t)}_applyInsert(e){const t=this,n=[],i=t.parentKeyOf(e.data),o=t.getNodeByKey(i);if(o){const i=t.option("rootValue"),r=t._convertItemToNode(e.data,i,t._nodeByKey);if(r.hasChildren=!1,r.level=o.level+1,r.visible=!0,o.children.push(r),t._isChildrenLoaded[r.key]=!0,t._setHasItems(o,!0),(!o.parent||t.isRowExpanded(o.key))&&void 0!==e.index){let i=t.items().indexOf(o)+1;i+=e.index>=0?Math.min(e.index,o.children.length):o.children.length,n.push({type:e.type,data:r,index:i})}}return n}_needToCopyDataObject(){return!1}_applyRemove(e){let t=[];const n=this.getNodeByKey(e.key),i=n&&n.parent;if(i){const o=i.children.indexOf(n);o>=0&&(i.children.splice(o,1),i.children.length||this._setHasItems(i,!1),t.push(e),t=t.concat(this.getChildNodeKeys(e.key).map(t=>({type:e.type,key:t}))))}return t}_handleDataLoaded(e){const t=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=De((0,ke.A)(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),super._handleDataLoaded(e),t.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)}_fillNodes(e,t,n,i){const o=Ie(this);i=i||0;for(let r=0;r<e.length;r++){const s=e[r];let a=!1;this._fillNodes(e[r].children,t,n,i+1),s.level=i,s.hasChildren=this._calculateHasItems(s,t),s.visible&&s.hasChildren&&(o?s.children.filter(e=>e.visible).length?a=!0:s.children.length&&ge.foreachNodes(s.children,e=>{e.visible=!0}):a=!0,t.expandVisibleNodes&&a&&n.push(s.key)),(s.visible||s.hasChildren)&&(s.parent.hasChildren=!0)}}_processTreeStructure(e,t){let{data:n}=e;const{parentIds:i}=e.storeLoadOptions,o=[];if(i&&i.length||this._isReload){if(e.fullData&&(n=e.fullData,t=t||e.data),this._rootNode=this._createNodesByItems(n,t),!this._rootNode)return void(e.data=(new ve.cY).reject(Se.A.Error("E1046",this.getKeyExpr())));this._fillNodes(this._rootNode.children,e,o),this._isNodesInitializing=!0,(e.collapseVisibleNodes||o.length)&&this.option("expandedRowKeys",o),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}const r=[];this._fillVisibleItemsByNodes(this._rootNode.children,e,r),e.data=r,this._totalItemsCount=r.length}_handleDataLoadedCore(e){const t=this,{data:n}=e,i=e.storeLoadOptions.filter||e.loadOptions.filter,o=t.option("filterMode");let r;const{parentIds:s}=e.storeLoadOptions,a=i&&(!s||!s.length)&&"standard"!==o;if(!e.isCustomLoading){if(a){const i=e.data=new ve.cY;return"matchOnly"===o&&(r=n),t._loadParents(n,e).done(n=>{t._loadChildrenIfNeed(n,e).done(n=>{e.data=n,t._processTreeStructure(e,r),super._handleDataLoadedCore.call(t,e),i.resolve(e.data)})}).fail(i.reject)}t._processTreeStructure(e)}super._handleDataLoadedCore(e)}_handlePush(e){let{changes:t}=e;const n=this._dataSource._reshapeOnPush,i=n&&!!t.length;i&&(this._isReload=!0),t.forEach(e=>{e.index??(e.index=-1)}),super._handlePush.apply(this,arguments)}init(e,t){super.init.apply(this,arguments);const n=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this.createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),"tree"===n&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")}getKeyExpr(){const e=this.store(),t=e&&e.key(),n=this.option("keyExpr");if((0,h.O9)(t)&&(0,h.O9)(n)&&!(0,ye.RL)(t,n))throw Se.A.Error("E1044");return t||n||"id"}keyOf(e){return this._keyGetter&&this._keyGetter(e)}parentKeyOf(e){return this._parentIdGetter&&this._parentIdGetter(e)}getRootNode(){return this._rootNode}totalItemsCount(){return this._totalItemsCount+this._totalCountCorrection}isRowExpanded(e,t){if(t){let{isExpandedByKey:n}=t;if(!n){const e=this.option("expandedRowKeys")??[];n=t.isExpandedByKey={},e.forEach(e=>{n[e]=!0})}return!!n[e]}const n=a.A.getIndexByKey(e,this.option("expandedRowKeys"),null);return n>=0}_changeRowExpandCore(e){const t=this.option("expandedRowKeys").slice(),n=a.A.getIndexByKey(e,t,null);n<0?t.push(e):t.splice(n,1),this.option("expandedRowKeys",t)}changeRowExpand(e){return this._changeRowExpandCore(e),this._isNodesInitializing?(new ve.cY).resolve():this.load()}getNodeByKey(e){if(this._nodeByKey)return this._nodeByKey[e]}getNodeLeafKeys(){const e=this,t=[],n=e._rootNode?[e._rootNode.key]:[];return n.forEach(n=>{const i=e.getNodeByKey(n);i&&ge.foreachNodes([i],e=>{!e.children.length&&t.push(e.key)})}),t}getChildNodeKeys(e){const t=this.getNodeByKey(e),n=[];return t&&ge.foreachNodes(t.children,e=>{n.push(e.key)}),n}loadDescendants(e,t){const n=this,i=new ve.cY,o=n.remoteOperations();if(e=(0,h.O9)(e)?Array.isArray(e)?e:[e]:n.getNodeLeafKeys(),!o.filtering||!e.length)return i.resolve();const r=n._dataSource._createStoreLoadOptions();return r.parentIds=e,n.load(r).done(()=>{if(!t){const o=Ee(n,e);if(o.length)return void n.loadDescendants(o,t).done(i.resolve).fail(i.reject)}i.resolve()}).fail(i.reject),i.promise()}forEachNode(){let e,t=[];if(1===arguments.length){e=arguments[0];const n=this.getRootNode();t=n&&n.children||[]}else 2===arguments.length&&(e=arguments[1],t=arguments[0],t=Array.isArray(t)?t:[t]);ge.foreachNodes(t,e)}}let Pe=Me;var xe={extend(e){Pe=e(Pe)},create:e=>new Pe(e)};class Oe extends Te.P{_getDataSourceAdapter(){return xe}_getNodeLevel(e){let t=-1;while(e.parent)e.visible&&t++,e=e.parent;return t}_generateDataItem(e,t){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,t),level:this._getNodeLevel(e)}}_loadOnOptionChange(){this._dataSource.load()}_isItemEquals(e,t){return e.isSelected===t.isSelected&&((!e.node||!t.node||e.node.hasChildren===t.node.hasChildren)&&(e.level===t.level&&e.isExpanded===t.isExpanded&&super._isItemEquals.apply(this,arguments)))}_isCellChanged(e,t,n,i,o){const r=this._columnsController.getFirstDataColumnIndex();return i===r&&e.isSelected!==t.isSelected||super._isCellChanged.apply(this,arguments)}init(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),super.init.apply(this,arguments)}keyOf(e){const t=this._dataSource;if(t)return t.keyOf(e)}key(){const e=this._dataSource;if(e)return e.getKeyExpr()}publicMethods(){return super.publicMethods().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])}changeRowExpand(e){if(this._dataSource){const t={key:e},n=this.isRowExpanded(e);if(this.executeAction(n?"onRowCollapsing":"onRowExpanding",t),!t.cancel)return this._dataSource.changeRowExpand(e).done(()=>{this.executeAction(n?"onRowCollapsed":"onRowExpanded",t)})}return(new ve.cY).resolve()}isRowExpanded(e,t){return this._dataSource&&this._dataSource.isRowExpanded(e,t)}expandRow(e){return this.isRowExpanded(e)?(new ve.cY).resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new ve.cY).resolve()}getRootNode(){return this._dataSource&&this._dataSource.getRootNode()}optionChanged(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":!this._dataSource||this._dataSource._isNodesInitializing||(0,ye.RL)(e.value,e.previousValue)||this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:super.optionChanged(e)}}getNodeByKey(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)}getChildNodeKeys(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)}loadDescendants(e,t){if(this._dataSource)return this._dataSource.loadDescendants(e,t)}forEachNode(){this._dataSource.forEachNode.apply(this,arguments)}}ge.registerModule("data",{defaultOptions:()=>(0,u.X)({},Te.X.defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}}),controllers:{data:Oe}});var Re=n(96028);ge.registerModule("sorting",Re.L);var Le=n(69357),Ne=n(6977);const He="dx-treelist-text-content",Be=function(e){return(0,c.A)("<div>").addClass(He).appendTo(e)},Ve=(e,t,n)=>{const i=(0,c.A)("<div>").addClass("dx-treelist-empty-space");return e&&i.addClass("dx-treelist-empty-space--last"),t&&i.addClass(n?"dx-treelist-expanded":"dx-treelist-collapsed"),i};class Fe extends Ne.xU{_renderIconContainer(e,t){const n=(0,c.A)("<div>").addClass("dx-treelist-icon-container").appendTo(e);if(t.watch){const e=t.watch(()=>[t.row.level,t.row.isExpanded,t.row.node.hasChildren],()=>{n.empty(),this._renderIcons(n,t)});f.A.on(n,Le.N,e)}return e.addClass("dx-treelist-cell-expandable"),this._renderIcons(n,t)}_renderIcons(e,t){const n=super._renderIcons(e,t),{row:i}=t,{level:o}=i;for(let r=0;r<=o;r+=1){const e=r===o,t=e&&i.node.hasChildren,s=Ve(e,t,i.isExpanded);s.appendTo(n)}return n}_renderCellCommandContent(e,t){return this._renderIconContainer(e,t),!0}_processTemplate(e,t){var n;const i=this;let o;const r=super._processTemplate(e),s=i._columnsController.getFirstDataColumnIndex();return o=r&&(null===(n=t.column)||void 0===n?void 0:n.index)===s?{render(e){const t=e.container;i._renderCellCommandContent(t,e.model)&&(e.container=Be(t)),r.render(e)}}:r,o}_updateCell(e,t){e=e.hasClass(He)?e.parent():e,super._updateCell(e,t)}_rowClick(e){const t=this._dataController,n=(0,c.A)(e.event.target),i=this.isExpandIcon(n),o=null===t||void 0===t?void 0:t.items()[e.rowIndex];i&&o&&t.changeRowExpand(o.key),super._rowClick(e)}_createRow(e){const t=e&&e.node,n=super._createRow.apply(this,arguments);return t&&(this.setAria("level",e.level+1,n),t.hasChildren&&this.setAriaExpandedAttribute(n,e)),n}_getGridRoleName(){return"treegrid"}isExpandIcon(e){return!!e.closest(".dx-treelist-expanded, .dx-treelist-collapsed").length}setAriaExpandedAttribute(e,t){const n=t.isExpanded;this.setAria("expanded",(0,h.O9)(n)&&n.toString(),e)}}ge.registerModule("rows",{defaultOptions:Ne.EJ.defaultOptions,views:{rowsView:Fe}});var je=n(79412);ge.registerModule("contextMenu",je.pL);var We=n(80730);ge.registerModule("errorHandling",We.y);var Ue=n(67106);const Ke="dxTreeList-ariaExpandableInstruction";class ze extends Ue.Oz{constructor(){super(...arguments),this._expandableWidgetAriaId=Ke}_getWidgetAriaLabel(){return"dxTreeList-ariaTreeList"}_toggleBestFitMode(e){super._toggleBestFitMode(e);const t=this._rowsView.getTableElement();t.find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}ge.registerModule("gridView",{defaultOptions:Ue.my.defaultOptions,controllers:Object.assign({},Ue.my.controllers,{resizing:ze}),views:Ue.my.views});var Ge=n(46246);ge.registerModule("headerPanel",Ge.k);var Ye=n(69274),$e=n(94075);ge.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","aiColumn","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","headersKeyboardNavigation","errorHandling","summary","columnFixing","export","toast","gridView"]);class qe extends $e.A{_initMarkup(){super._initMarkup.apply(this,arguments),this.$element().addClass("dx-treelist"),this.getView("gridView").render(this.$element())}static registerModule(){ge.registerModule.apply(ge,arguments)}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>(0,Ye.Nt)(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])}_init(){super._init(),this.option("_disableDeprecationWarnings")||a.A.logHeaderFilterDeprecatedWarningIfNeed(this),ge.processModules(this,ge),ge.callModuleItemsMethod(this,"init")}getGridCoreHelper(){return ge}focus(e){this.getController("keyboardNavigation").focus(e)}}(0,l.A)("dxTreeList",qe);var Xe=qe,Ze=n(94877);const Qe=e=>class extends(Ze.u.extenders.controllers.stateStoring(e)){applyState(e){super.applyState(e),this.option("expandedRowKeys",e.expandedRowKeys?e.expandedRowKeys.slice():[])}},Je=e=>class extends(Ze.u.extenders.controllers.data(e)){getUserState(){const e=super.getUserState();return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}};ge.registerModule("stateStoring",Object.assign({},Ze.u,{extenders:Object.assign({},Ze.u.extenders,{controllers:Object.assign({},Ze.u.extenders.controllers,{stateStoring:Qe,data:Je})})}));var et=n(29644);ge.registerModule("aiColumn",{controllers:{aiColumn:et.N2,aiPromptEditor:et.nF},views:{aiPromptEditorView:et.DD},extenders:{views:{columnHeadersView:et.lG}}});var tt=n(17413);ge.registerModule("columnChooser",tt.CI);var nt=n(43536);const it=e=>class extends((0,nt.o)(e)){isRowExpanded(){return this.isRowExpandedHack.apply(this,arguments)}_processItems(){return this._processItemsHack.apply(this,arguments)}_processDataItem(){return this._processDataItemHack.apply(this,arguments)}};ge.registerModule("masterDetail",(0,u.X)(!0,{},nt.g,{extenders:{controllers:{data:it}}}));var ot=n(4362);ge.registerModule("editorFactory",ot.k);var rt=n(83416);class st extends rt.l.controllers.editing{_generateNewItem(e){const t=super._generateNewItem(e);return t.data={key:e},t.children=[],t.level=0,t.parentKey=this.option("rootValue"),t}_isProcessedItem(){return!0}_setInsertAfterOrBeforeKey(e,t){const n=this._dataController.dataSource(),i=t||(null===n||void 0===n?void 0:n.parentKeyOf(e.data));void 0!==i&&i!==this.option("rootValue")?e.insertAfterKey=i:super._setInsertAfterOrBeforeKey.apply(this,arguments)}_getLoadedRowIndex(e,t){const n=this._dataController.dataSource(),i=null===n||void 0===n?void 0:n.parentKeyOf(t.data);if(void 0!==i&&i!==this.option("rootValue")){const t=a.A.getIndexByKey(i,e);return t>=0&&this._dataController.isRowExpanded(i)?super._getLoadedRowIndex.apply(this,arguments):-1}return super._getLoadedRowIndex.apply(this,arguments)}_isEditColumnVisible(){const e=super._isEditColumnVisible.apply(this,arguments),t=this.option("editing");return e||t.allowAdding}_isDefaultButtonVisible(e,t){const n=super._isDefaultButtonVisible.apply(this,arguments),{row:i}=t;return"add"===e.name?this.allowAdding(t)&&i.rowIndex!==this._getVisibleEditRowIndex()&&!(i.removed||i.isNewRow):n}_getEditingButtons(e){const t=super._getEditingButtons.apply(this,arguments);return e.column.buttons||t.unshift(this._getButtonConfig("add",e)),t}_beforeSaveEditData(e){const t=super._beforeSaveEditData.apply(this,arguments);if(e&&"insert"!==e.type){var n;const e=null===(n=this._dataController)||void 0===n?void 0:n.store(),t=null===e||void 0===e?void 0:e.key();if(!(0,h.O9)(t))throw Se.A.Error("E1045")}return t}addRowByRowIndex(e){const t=this._dataController.getVisibleRows()[e];return this.addRow(t?t.key:void 0)}addRow(e){return void 0===e&&(e=this.option("rootValue")),super.addRow.call(this,e)}_addRowCore(e,t,n){const i=this.option("rootValue"),o=this._dataController.dataSource(),r=o.createParentIdGetter();if(t=r(e),void 0!==t&&t!==i&&!this._dataController.isRowExpanded(t)){const i=new ve.cY;return this._dataController.expandRow(t).done(()=>{setTimeout(()=>{super._addRowCore.call(this,e,t,n).done(i.resolve).fail(i.reject)})}).fail(i.reject),i.promise()}return super._addRowCore.call(this,e,t,n)}_initNewRow(e,t){const n=this._dataController.dataSource(),i=n.createParentIdSetter();return i(e.data,t),super._initNewRow.apply(this,arguments)}allowAdding(e){return this._allowEditAction("allowAdding",e)}_needToCloseEditableCell(e){return super._needToCloseEditableCell.apply(this,arguments)||e.closest(".dx-treelist-icon-container").length&&this.isEditing()}getButtonLocalizationNames(){const e=super.getButtonLocalizationNames.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}const at=e=>class extends(rt.l.extenders.views.rowsView(e)){_renderCellCommandContent(e,t){const n=this._editingController,i=t.row&&n.isEditRow(t.row.rowIndex),o=t.isEditing||i;return!t.isOnForm&&!o&&super._renderCellCommandContent.apply(this,arguments)}validateClick(e){const t=(0,c.A)(e.event.target),n="dxdblclick"===e.event.type?super._rowDblClick:super._rowClick;return!t.closest(".dx-select-checkbox").length&&!this.needToCallOriginalClickHandler(e,n)}needToCallOriginalClickHandler(e,t){const n=(0,c.A)(e.event.target);return!n.closest(".dx-treelist-icon-container").length&&(t.call(this,e),!0)}_rowClick(e){this.validateClick(e)&&super._rowClickTreeListHack.apply(this,arguments)}_rowDblClick(e){this.validateClick(e)&&super._rowDblClickTreeListHack.apply(this,arguments)}},lt=e=>class extends((0,rt.B)(e)){changeRowExpand(){return this._editingController.refresh(),super.changeRowExpand.apply(this,arguments)}};ge.registerModule("editing",{defaultOptions:()=>(0,u.X)(!0,rt.l.defaultOptions(),{editing:{texts:{addRowToNode:E.A.format("dxTreeList-editingAddRowToNode")}}}),controllers:{editing:st},extenders:{controllers:{data:lt},views:{rowsView:at,headerPanel:rt.l.extenders.views.headerPanel}}});var ct=n(29219);ge.registerModule("editingRowBased",ct.a);var dt=n(80141);ge.registerModule("editingFormBased",dt.I);var ut=n(79995);ge.registerModule("editingCellBased",ut.W);var pt=n(71768);const ht=e=>class extends(pt.WY.extenders.controllers.editing(e)){processDataItem(e){super.processDataItemTreeListHack.apply(this,arguments)}processItems(e,t){return super.processItemsTreeListHack.apply(this,arguments)}};ge.registerModule("validating",{defaultOptions:pt.WY.defaultOptions,controllers:pt.WY.controllers,extenders:{controllers:{editing:ht,editorFactory:pt.WY.extenders.controllers.editorFactory},views:pt.WY.extenders.views}});var gt=n(72717);const ft=gt.f4.defaultOptions;gt.f4.extenders.views.rowsView=e=>class extends((0,gt.bV)(e)){_handleDataChanged(e){const{operationTypes:t}=e;if(null!==e&&void 0!==e&&e.isDataChanged&&a.A.isVirtualRowRendering(this)&&t){const{fullReload:e,pageIndex:n}=t;!e&&n&&this._updateContentPosition()}super._handleDataChanged(e)}},gt.f4.extenders.controllers.data=e=>class extends((0,gt.p)(e)){_loadOnOptionChange(){var e;const t=null===(e=this._dataSource)||void 0===e?void 0:e._virtualScrollController;null===t||void 0===t||t.reset(),super._loadOnOptionChange()}};const mt=e=>class extends((0,gt.yo)(e)){changeRowExpand(){return super.changeRowExpand.apply(this,arguments).done(()=>{const e=this.getViewportItemIndex();e>=0&&this.setViewportItemIndex(e)})}};ge.registerModule("virtualScrolling",Object.assign({},gt.f4,{defaultOptions:()=>(0,u.X)(!0,ft(),{scrolling:{mode:"virtual"}})})),xe.extend(mt);var yt=n(74714);ge.registerModule("filterRow",yt.$);var vt=n(52042);ge.registerModule("headerFilter",vt.Qy);var Tt=n(68260);ge.registerModule("filterSync",Tt.a);var _t=n(91762);ge.registerModule("filterBuilder",_t.s);var kt=n(60915);ge.registerModule("filterPanel",kt.$);var bt=n(90986);ge.registerModule("pager",bt.um);var wt=n(11810);ge.registerModule("columnsResizingReordering",wt.Qu);var St=n(24860);ge.registerModule("stickyColumns",St.x);var Ct=n(31236);ge.registerModule("columnFixing",Ct.o);var Dt=n(68350);ge.registerModule("adaptivity",Dt.A);var It=n(51592);const Et="dx-treelist-select-checkbox-container",At=function(e,t){return!!e.filter(e=>e===t).length},Mt=e=>class extends((0,It.Py)(e)){_handleDataChanged(e){const t=this._selectionController.isRecursiveSelection();!t||e&&"updateSelectionState"===e.changeType||this._selectionController.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),super._handleDataChanged.apply(this,arguments)}loadDescendants(){const e=this,t=super.loadDescendants.apply(e,arguments),n=this._selectionController.isRecursiveSelection();return n&&t.done(()=>{this._selectionController.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})}),t}},Pt=e=>class extends e{constructor(){super(...arguments),this._updateSelectColumn=ye.lQ}init(){super.init.apply(this,arguments),this._selectionStateByKey={}}_getSelectionConfig(){const e=super._getSelectionConfig.apply(this,arguments),{plainItems:t}=e;return e.plainItems=e=>{let n;return e&&(n=this._dataController.getCachedStoreData()),n||(n=t.apply(this,arguments).map(e=>e.data)),n||[]},e.isItemSelected=e=>{const t=this._dataController.keyOf(e);return this.isRowSelected(t)},e.isSelectableItem=e=>!!e,e.getItemData=e=>e,e.allowLoadByRange=void 0,e}renderSelectCheckBoxContainer(e,t){const n=this.component.getView("rowsView"),i=n._renderSelectCheckBox(e,{value:t.row.isSelected,row:t.row,column:t.column});n._attachCheckBoxClickEvent(i)}_getSelectAllNodeKeys(){const{component:e}=this,t=e.getRootNode(),n={},i=[],o=this.isRecursiveSelection();return t&&ge.foreachNodes(t.children,t=>(void 0!==t.key&&(t.visible||o)&&i.push(t.key),!t.visible||!o&&e.isRowExpanded(t.key,n))),i}isSelectAll(){const e=this.option("selectedRowKeys")||[];if(0===e.length)return!1;const{component:t}=this,n=this._getSelectAllNodeKeys(),i=this.isRecursiveSelection();let o=!1;const r=n.filter(e=>{const n=t.isRowSelected(e,i);return void 0===n&&(o=!0),n});return r.length?r.length===n.length||void 0:!!o&&void 0}selectAll(){const e=this._getSelectAllNodeKeys().filter(e=>!this.isRowSelected(e));return this.focusedItemIndex(-1),this.selectRows(e,!0)}deselectAll(){const e=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(e)}selectedItemKeys(e,t,n,i){const o=this,r=o.option("selectedRowKeys"),s=this.isRecursiveSelection(),a=s&&o._normalizeSelectionArgs({keys:(0,h.O9)(e)?e:[]},t,!n);return a&&!(0,ye.RL)(a.selectedRowKeys,r)?(o._isSelectionNormalizing=!0,super.selectedItemKeys(a.selectedRowKeys,!1,!1,!1).always(()=>{o._isSelectionNormalizing=!1}).done(e=>{a.selectedRowsData=e,o._fireSelectionChanged(a)})):super.selectedItemKeys(e,t,n,i)}changeItemSelection(e,t,n){const i=this.isRecursiveSelection(),o=super.changeItemSelection.bind(this);if(i&&!t.shift){const n=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(n,!0,this.isRowSelected(n)).done(()=>{this.isRowSelected(n)&&o(e,t,!0)})}return super.changeItemSelection.apply(this,arguments)}_updateParentSelectionState(e,t){const n=this;let i=t;const o=e.parent;if(o){if(o.children.length>1)if(!1===t){const e=o.children.some(e=>n._selectionStateByKey[e.key]);i=!!e&&void 0}else if(!0===t){const e=o.children.some(e=>!n._selectionStateByKey[e.key]);i=!e||void 0}this._selectionStateByKey[o.key]=i,o.parent&&o.parent.level>=0&&this._updateParentSelectionState(o,i)}}_updateChildrenSelectionState(e,t){const n=this,{children:i}=e;i&&i.forEach(e=>{n._selectionStateByKey[e.key]=t,e.children.length>0&&n._updateChildrenSelectionState(e,t)})}_updateSelectionStateCore(e,t){const n=this._dataController;this._selectionStateByKey={};for(let i=0;i<e.length;i++){this._selectionStateByKey[e[i]]=t;const o=n.getNodeByKey(e[i]);o&&(this._updateParentSelectionState(o,t),this._updateChildrenSelectionState(o,t))}}_getSelectedParentKeys(e,t,n){let i;const o=this._dataController.getNodeByKey(e);let r=o&&o.parent,s=[];while(r&&r.level>=0){s.unshift(r.key);const e=n?!At(t,r.key)&&this.isRowSelected(r.key):t.indexOf(r.key)>=0;if(e){i=r,s=this._getSelectedParentKeys(i.key,t,n).concat(s);break}if(n)break;r=r.parent}return i&&s||[]}_getSelectedChildKeys(e,t){const n=[],i=this._dataController.getNodeByKey(e);return i&&ge.foreachNodes(i.children,e=>{const i=t.indexOf(e.key);return i<0&&n.push(e.key),i>0||i<0&&void 0===this._selectionStateByKey[e.key]}),n}_normalizeParentKeys(e,t){const n=this;let i=[e];const o=n._getSelectedParentKeys(e,t.selectedRowKeys);if(o.length){i=i.concat(o),i.forEach(e=>{const n=t.selectedRowKeys.indexOf(e);n>=0&&t.selectedRowKeys.splice(n,1)});const e=n._getSelectedChildKeys(o[0],i);t.selectedRowKeys=t.selectedRowKeys.concat(e)}}_normalizeChildrenKeys(e,t){const n=this._dataController.getNodeByKey(e);n&&n.children.forEach(e=>{const n=t.selectedRowKeys.indexOf(e.key);n>=0&&t.selectedRowKeys.splice(n,1),this._normalizeChildrenKeys(e.key,t)})}_normalizeSelectedRowKeysCore(e,t,n,i){const o=this;e.forEach(e=>{if(n&&o.isRowSelected(e)===i)return;o._normalizeChildrenKeys(e,t);const r=t.selectedRowKeys.indexOf(e);i?(r<0&&t.selectedRowKeys.push(e),t.currentSelectedRowKeys.push(e)):(r>=0&&t.selectedRowKeys.splice(r,1),t.currentDeselectedRowKeys.push(e),o._normalizeParentKeys(e,t))})}_normalizeSelectionArgs(e,t,n){let i;const o=Array.isArray(e.keys)?e.keys:[e.keys],r=this.option("selectedRowKeys")||[];return o.length&&(i={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:t?r.slice(0):[]},this._normalizeSelectedRowKeysCore(o,i,t,n)),i}_updateSelectedItems(e){this.updateSelectionState(e),super._updateSelectedItems(e)}_fireSelectionChanged(){this._isSelectionNormalizing||super._fireSelectionChanged.apply(this,arguments)}_isModeLeavesOnly(e){return"leavesOnly"===e}_removeDuplicatedKeys(e){const t=[],n={};return e.forEach(e=>{n[e]||(n[e]=!0,t.push(e))}),t}_getAllChildKeys(e){const t=[],n=this._dataController.getNodeByKey(e);return n&&ge.foreachNodes(n.children,e=>{t.push(e.key)},!0),t}_getAllSelectedRowKeys(e){let t=[];return e.forEach(e=>{const n=this._getSelectedParentKeys(e,[],!0),i=this._getAllChildKeys(e);t.push.apply(t,n.concat([e],i))}),t=this._removeDuplicatedKeys(t),t}_getParentSelectedRowKeys(e){const t=this,n=[];return e.forEach(i=>{const o=t._getSelectedParentKeys(i,e);!o.length&&n.push(i)}),n}_getLeafSelectedRowKeys(e){const t=[],n=this._dataController;return e.forEach(e=>{const i=n.getNodeByKey(e);i&&!i.hasChildren&&t.push(e)}),t}isRecursiveSelection(){const e=this.option("selection.mode"),t=this.option("selection.recursive");return"multiple"===e&&t}updateSelectionState(e){const t=e.removedItemKeys||[],n=e.selectedItemKeys||[];this.isRecursiveSelection()&&(this._updateSelectionStateCore(t,!1),this._updateSelectionStateCore(n,!0))}isRowSelected(e,t){const n=super.isRowSelected.apply(this,arguments);return t=t??this.isRecursiveSelection(),!n&&t?e in this._selectionStateByKey&&this._selectionStateByKey[e]:n}getSelectedRowKeys(e){const t=this;if(!t._dataController)return[];let n=super.getSelectedRowKeys.apply(t,arguments);return e&&(this.isRecursiveSelection()&&(n=this._getAllSelectedRowKeys(n)),"all"!==e&&("excludeRecursive"===e?n=t._getParentSelectedRowKeys(n):t._isModeLeavesOnly(e)&&(n=t._getLeafSelectedRowKeys(n)))),n}getSelectedRowsData(e){const t=this._dataController,n=this.getSelectedRowKeys(e)||[],i=[];return n.forEach(e=>{const n=t.getNodeByKey(e);n&&i.push(n.data)}),i}refresh(){return this._selectionStateByKey={},super.refresh.apply(this,arguments)}},xt=e=>class extends((0,It.tO)(e)){_processTemplate(e,t){const n=this;let i;const o=super._processTemplate(e,t),r=n._columnsController.getFirstDataColumnIndex();return i=o&&"header"===t.rowType&&t.column.index===r?{render(e){o.render(e),"multiple"===n.option("selection.mode")&&n.renderSelectAll(e.container,e.model)}}:o,i}_renderSelectAllCheckBox(e){const t=(0,c.A)("<div>").addClass(Et),n=this._createSelectAllCheckboxElement();return n.appendTo(t),t.prependTo(e),n}renderSelectAll(e,t){e.addClass("dx-treelist-select-all"),this._renderSelectAllCheckBox(e)}_isSortableElement(e){return super._isSortableElement(e)&&!e.closest(".dx-select-checkbox").length}},Ot=e=>class extends((0,It.$O)(e)){_renderIcons(e,t){const n=super._renderIcons(e,t),i="multiple"===this.option("selection.mode");if(!t.row.isNewRow&&i){const e=(0,c.A)("<div>").addClass(Et);e.appendTo(n),this._selectionController.renderSelectCheckBoxContainer(e,t)}return n}_rowClick(e){const t=(0,c.A)(e.event.target);this.isExpandIcon(t)?super._rowClickForTreeList.apply(this,arguments):super._rowClick.apply(this,arguments)}};ge.registerModule("selection",(0,u.X)(!0,{},It.nx,{defaultOptions:()=>(0,u.X)(!0,It.nx.defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}}),extenders:{controllers:{data:Mt,selection:Pt},views:{columnHeadersView:xt,rowsView:Ot}}}));var Rt=n(42814);ge.registerModule("search",Rt.J);var Lt=n(15551),Nt=n(98026);const Ht=e=>class extends((0,Nt.g)(e)){_leftRightKeysHandler(e,t){const n=this.getVisibleRowIndex(),i=this._dataController;if(!e.ctrl)return super._leftRightKeysHandler.apply(this,arguments);{const t=this._getDirectionCodeByKey(e.keyName),o=i.getKeyByRowIndex(n);"nextInRow"===t?i.expandRow(o):i.collapseRow(o)}}};ge.registerModule("keyboardNavigation",(0,u.X)(!0,{},Lt.S,{extenders:{controllers:{keyboardNavigation:Ht}}}));var Bt=n(8782);ge.registerModule("headersKeyboardNavigation",Bt.O);var Vt=n(58166);ge.registerModule("virtualColumns",Vt.j);var Ft=n(48597);function jt(e,t){let n=-1;return e.forEach((e,i)=>{t(e)&&(n=i)}),n}const Wt=e=>class extends(Ft.h.extenders.controllers.data(e)){changeRowExpand(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),super.changeRowExpand.apply(this,arguments)}_isFocusedRowInside(e){const t=this.option("focusedRowKey"),n=this.getRowIndexByKey(t),i=n>=0&&this.getVisibleRows()[n];let o=i&&i.node.parent;while(o){if(o.key===e)return!0;o=o.parent}return!1}getParentKey(e){const t=this._dataSource,n=this.getNodeByKey(e),i=new ve.cY;return n?i.resolve(n.parent?n.parent.key:void 0):t.load({filter:[t.getKeyExpr(),"=",e]}).done(e=>{const n=e[0];n?i.resolve(t.parentKeyOf(n)):i.resolve()}).fail(i.reject),i.promise()}expandAscendants(e){const t=this,n=t._dataSource,i=new ve.cY;return t.getParentKey(e).done(e=>{n&&void 0!==e&&e!==t.option("rootValue")?(n._isNodesInitializing=!0,t.expandRow(e),n._isNodesInitializing=!1,t.expandAscendants(e).done(i.resolve).fail(i.reject)):i.resolve()}).fail(i.reject),i.promise()}getPageIndexByKey(e){const t=this,n=t._dataSource,i=new ve.cY;return t.expandAscendants(e).done(()=>{n.load({parentIds:[]}).done(n=>{const o=jt(n,n=>t.keyOf(n.data)===e);let r=-1;o>=0&&(r=Math.floor(o/t.pageSize())),i.resolve(r)}).fail(i.reject)}).fail(i.reject),i.promise()}};ge.registerModule("focus",Object.assign({},Ft.h,{extenders:Object.assign({},Ft.h.extenders,{controllers:Object.assign({},Ft.h.extenders.controllers,{data:Wt})})}));var Ut=n(54954);ge.registerModule("rowDragging",Ut.e);var Kt=n(66575),zt=n(77186);ge.registerModule("toast",{controllers:{toastViewController:Kt.P},views:{toastView:zt.j}});var Gt=Xe,Yt=Gt;class $t{constructor(e){var t;this.collapsed=!1,this.key=e.key,this.children=e.children.map(e=>e.key),this.parentKey=null===(t=e.parent)||void 0===t?void 0:t.key}hasChildren(){return this.children.length>0}removeChild(e){const t=this.children.indexOf(e.key);t>-1&&(this.children=this.children.splice(t,1))}equal(e){return!(!e||e.key!==this.key||e.parentKey!==this.parentKey)&&(this.children.length===e.children.length&&!this.children.some((t,n)=>t!==e.children[n]))}}class qt{constructor(){this._resetHash()}clear(){this._resetHash()}applyNodes(e,t){this._rootValue!==t&&(this._resetHash(),this._rootValue=t),this._removeNonExistentNodes(e.map(e=>e.key)),e.forEach(e=>this._applyNode(e)),this._validateHash()}saveExpandedState(e){this._hasCollapsed=!1,this._forEachState(t=>{t.hasChildren()&&!e.includes(t.key)&&(t.collapsed=!0,this._hasCollapsed=!0)})}getExpandedKeys(){if(this._hasCollapsed){const e=[];return this._forEachState(t=>{t.hasChildren()&&!t.collapsed&&e.push(t.key)}),e}return null}_resetHash(){this._nodeHash={},this._hasCollapsed=!1}_getNodeState(e){return this._nodeHash[e]}_removeNonExistentNodes(e){e&&this._forEachState(t=>{e.includes(t.key)||this._removeStateWithChildren(t)})}_removeStateWithChildren(e){const t=this._getNodeState(e);if(t){var n;t.children.forEach(e=>this._removeStateWithChildren(e));const i=this._getNodeState(t.parentKey);i&&i.removeChild(t),null===(n=this._nodeHash)||void 0===n||delete n[e]}}_applyNode(e){const t=new $t(e),n=this._getNodeState(e.key);null!==n&&void 0!==n&&n.equal(t)||(this._nodeHash[e.key]=t,this._expandTreelineToNode(e.key))}_expandTreelineToNode(e){const t=this._getNodeState(e);let n=this._getNodeState(null===t||void 0===t?void 0:t.parentKey);while(n)n.collapsed=!1,n=this._getNodeState(n.parentKey)}_validateHash(){Object.keys(this._nodeHash).forEach(e=>{const t=this._getNodeState(e),n=null===t||void 0===t?void 0:t.parentKey;n===this._rootValue||this._getNodeState(n)||this._removeStateWithChildren(e)})}_forEachState(e){Object.keys(this._nodeHash).forEach(t=>{var n;const i=null===(n=this._nodeHash)||void 0===n?void 0:n[t];i&&e(i)})}}const Xt="dx-gantt-collapsable-row";class Zt{constructor(e){this._gantt=e,this._$treeList=this._gantt._$treeList}getTreeList(){const{keyExpr:e,parentIdExpr:t}=this._gantt.option("tasks");return this._treeList=this._gantt._createComponent(this._$treeList,Yt,{dataSource:this.createDataSource(this._gantt._tasksRaw,e),keyExpr:e,filterSyncEnabled:!0,parentIdExpr:t,columns:this.getColumns(),columnResizingMode:"nextColumn",height:this._getHeight(),width:this._gantt.option("taskListWidth"),selection:{mode:H.getSelectionMode(this._gantt.option("allowSelection"))},selectedRowKeys:H.getArrayFromOneElement(this._gantt.option("selectedRowKey")),sorting:this._gantt.option("sorting"),filterRow:this._gantt.option("filterRow"),headerFilter:this._gantt.option("headerFilter"),scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this._gantt.option("showRowLines"),rootValue:this._gantt.option("rootValue"),onContentReady:e=>{this._onContentReady(e)},onSelectionChanged:e=>{this._onSelectionChanged(e)},onRowCollapsed:e=>{this._onRowCollapsed(e)},onRowExpanded:e=>{this._onRowExpanded(e)},onRowPrepared:e=>{this._onRowPrepared(e)},onContextMenuPreparing:e=>{this._onContextMenuPreparing(e)},onRowClick:e=>{this.onRowClick(e)},onRowDblClick:e=>{this.onRowDblClick(e)},onNodesInitialized:()=>{this._onNodesInitialized()},_disableDeprecationWarnings:!0}),this._treeList}onAfterTreeListCreate(){this._postponedGanttInitRequired&&(this._initGanttOnContentReady({component:this._treeList}),delete this._postponedGanttInitRequired)}_onContentReady(e){const t=!!this._treeList;t?this._initGanttOnContentReady(e):this._postponedGanttInitRequired=!0,this._gantt._onTreeListContentReady(e)}_initGanttOnContentReady(e){var t;e.component.getDataSource()&&(this._gantt._initGanttView(),this._initScrollSync(e.component)),this._gantt._sortAndFilter(),null===(t=this._gantt._sizeHelper)||void 0===t||t.updateGanttRowHeights()}_onSelectionChanged(e){var t;const n=e.currentSelectedRowKeys[0];this._gantt._setGanttViewOption("selectedRowKey",n),this._gantt._setOptionWithoutOptionChange("selectedRowKey",n),null===(t=this._gantt._actionsManager)||void 0===t||t.raiseSelectionChangedAction(n)}_onRowCollapsed(e){this._gantt._onTreeListRowExpandChanged(e,!1)}_onRowExpanded(e){this._gantt._onTreeListRowExpandChanged(e,!0)}_onRowPrepared(e){"data"===e.rowType&&e.node.children.length>0&&(0,c.A)(e.rowElement).addClass(Xt)}_onContextMenuPreparing(e){var t,n;if("header"===e.target)return;"data"===(null===(t=e.row)||void 0===t?void 0:t.rowType)&&this.setOption("selectedRowKeys",[e.row.data[this._gantt.option("tasks.keyExpr")]]);const i={cancel:!1,event:e.event,type:"task",key:null===(n=e.row)||void 0===n?void 0:n.key,position:{x:e.event.pageX,y:e.event.pageY}};this._gantt._showPopupMenu(i),e.event.preventDefault()}_getHeight(){return(0,p.Oq)(this._$treeList)?(0,p.Oq)(this._$treeList):(this._gantt._hasHeight=(0,h.O9)(this._gantt.option("height"))&&""!==this._gantt.option("height"),this._gantt._hasHeight?"100%":"")}_initScrollSync(e){const t=e.getScrollable();t&&(t.off("scroll"),t.on("scroll",e=>{this._onScroll(e)}))}_onScroll(e){var t;const n=null===(t=this._gantt._ganttView)||void 0===t?void 0:t.getTaskAreaContainer();n.scrollTop!==e.component.scrollTop()&&(n.scrollTop=e.component.scrollTop())}_correctRowsViewRowHeight(e){var t;const n=null===(t=this._treeList)||void 0===t||null===(t=t._views)||void 0===t?void 0:t.rowsView;(null===n||void 0===n?void 0:n._rowHeight)!==e&&(n._rowHeight=e)}_skipUpdateTreeListDataSource(){const{validation:e}=this._gantt.option();return null===e||void 0===e?void 0:e.autoUpdateParentTasks}selectRows(e){this.setOption("selectedRowKeys",e)}scrollBy(e){var t;const n=null===(t=this._treeList)||void 0===t?void 0:t.getScrollable();if(n){const t=e-n.scrollTop();Math.abs(t)>=2&&n.scrollBy({left:0,top:t})}}updateDataSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._skipUpdateTreeListDataSource()||t)this.setDataSource(e);else if(n){var i;const e=null===(i=this._treeList)||void 0===i?void 0:i.option("dataSource");this._gantt._onParentTasksRecalculated(e)}}setDataSource(e){this.setOption("dataSource",this.createDataSource(e))}createDataSource(e,t){return e&&new de.A({store:new ce.A({data:e,key:t||this.getOption("keyExpr")})})}onRowClick(e){var t;null===(t=this._gantt._actionsManager)||void 0===t||t.raiseTaskClickAction(e.key,e.event)}onRowDblClick(e){var t,n;null!==(t=this._gantt._actionsManager)&&void 0!==t&&t.raiseTaskDblClickAction(e.key,e.event)&&(null===(n=this._gantt._ganttView)||void 0===n||n._ganttViewCore.showTaskEditDialog())}saveExpandedKeys(){const e=this._treeList,t=null===e||void 0===e?void 0:e.getVisibleRows().length;if(t>0){const e=this.getAllNodes(),n=this.getOption("expandedRowKeys"),i=n&&e.length!==t;if(i){const t=this.getNodesState();t.applyNodes(e,this.getOption("rootValue")),t.saveExpandedState(n)}}}_onNodesInitialized(){const e=this.getNodesState(),t=e.getExpandedKeys(),n=this.getAllNodes();e.applyNodes(n,this.getOption("rootValue"));const i=e.getExpandedKeys();if(i&&this.setOption("expandedRowKeys",i),this.isExpandedStateChanged(t,i)){var o;const e=n.reduce((e,t)=>(e[t.key]=!i||i.includes(t.key),e),{});null===(o=this._gantt._ganttView)||void 0===o||o.applyTasksExpandedState(e)}e.clear()}getNodesState(){return this._nodeState||(this._nodeState=new qt),this._nodeState}getAllNodes(){var e,t;const n=null===(e=this._treeList)||void 0===e||null===(e=e.getDataSource())||void 0===e?void 0:e.store();if(!n||null===(t=this._treeList)||void 0===t||!t.getNodeByKey)return[];const i=(0,d.Hz)(n.key());return n._array.map(e=>{var t;return null===(t=this._treeList)||void 0===t?void 0:t.getNodeByKey(i(e))}).filter(e=>!!e)}isExpandedStateChanged(e,t){return(null!==e||null!==t)&&((null===e||void 0===e?void 0:e.length)!==(null===t||void 0===t?void 0:t.length)||e.some((e,n)=>e!==t[n]))}getOffsetHeight(){var e;return null===(e=this._gantt._treeList)||void 0===e?void 0:e.$element().get(0).offsetHeight}getRowHeight(){var e;const t=null===(e=this._treeList)||void 0===e?void 0:e.$element().find(".dx-data-row");let n=null!==t&&void 0!==t&&t.length?(0,ue.N)(null===t||void 0===t?void 0:t.last().get(0)).height:34;return n||(n=34),this._correctRowsViewRowHeight(n),n}getHeaderHeight(){var e;return(0,ue.N)(null===(e=this._treeList)||void 0===e?void 0:e.$element().find(".dx-treelist-headers").get(0)).height}getColumns(){const{columns:e}=this._gantt.option();if(e)for(let t=0;t<e.length;t+=1){const n=e[t],i=n.dataField===this._gantt.option("tasks.keyExpr")||n.dataField===this._gantt.option("tasks.parentIdExpr");i&&!n.dataType&&(n.dataType="object")}return e}getSievedItems(){var e;const t=null===(e=this._treeList)||void 0===e?void 0:e.getRootNode();if(!t)return;const n=[];H.convertTreeToList(t,n);const i=H.compileGettersByOption(this._gantt.option("tasks")),o=this._gantt._validateSourceData("tasks",n),r=o.map(H.prepareMapHandler(i));return r}setOption(e,t){var n;null===(n=this._treeList)||void 0===n||n.option(e,t)}getOption(e){var t;return null===(t=this._treeList)||void 0===t?void 0:t.option(e)}onTaskInserted(e,t){if((0,h.O9)(t)){const e=this.getOption("expandedRowKeys");-1===e.indexOf(t)&&(e.push(t),this.setOption("expandedRowKeys",e))}this.selectRows(H.getArrayFromOneElement(e)),this.setOption("focusedRowKey",e)}getDataSource(){var e;return null===(e=this._treeList)||void 0===e?void 0:e.getDataSource()}}var Qt=n(14086),Jt=n(55565),en=Jt.A,tn=n(70781),nn=n(83112),on=n.n(nn);function rn(){if(!on())throw Se.A.Error("E1041","devexpress-gantt");return on()}var sn=n(54720);class an{constructor(e,t){this._element=e,this._scrollView=t._createComponent(this._element,sn.Ay,{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{t.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(e){const t=e-this._scrollView.scrollTop();0!==t&&this._scrollView.scrollBy({left:0,top:t})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(e){const t=e-this._scrollView.scrollLeft();0!==t&&this._scrollView.scrollBy({left:t,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}const ln="fullScreen";class cn extends _.Ay{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onViewTypeChanged=this._createActionByOption("onViewTypeChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._onPopupMenuHiding=this._createActionByOption("onPopupMenuHiding"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var e;const t=rn();this._ganttViewCore=new t(this.$element().get(0),this,{showResources:this.option("showResources"),showDependencies:this.option("showDependencies"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),startDateRange:this.option("startDateRange"),endDateRange:this.option("endDateRange"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:null===(e=this.option("stripLines"))||void 0===e?void 0:e.map(e=>Object.assign({},e))},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),viewTypeRange:this._parseViewTypeRangeSettings(this.option("scaleTypeRange")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate"),sieve:this.option("sieve")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState();const n=this.option("visualState");n&&(this._restoreStateFrameId=(0,Qt.x)(()=>this._restoreVisualState(n)))}_dispose(){super._dispose(),(0,Qt.u)(this._restoreStateFrameId)}_restoreVisualState(e){e.fullScreen&&this._ganttViewCore.setFullScreenMode()}_getFirstDayOfWeek(e){return(0,h.O9)(e)?e:K.A.firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.getTaskAreaContainer()}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(e){const t=this._ganttViewCore.getCommandByKey(e);t&&t.execute()}changeTaskExpanded(e,t){this._ganttViewCore.changeTaskExpanded(e,t)}updateView(){var e;null===(e=this._ganttViewCore)||void 0===e||e.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(e){this._ganttViewCore.setWidth(e)}_onDimensionChanged(){this._ganttViewCore.onBrowserWindowResize()}_selectTask(e){this._ganttViewCore.selectTaskById(e)}_update(e){var t;null===(t=this._ganttViewCore)||void 0===t||t.updateWithDataReload(e)}_getCultureInfo(){return{monthNames:K.A.getMonthNames("wide"),dayNames:K.A.getDayNames("wide"),abbrMonthNames:K.A.getMonthNames("abbreviated"),abbrDayNames:K.A.getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:this._getAmText(),pmText:this._getPmText(),start:E.A.format("dxGantt-dialogStartTitle"),end:E.A.format("dxGantt-dialogEndTitle"),progress:E.A.format("dxGantt-dialogProgressTitle")}}_getAmText(){return this._hasAmPM()?K.A.getPeriodNames()[0]:""}_getPmText(){return this._hasAmPM()?K.A.getPeriodNames()[1]:""}_hasAmPM(){const e=new Date(Date.UTC(2012,11,12,3,0,0)),t=e.toLocaleTimeString(en.locale());return/am|pm/i.exec(t)||/am|pm/i.exec(e.toString())}_getQuarterNames(){const e=E.A.format("dxGantt-quarter");return e?[(0,tn.GP)(e,1),(0,tn.GP)(e,2),(0,tn.GP)(e,3),(0,tn.GP)(e,4)]:K.A.getQuarterNames()}_getTaskTitlePosition(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(e){switch(e){case"minutes":return 0;case"hours":return 1;case"sixHours":return 2;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}_parseViewTypeRangeSettings(e){return{min:this._getViewTypeByScaleType(e.min),max:this._getViewTypeByScaleType(e.max)}}_optionChanged(e){switch(e.name){case"width":super._optionChanged(e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._sieveOptions=void 0,this._update(!0);break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"showDependencies":this._ganttViewCore.setShowDependencies(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"startDateRange":this._ganttViewCore.setStartDateRange(e.value);break;case"endDateRange":this._ganttViewCore.setEndDateRange(e.value);break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update(!0);break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"scaleTypeRange":this._ganttViewCore.setViewTypeRange(this._getViewTypeByScaleType(e.value.min),this._getViewTypeByScaleType(e.value.max));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:this.option("stripLines")});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(e.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(e.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(e.value);break;case"sieve":this._sortAndFilter(e.value);break;default:super._optionChanged(e)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){const e=this.option("tasks"),t=this.getSieveOptions();return null!==t&&void 0!==t&&t.sievedItems&&null!==t&&void 0!==t&&t.sieveColumn?t.sievedItems:e}_sortAndFilter(e){this._sieveOptions=e,this._update(!(null!==e&&void 0!==e&&e.expandTasks));const t=this.option("selectedRowKey");this._selectTask(t)}getSieveOptions(){return this._sieveOptions}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return null}getExternalTaskAreaContainer(e){return this._taskAreaContainer||(this._taskAreaContainer=new an(e,this)),this._taskAreaContainer}prepareExternalTaskAreaContainer(e,t){var n;null!==t&&void 0!==t&&t.height&&(null===(n=this._taskAreaContainer)||void 0===n||n._scrollView.option("height",t.height))}changeGanttTaskSelection(e,t){var n;null===(n=this._onSelectionChanged)||void 0===n||n.call(this,{id:e,selected:t})}onGanttScroll(e){var t;null===(t=this._onScroll)||void 0===t||t.call(this,{scrollTop:e})}showDialog(e,t,n,i){var o;null===(o=this._onDialogShowing)||void 0===o||o.call(this,{name:e,parameters:t,callback:n,afterClosing:i})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(e){var t;null===(t=this._onPopupMenuShowing)||void 0===t||t.call(this,e)}hidePopupMenu(e){var t;null===(t=this._onPopupMenuHiding)||void 0===t||t.call(this,e)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){var e;null===(e=this._onAdjustControl)||void 0===e||e.call(this)}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){var e;null===(e=this._collapseAll)||void 0===e||e.call(this)}expandAll(){var e;null===(e=this._expandAll)||void 0===e||e.call(this)}onTaskClick(e,t){var n;return null===(n=this._taskClick)||void 0===n||n.call(this,{key:e,event:t}),!0}onTaskDblClick(e,t){var n;return null===(n=this._taskDblClick)||void 0===n?void 0:n.call(this,{key:e,event:t})}onGanttViewContextMenu(e,t,n){return!0}getFormattedDateText(e){let t="";if(e){const n=K.A.format(e,"shortDate"),i=this._hasAmPM()?"hh:mm a":"HH:mm",o=K.A.format(e,i);t=`${n} ${o}`}return t}destroyTemplate(e){(0,c.A)(e).empty()}onTaskAreaSizeChanged(e){var t;const n=null===(t=this._taskAreaContainer)||void 0===t?void 0:t._scrollView;if((0,h.O9)(null===e||void 0===e?void 0:e.height)){var i;const t=(null===e||void 0===e?void 0:e.height)>(null===(i=this._taskAreaContainer)||void 0===i?void 0:i.getHeight())?"both":"horizontal";n.option("direction",t)}}updateGanttViewType(e){var t;null===(t=this._onViewTypeChanged)||void 0===t||t.call(this,{type:e})}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(e){return this.callExportHelperMethod("getTreeListHeaderInfo",e)}getTreeListCellInfo(e,t,n){return this.callExportHelperMethod("getTreeListCellInfo",n,t)}getTreeListEmptyDataCellInfo(){return this.callExportHelperMethod("getTreeListEmptyDataCellInfo")}callExportHelperMethod(e){const t=this.option("exportHelper");for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t[e](...i)}applyTasksExpandedState(e){var t;null===(t=this._ganttViewCore)||void 0===t||t.applyTasksExpandedState(e)}getVisualStateToRestore(){var e,t;return{[ln]:null===(e=this._ganttViewCore)||void 0===e||null===(t=e.isInFullScreenMode)||void 0===t?void 0:t.call(e)}}}var dn=n(15982);const un=(0,g.zk)(),pn="dx-gantt-treelist-wrapper",hn="dx-gantt-toolbar-wrapper",gn="dx-gantt-main-wrapper";class fn extends _.Ay{_init(){super._init(),a.A.logHeaderFilterDeprecatedWarningIfNeed(this),this._initGantt(),this._isGanttRendered=!1,this._initHelpers()}_initGantt(){this._refreshDataSources()}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-gantt"),this._$toolbarWrapper=(0,c.A)("<div>").addClass(hn).appendTo(this.$element()),this._$toolbar=(0,c.A)("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=(0,c.A)("<div>").addClass(gn).appendTo(this.$element()),this._$treeListWrapper=(0,c.A)("<div>").addClass(pn).appendTo(this._$mainWrapper),this._$treeList=(0,c.A)("<div>").appendTo(this._$treeListWrapper),this._$splitter=(0,c.A)("<div>").appendTo(this._$mainWrapper),this._$ganttView=(0,c.A)("<div>").addClass("dx-gantt-view").appendTo(this._$mainWrapper),this._$dialog=(0,c.A)("<div>").appendTo(this.$element()),this._$loadPanel=(0,c.A)("<div>").appendTo(this.$element()),this._$contextMenu=(0,c.A)("<div>").appendTo(this.$element())}_clean(){var e,t;this._savedGanttViewState=null===(e=this._ganttView)||void 0===e?void 0:e.getVisualStateToRestore(),null===(t=this._ganttView)||void 0===t||t._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,delete this._loadPanel,delete this._exportHelper,super._clean()}_refresh(){this._isGanttRendered=!1,this._contentReadyRaised=!1,super._refresh()}_fireContentReadyAction(){this._contentReadyRaised||super._fireContentReadyAction(),this._contentReadyRaised=!0}_dimensionChanged(){var e;null===(e=this._ganttView)||void 0===e||e._onDimensionChanged()}_visibilityChanged(e){e&&this._refreshGantt()}_refreshGantt(){this._refreshDataSources(),setTimeout(()=>this._refresh())}_refreshDataSources(){this._refreshDataSource("tasks"),this._refreshDataSource("dependencies"),this._refreshDataSource("resources"),this._refreshDataSource("resourceAssignments")}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){this._ganttTreeList=new Zt(this),this._treeList=this._ganttTreeList.getTreeList(),this._ganttTreeList.onAfterTreeListCreate()}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,S,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:e=>{var t;null===(t=this._sizeHelper)||void 0===t||t.onApplyPanelSize(e)}});const{taskListWidth:e}=this.option();this._splitter.option("initialLeftPanelWidth",e)}_renderBars(){this._bars=[],this._toolbar=new R(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new L(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initHelpers(){this._mappingHelper=new re(this),this._customFieldsManager=new B(this),this._actionsManager=new I(this),this._ganttTemplatesManager=new le(this),this._sizeHelper=new ae(this),this._dataProcessingHelper=new U}_initGanttView(){var e,t,n,i,o,r,s;if(this._ganttView)return;const{allowSelection:a,selectedRowKey:l,showResources:c,showDependencies:d,startDateRange:u,endDateRange:p,taskTitlePosition:h,firstDayOfWeek:g,showRowLines:f,scaleType:m,scaleTypeRange:y,editing:v,validation:T,stripLines:_,taskTooltipContentTemplate:k,taskProgressTooltipContentTemplate:b,taskTimeTooltipContentTemplate:w,taskContentTemplate:S}=this.option();this._ganttView=this._createComponent(this._$ganttView,cn,{width:"100%",height:null===(e=this._ganttTreeList)||void 0===e?void 0:e.getOffsetHeight(),rowHeight:null===(t=this._ganttTreeList)||void 0===t?void 0:t.getRowHeight(),headerHeight:null===(n=this._ganttTreeList)||void 0===n?void 0:n.getHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:a,selectedRowKey:l,showResources:c,showDependencies:d,startDateRange:u,endDateRange:p,taskTitlePosition:h,firstDayOfWeek:g,showRowLines:f,scaleType:m,scaleTypeRange:y,editing:v,validation:T,stripLines:null===_||void 0===_?void 0:_.map(e=>Object.assign({},e)),bars:this._bars,mainElement:this.$element(),onSelectionChanged:e=>{var t;null===(t=this._ganttTreeList)||void 0===t||t.selectRows(H.getArrayFromOneElement(e.id))},onViewTypeChanged:e=>{this._onViewTypeChanged(e.type)},onScroll:e=>{var t;null===(t=this._ganttTreeList)||void 0===t||t.scrollBy(e.scrollTop)},onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onPopupMenuHiding:this._hidePopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:se.create(this),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:null===(i=this._ganttTemplatesManager)||void 0===i?void 0:i.getTaskTooltipContentTemplateFunc(k),taskProgressTooltipContentTemplate:null===(o=this._ganttTemplatesManager)||void 0===o?void 0:o.getTaskProgressTooltipContentTemplateFunc(b),taskTimeTooltipContentTemplate:null===(r=this._ganttTemplatesManager)||void 0===r?void 0:r.getTaskTimeTooltipContentTemplateFunc(w),taskContentTemplate:null===(s=this._ganttTemplatesManager)||void 0===s?void 0:s.getTaskContentTemplateFunc(S),onTaskClick:e=>{var t;null===(t=this._ganttTreeList)||void 0===t||t.onRowClick(e)},onTaskDblClick:e=>{var t;null===(t=this._ganttTreeList)||void 0===t||t.onRowDblClick(e)},onAdjustControl:()=>{var e;null===(e=this._sizeHelper)||void 0===e||e.onAdjustControl()},onContentReady:this._onGanttViewContentReady.bind(this),visualState:this._savedGanttViewState}),delete this._savedGanttViewState}_onGanttViewContentReady(e){this._isParentAutoUpdateMode()||this._fireContentReadyAction()}_isParentAutoUpdateMode(){const{validation:e={}}=this.option()??{};return null===e||void 0===e?void 0:e.autoUpdateParentTasks}_onTreeListContentReady(e){var t;this._isParentAutoUpdateMode()&&this._treeListParentRecalculatedDataUpdating&&this._fireContentReadyAction(),delete this._treeListParentRecalculatedDataUpdating,null===(t=this._dataProcessingHelper)||void 0===t||t.onTreeListReady()}_onViewTypeChanged(e){var t;this.option("scaleType",null===(t=this._actionsManager)||void 0===t?void 0:t._getScaleType(e))}_refreshDataSource(e){let t=this[`_${e}Option`];t&&(t.dispose(),delete this[`_${e}Option`],delete this[`_${e}`]),t=new W(e,this._getLoadPanel.bind(this),(e,t)=>{this._dataSourceChanged(e,t)}),t.option("dataSource",this._getSpecificDataSourceOption(e)),t._refreshDataSource(),this[`_${e}Option`]=t}_getSpecificDataSourceOption(e){const t=this.option(`${e}.dataSource`);return!t||Array.isArray(t)?{store:{type:"array",data:t??[],key:this.option(`${e}.keyExpr`)}}:t}_dataSourceChanged(e,t){const n=H.compileGettersByOption(this.option(e)),i=this._validateSourceData(e,t),o=i.map(H.prepareMapHandler(n));if(this[`_${e}`]=o,this._setGanttViewOption(e,o),"tasks"===e){var r,s,a;this._tasksRaw=i;const e=!(null!==(r=this._ganttTreeList)&&void 0!==r&&r.getDataSource())&&!this._ganttView;null===(s=this._ganttTreeList)||void 0===s||s.saveExpandedKeys(),null===(a=this._ganttTreeList)||void 0===a||a.updateDataSource(i,e)}}_validateSourceData(e,t){return t&&"tasks"===e?this._validateTaskData(t):t}_validateTaskData(e){const t=(0,d.Hz)(this.option("tasks.keyExpr")),n=(0,d.Hz)(this.option("tasks.parentIdExpr")),i=this.option("rootValue")??"dx_dxt_gantt_default_root_value",o={};for(let s=0;s<e.length;s+=1){const r=e[s];if(r){const e=t(r),s=e===i,a=o[e]??(o[e]={key:e,children:[]});if(!s){const e=n(r)??i,t=o[e]??(o[e]={key:e,children:[]});t.children.push(a),a.parent=t}}}const r=[i];return this._appendChildKeys(o[i],r),e.filter(e=>r.includes(t(e)))}_appendChildKeys(e,t){const n=null===e||void 0===e?void 0:e.children;for(let i=0;i<(null===n||void 0===n?void 0:n.length);i+=1){const e=n[i];t.push(e.key),this._appendChildKeys(e,t)}}_onRecordInserted(e,t,n){const i=this[`_${e}Option`];if(i){const r=H.getStoreObject(this.option(e),t),s="tasks"===e;var o;if(s)null===(o=this._customFieldsManager)||void 0===o||o.addCustomFieldsDataFromCache("gantt_new_task_key",r);i.insert(r,o=>{var a,l;const c=(0,d.Hz)(this.option(`${e}.keyExpr`)),u=c(o);n(u),this._executeFuncSetters(e,t,u),null===(a=this._dataProcessingHelper)||void 0===a||a.addCompletionAction(()=>{var t;null===(t=this._actionsManager)||void 0===t||t.raiseInsertedAction(e,r,u)},!0,s),null===(l=this._ganttTreeList)||void 0===l||l.saveExpandedKeys(),i._reloadDataSource().done(()=>{var e;s&&(null===(e=this._ganttTreeList)||void 0===e||e.onTaskInserted(u,t.parentId))})})}}_onRecordUpdated(e,t,n){const i=this[`_${e}Option`],o="tasks"===e;if(i){var r,s;const l=null===(r=this._mappingHelper)||void 0===r?void 0:r.convertCoreToMappedData(e,n),c=o&&(null===(s=this._customFieldsManager)||void 0===s?void 0:s.cache.hasData(t));var a;if(c)null===(a=this._customFieldsManager)||void 0===a||a.addCustomFieldsDataFromCache(t,l);i.update(t,l,()=>{var r,s;this._executeFuncSetters(e,n,t),null===(r=this._ganttTreeList)||void 0===r||r.saveExpandedKeys(),null===(s=this._dataProcessingHelper)||void 0===s||s.addCompletionAction(()=>{var n;null===(n=this._actionsManager)||void 0===n||n.raiseUpdatedAction(e,l,t)},!0,o),i._reloadDataSource()})}}_onRecordRemoved(e,t,n){const i=this[`_${e}Option`];i&&i.remove(t,()=>{var o,r;null===(o=this._ganttTreeList)||void 0===o||o.saveExpandedKeys(),null===(r=this._dataProcessingHelper)||void 0===r||r.addCompletionAction(()=>{var i,o;null===(i=this._actionsManager)||void 0===i||i.raiseDeletedAction(e,t,null===(o=this._mappingHelper)||void 0===o?void 0:o.convertCoreToMappedData(e,n))},!0,"tasks"===e),i._reloadDataSource()})}_onParentTaskUpdated(e){var t;const n=this.getTaskDataByCoreData(e);null===(t=this._actionsManager)||void 0===t||t.raiseUpdatedAction("tasks",n,e.id)}_onParentTasksRecalculated(e){if(!this.isSieving){var t;const n=H.compileSettersByOption(this.option("tasks")),i=null===(t=this._customFieldsManager)||void 0===t?void 0:t.appendCustomFields(e.map(H.prepareSetterMapHandler(n)));setTimeout(()=>{var e;this._treeListParentRecalculatedDataUpdating=!0,null===(e=this._ganttTreeList)||void 0===e||e.setDataSource(i)})}this.isSieving=!1}_onGanttViewCoreUpdated(){var e;null===(e=this._dataProcessingHelper)||void 0===e||e.onGanttViewReady()}_executeFuncSetters(e,t,n){const i=H.compileFuncSettersByOption(this.option(e)),o=Object.keys(i).filter(e=>(0,h.O9)(t[e]));if(o.length>0){const r=this._getDataSourceItem(e,n);o.forEach(e=>{const n=i[e];n(r,t[e])})}}_sortAndFilter(){var e,t,n;const i=this._treeList,o=null===i||void 0===i?void 0:i.getColumns(),r=o.filter(e=>e.sortIndex>-1),s=r.map(e=>({sortIndex:e.sortIndex,sortOrder:e.sortOrder})),a=!this._compareSortedState(null===(e=this._savedSortFilterState)||void 0===e?void 0:e.sort,s),l=null===i||void 0===i?void 0:i.option("filterValue"),c=(null===i||void 0===i?void 0:i.option("expandNodesOnFiltering"))&&l!==(null===(t=this._savedSortFilterState)||void 0===t?void 0:t.filter),d=r[0]||o.filter(e=>{var t;return(0,h.O9)(e.filterValue)||(null===(t=e.filterValues)||void 0===t?void 0:t.length)})[0],u=(null===(n=this._savedSortFilterState)||void 0===n?void 0:n.sieveColumn)&&!d;if(d||u){var p;const e=d&&{sievedItems:null===(p=this._ganttTreeList)||void 0===p?void 0:p.getSievedItems(),sieveColumn:d,expandTasks:c||l&&a};this.isSieving=!u,this._setGanttViewOption("sieve",e)}this._savedSortFilterState={sort:s,filter:l,sieveColumn:d}}_compareSortedState(e,t){return!(!e||!t||e.length!==t.length)&&e.every((e,n)=>e.sortIndex===t[n].sortIndex&&e.sortOrder===t[n].sortOrder)}_getToolbarItems(){const{toolbar:e}=this.option();return(null===e||void 0===e?void 0:e.items)||[]}_updateToolbarContent(){var e;const t=this._getToolbarItems();null!==t&&void 0!==t&&t.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),null===(e=this._toolbar)||void 0===e||e.createItems(t),this._updateBarItemsState()}_updateContextMenu(){const{contextMenu:e}=this.option();null!==e&&void 0!==e&&e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(null===e||void 0===e?void 0:e.items),this._updateBarItemsState())}_updateBarItemsState(){var e;null===(e=this._ganttView)||void 0===e||e.updateBarItemsState()}_showDialog(e){this._dialogInstance||(this._dialogInstance=new Q(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}_showPopupMenu(e){if(this.option("contextMenu.enabled")){var t,n,i;null===(t=this._ganttView)||void 0===t||t.getBarManager().updateContextMenu();const r={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:(0,u.X)(!0,[],null===(n=this._contextMenuBar)||void 0===n?void 0:n._items),data:"task"===e.type?this.getTaskData(e.key):this.getDependencyData(e.key)};var o;if(null===(i=this._actionsManager)||void 0===i||i.raiseContextMenuPreparing(r),!r.cancel)null===(o=this._contextMenuBar)||void 0===o||o.show(e.position,r.items)}}_hidePopupMenu(){var e;null===(e=this._contextMenuBar)||void 0===e||e.hide()}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,dn.A,{position:{of:this.$element()}})),this._loadPanel}_getTaskKeyGetter(){return this._getDataSourceItemKeyGetter("tasks")}_findTaskByKey(e){return this._getDataSourceItem("tasks",e)}_getDataSourceItem(e,t){const n=this[`_${e}Option`],i=this._getDataSourceItemKeyGetter(e),o=null===n||void 0===n?void 0:n._getItems();return o.find(e=>i(e)===t)}_getDataSourceItemKeyGetter(e){return(0,d.Hz)(this.option(`${e}.keyExpr`))}_setGanttViewOption(e,t){var n;null===(n=this._ganttView)||void 0===n||n.option(e,t)}_getGanttViewOption(e,t){var n;return null===(n=this._ganttView)||void 0===n?void 0:n.option(e)}_getExportHelper(){return this._exportHelper??(this._exportHelper=new ie(this)),this._exportHelper}_executeCoreCommand(e){var t;null===(t=this._ganttView)||void 0===t||t.executeCoreCommand(e)}_expandAll(){this._changeExpandAll(!0)}_collapseAll(){this._changeExpandAll(!1)}_onTreeListRowExpandChanged(e,t){var n,i;this._lockRowExpandEvent||(null===(n=this._ganttView)||void 0===n||n.changeTaskExpanded(e.key,t),null===(i=this._sizeHelper)||void 0===i||i.adjustHeight())}_changeExpandAll(e,t,n){var i,o;const r=[],s=[];if(null===(i=this._treeList)||void 0===i||i.forEachNode(e=>{var t;null!==(t=e.children)&&void 0!==t&&t.length&&r.push(e)}),n){var a;const e=null===(a=this._treeList)||void 0===a?void 0:a.getNodeByKey(n);H.getAllParentNodesKeys(e,s)}let l;this._lockRowExpandEvent=r.length>0;const c=r.reduce((i,o,a)=>{var c,d;n?e=s.includes(o.key):t&&(e=o.level<t),i[o.key]=e;const u=e?null===(c=this._treeList)||void 0===c?void 0:c.expandRow:null===(d=this._treeList)||void 0===d?void 0:d.collapseRow,p=a===r.length-1;return p?l=u(o.key):u(o.key),i},{});null===(o=l)||void 0===o||o.then(()=>{var e,t;null===(e=this._ganttView)||void 0===e||e.applyTasksExpandedState(c),null===(t=this._sizeHelper)||void 0===t||t.adjustHeight(),delete this._lockRowExpandEvent})}getTaskResources(e){var t;if(!(0,h.O9)(e))return null;const n=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.getTaskResources(e);return n.map(e=>{var t;return null===(t=this._mappingHelper)||void 0===t?void 0:t.convertCoreToMappedData("resources",e)})}getVisibleTaskKeys(){var e;return null===(e=this._ganttView)||void 0===e?void 0:e._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){var e;return null===(e=this._ganttView)||void 0===e?void 0:e._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){var e;return null===(e=this._ganttView)||void 0===e?void 0:e._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){var e;return null===(e=this._ganttView)||void 0===e?void 0:e._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(e){var t;if(!(0,h.O9)(e))return null;const n=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.getTaskData(e),i=this.getTaskDataByCoreData(n);return i}getTaskDataByCoreData(e){var t,n;const i=e?null===(t=this._mappingHelper)||void 0===t?void 0:t.convertCoreToMappedData("tasks",e):null;return null===(n=this._customFieldsManager)||void 0===n||n.addCustomFieldsData(null===e||void 0===e?void 0:e.id,i),i}insertTask(e){var t,n,i;null===(t=this._customFieldsManager)||void 0===t||t.saveCustomFieldsDataToCache("gantt_new_task_key",e),null===(n=this._ganttView)||void 0===n||n._ganttViewCore.insertTask(null===(i=this._mappingHelper)||void 0===i?void 0:i.convertMappedToCoreData("tasks",e))}deleteTask(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.deleteTask(e)}updateTask(e,t){var n,i;const o=null===(n=this._mappingHelper)||void 0===n?void 0:n.convertMappedToCoreData("tasks",t),r=!Object.keys(o).length;if(null===(i=this._customFieldsManager)||void 0===i||i.saveCustomFieldsDataToCache(e,t,!0,r),r){var s;const n=null===(s=this._customFieldsManager)||void 0===s?void 0:s._getCustomFieldsData(t);var a;if(Object.keys(n).length>0)null===(a=this._actionsManager)||void 0===a||a.raiseUpdatingAction("tasks",{cancel:!1,key:e,newValues:{}})}else{var l;null===(l=this._ganttView)||void 0===l||l._ganttViewCore.updateTask(e,o)}}getDependencyData(e){var t,n;if(!(0,h.O9)(e))return null;const i=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.getDependencyData(e);return i?null===(n=this._mappingHelper)||void 0===n?void 0:n.convertCoreToMappedData("dependencies",i):null}insertDependency(e){var t,n;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.insertDependency(null===(n=this._mappingHelper)||void 0===n?void 0:n.convertMappedToCoreData("dependencies",e))}deleteDependency(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.deleteDependency(e)}getResourceData(e){var t,n;const i=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.getResourceData(e);return i?null===(n=this._mappingHelper)||void 0===n?void 0:n.convertCoreToMappedData("resources",i):null}deleteResource(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.deleteResource(e)}insertResource(e,t){var n,i;null===(n=this._ganttView)||void 0===n||n._ganttViewCore.insertResource(null===(i=this._mappingHelper)||void 0===i?void 0:i.convertMappedToCoreData("resources",e),t)}getResourceAssignmentData(e){var t,n;const i=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.getResourceAssignmentData(e);return i?null===(n=this._mappingHelper)||void 0===n?void 0:n.convertCoreToMappedData("resourceAssignments",i):null}assignResourceToTask(e,t){var n;null===(n=this._ganttView)||void 0===n||n._ganttViewCore.assignResourceToTask(e,t)}unassignResourceFromTask(e,t){var n;null===(n=this._ganttView)||void 0===n||n._ganttViewCore.unassignResourceFromTask(e,t)}unassignAllResourcesFromTask(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.unassignAllResourcesFromTask(e)}updateDimensions(){var e;null===(e=this._sizeHelper)||void 0===e||e.onAdjustControl()}scrollToDate(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.scrollToDate(e)}showResourceManagerDialog(){var e;null===(e=this._ganttView)||void 0===e||e._ganttViewCore.showResourcesDialog()}showTaskDetailsDialog(e){var t;null===(t=this._ganttView)||void 0===t||t._ganttViewCore.showTaskDetailsDialog(e)}exportToPdf(e){return this._exportToPdf(e)}_exportToPdf(e){var t,n;null===(t=this._exportHelper)||void 0===t||t.reset();const i=(0,u.X)({},e);return i.createDocumentMethod&&(i.docCreateMethod=i.createDocumentMethod),i.pdfDocument??(i.pdfDocument=i.jsPDFDocument),i.docCreateMethod??(i.docCreateMethod=(null===(n=un.jspdf)||void 0===n?void 0:n.jsPDF)??un.jsPDF),i.format??(i.format="a4"),new Promise(e=>{var t;const n=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.exportToPdf(i);e(n)})}refresh(){return new Promise((e,t)=>{try{this._refreshGantt(),e()}catch(n){t(n.message)}})}expandAll(){this._expandAll()}collapseAll(){this._collapseAll()}expandAllToLevel(e){this._changeExpandAll(!1,e)}expandToTask(e){var t,n;const i=null===(t=this._treeList)||void 0===t?void 0:t.getNodeByKey(e);this._changeExpandAll(!1,0,null===i||void 0===i||null===(n=i.parent)||void 0===n?void 0:n.key)}collapseTask(e){var t;null===(t=this._treeList)||void 0===t||t.collapseRow(e)}expandTask(e){var t;null===(t=this._treeList)||void 0===t||t.expandRow(e)}showResources(e){this.option("showResources",e)}showDependencies(e){this.option("showDependencies",e)}zoomIn(){var e;null===(e=this._ganttView)||void 0===e||e._ganttViewCore.zoomIn()}zoomOut(){var e;null===(e=this._ganttView)||void 0===e||e._ganttViewCore.zoomOut()}_getDefaultOptions(){return(0,u.X)(super._getDefaultOptions(),H.getDefaultOptions())}_optionChanged(e){var t,n,i,o,r,s,a,l,c,d,u,h,g,f,m,y,v,T,_,k,b,w,S,C,D,I,E,A,M,P,x,O,R,L,N,B,V,F,j,W,U,K;const{name:z,fullName:G,value:Y}=e;switch(z){case"tasks":this._refreshDataSource("tasks");break;case"dependencies":this._refreshDataSource("dependencies");break;case"resources":this._refreshDataSource("resources");break;case"resourceAssignments":this._refreshDataSource("resourceAssignments");break;case"columns":null===(t=this._ganttTreeList)||void 0===t||t.setOption("columns",this._ganttTreeList.getColumns());break;case"taskListWidth":null===(n=this._sizeHelper)||void 0===n||n.setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",Y);break;case"showDependencies":this._setGanttViewOption("showDependencies",Y);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",Y);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",Y);break;case"startDateRange":this._setGanttViewOption("startDateRange",Y);break;case"endDateRange":this._setGanttViewOption("endDateRange",Y);break;case"selectedRowKey":null===(i=this._ganttTreeList)||void 0===i||i.selectRows(H.getArrayFromOneElement(Y));break;case"onSelectionChanged":null===(o=this._actionsManager)||void 0===o||o.createSelectionChangedAction();break;case"onTaskClick":null===(r=this._actionsManager)||void 0===r||r.createTaskClickAction();break;case"onTaskDblClick":null===(s=this._actionsManager)||void 0===s||s.createTaskDblClickAction();break;case"onTaskInserting":null===(a=this._actionsManager)||void 0===a||a.createTaskInsertingAction();break;case"onTaskInserted":null===(l=this._actionsManager)||void 0===l||l.createTaskInsertedAction();break;case"onTaskDeleting":null===(c=this._actionsManager)||void 0===c||c.createTaskDeletingAction();break;case"onTaskDeleted":null===(d=this._actionsManager)||void 0===d||d.createTaskDeletedAction();break;case"onTaskUpdating":null===(u=this._actionsManager)||void 0===u||u.createTaskUpdatingAction();break;case"onTaskUpdated":null===(h=this._actionsManager)||void 0===h||h.createTaskUpdatedAction();break;case"onTaskMoving":null===(g=this._actionsManager)||void 0===g||g.createTaskMovingAction();break;case"onTaskEditDialogShowing":null===(f=this._actionsManager)||void 0===f||f.createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":null===(m=this._actionsManager)||void 0===m||m.createResourceManagerDialogShowingAction();break;case"onDependencyInserting":null===(y=this._actionsManager)||void 0===y||y.createDependencyInsertingAction();break;case"onDependencyInserted":null===(v=this._actionsManager)||void 0===v||v.createDependencyInsertedAction();break;case"onDependencyDeleting":null===(T=this._actionsManager)||void 0===T||T.createDependencyDeletingAction();break;case"onDependencyDeleted":null===(_=this._actionsManager)||void 0===_||_.createDependencyDeletedAction();break;case"onResourceInserting":null===(k=this._actionsManager)||void 0===k||k.createResourceInsertingAction();break;case"onResourceInserted":null===(b=this._actionsManager)||void 0===b||b.createResourceInsertedAction();break;case"onResourceDeleting":null===(w=this._actionsManager)||void 0===w||w.createResourceDeletingAction();break;case"onResourceDeleted":null===(S=this._actionsManager)||void 0===S||S.createResourceDeletedAction();break;case"onResourceAssigning":null===(C=this._actionsManager)||void 0===C||C.createResourceAssigningAction();break;case"onResourceAssigned":null===(D=this._actionsManager)||void 0===D||D.createResourceAssignedAction();break;case"onResourceUnassigning":null===(I=this._actionsManager)||void 0===I||I.createResourceUnassigningAction();break;case"onResourceUnassigned":null===(E=this._actionsManager)||void 0===E||E.createResourceUnassignedAction();break;case"onCustomCommand":null===(A=this._actionsManager)||void 0===A||A.createCustomCommandAction();break;case"onContextMenuPreparing":null===(M=this._actionsManager)||void 0===M||M.createContextMenuPreparingAction();break;case"onScaleCellPrepared":null===(P=this._actionsManager)||void 0===P||P.createScaleCellPreparedAction();break;case"allowSelection":null===(x=this._ganttTreeList)||void 0===x||x.setOption("selection.mode",H.getSelectionMode(Y)),this._setGanttViewOption("allowSelection",Y);break;case"showRowLines":null===(O=this._ganttTreeList)||void 0===O||O.setOption("showRowLines",Y),this._setGanttViewOption("showRowLines",Y);break;case"stripLines":this._setGanttViewOption(G,Y);break;case"scaleType":this._setGanttViewOption("scaleType",Y);break;case"scaleTypeRange":this._setGanttViewOption("scaleTypeRange",this.option(z));break;case"editing":this._setGanttViewOption("editing",this.option(z));break;case"validation":this._setGanttViewOption("validation",this.option(z));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",null===(R=this._ganttTemplatesManager)||void 0===R?void 0:R.getTaskTooltipContentTemplateFunc(Y));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",null===(L=this._ganttTemplatesManager)||void 0===L?void 0:L.getTaskProgressTooltipContentTemplateFunc(Y));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",null===(N=this._ganttTemplatesManager)||void 0===N?void 0:N.getTaskTimeTooltipContentTemplateFunc(Y));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",null===(B=this._ganttTemplatesManager)||void 0===B?void 0:B.getTaskContentTemplateFunc(Y));break;case"rootValue":null===(V=this._ganttTreeList)||void 0===V||V.setOption("rootValue",Y);break;case"width":super._optionChanged(e),null===(F=this._sizeHelper)||void 0===F||F.updateGanttWidth();break;case"height":super._optionChanged(e),null===(j=this._sizeHelper)||void 0===j||j.setGanttHeight((0,p.Oq)(this.$element()));break;case"sorting":null===(W=this._ganttTreeList)||void 0===W||W.setOption("sorting",this.option(z));break;case"filterRow":null===(U=this._ganttTreeList)||void 0===U||U.setOption("filterRow",this.option(z));break;case"headerFilter":null===(K=this._ganttTreeList)||void 0===K||K.setOption("headerFilter",this.option(z));break;default:super._optionChanged(e)}}}(0,l.A)("dxGantt",fn);var mn=fn,yn=mn;
/*!
 * devextreme-vue
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */
const vn={props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:Object,endDateRange:Date,filterRow:Object,firstDayOfWeek:Number,focusStateEnabled:Boolean,headerFilter:Object,height:[Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onScaleCellPrepared:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,scaleTypeRange:Object,selectedRowKey:{},showDependencies:Boolean,showResources:Boolean,showRowLines:Boolean,sorting:Object,startDateRange:Date,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:endDateRange":null,"update:filterRow":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onScaleCellPrepared":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:scaleTypeRange":null,"update:selectedRowKey":null,"update:showDependencies":null,"update:showResources":null,"update:showRowLines":null,"update:sorting":null,"update:startDateRange":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance(){return this.$_instance}},beforeCreate(){this.$_WidgetClass=yn,this.$_hasAsyncTemplate=!0,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},filterRow:{isCollectionItem:!1,optionName:"filterRow"},ganttHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},scaleTypeRange:{isCollectionItem:!1,optionName:"scaleTypeRange"},sorting:{isCollectionItem:!1,optionName:"sorting"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}};(0,s.bx)(vn);const Tn=(0,i.pM)(vn),_n={emits:{"update:isActive":null,"update:hoveredElement":null,"update:aiIntegration":null,"update:editorOptions":null,"update:emptyText":null,"update:mode":null,"update:noDataText":null,"update:popup":null,"update:prompt":null,"update:showHeaderMenu":null},props:{aiIntegration:Object,editorOptions:Object,emptyText:String,mode:String,noDataText:String,popup:Object,prompt:String,showHeaderMenu:Boolean}};(0,s.nm)(_n);const kn=(0,i.pM)(_n);kn.$_optionName="ai",kn.$_expectedChildren={editorOptions:{isCollectionItem:!1,optionName:"editorOptions"}};const bn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:location":null,"update:name":null,"update:options":null},props:{location:String,name:String,options:Object}};(0,s.nm)(bn);const wn=(0,i.pM)(bn);wn.$_optionName="buttons",wn.$_isCollectionItem=!0,wn.$_expectedChildren={options:{isCollectionItem:!1,optionName:"options"}};const Sn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ai":null,"update:alignment":null,"update:allowFiltering":null,"update:allowHeaderFiltering":null,"update:allowSorting":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:format":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:minWidth":null,"update:selectedFilterOperation":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{ai:Object,alignment:String,allowFiltering:Boolean,allowHeaderFiltering:Boolean,allowSorting:Boolean,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},cssClass:String,customizeText:Function,dataField:String,dataType:String,encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,format:[Object,String,Function],headerCellTemplate:{},headerFilter:Object,minWidth:Number,selectedFilterOperation:String,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,visible:Boolean,visibleIndex:Number,width:[Number,String]}};(0,s.nm)(Sn);const Cn=(0,i.pM)(Sn);Cn.$_optionName="columns",Cn.$_isCollectionItem=!0,Cn.$_expectedChildren={ai:{isCollectionItem:!1,optionName:"ai"},columnHeaderFilter:{isCollectionItem:!1,optionName:"headerFilter"},format:{isCollectionItem:!1,optionName:"format"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"}};const Dn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,width:[Number,String]}};(0,s.nm)(Dn);const In=(0,i.pM)(Dn);In.$_optionName="headerFilter",In.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"}};const En={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};(0,s.nm)(En);const An=(0,i.pM)(En);An.$_optionName="search";const Mn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}};(0,s.nm)(Mn);const Pn=(0,i.pM)(Mn);Pn.$_optionName="contextMenu",Pn.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};(0,s.nm)(xn);const On=(0,i.pM)(xn);On.$_optionName="items",On.$_isCollectionItem=!0,On.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const Rn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:icon":null,"update:items":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,icon:String,items:Array,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}};(0,s.nm)(Rn);const Ln=(0,i.pM)(Rn);Ln.$_optionName="items",Ln.$_isCollectionItem=!0;const Nn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}};(0,s.nm)(Nn);const Hn=(0,i.pM)(Nn);Hn.$_optionName="dependencies";const Bn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}};(0,s.nm)(Bn);const Vn=(0,i.pM)(Bn);Vn.$_optionName="editing";const Fn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:buttons":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:inputAttr":null,"update:isDirty":null,"update:isValid":null,"update:label":null,"update:labelMode":null,"update:mask":null,"update:maskChar":null,"update:maskInvalidMessage":null,"update:maskRules":null,"update:maxLength":null,"update:mode":null,"update:name":null,"update:onChange":null,"update:onContentReady":null,"update:onCopy":null,"update:onCut":null,"update:onDisposing":null,"update:onEnterKey":null,"update:onFocusIn":null,"update:onFocusOut":null,"update:onInitialized":null,"update:onInput":null,"update:onKeyDown":null,"update:onKeyUp":null,"update:onOptionChanged":null,"update:onPaste":null,"update:onValueChanged":null,"update:placeholder":null,"update:readOnly":null,"update:rtlEnabled":null,"update:showClearButton":null,"update:showMaskMode":null,"update:spellcheck":null,"update:stylingMode":null,"update:tabIndex":null,"update:text":null,"update:useMaskedValue":null,"update:validationError":null,"update:validationErrors":null,"update:validationMessageMode":null,"update:validationMessagePosition":null,"update:validationStatus":null,"update:value":null,"update:valueChangeEvent":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,buttons:Array,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Number,String],hint:String,hoverStateEnabled:Boolean,inputAttr:{},isDirty:Boolean,isValid:Boolean,label:String,labelMode:String,mask:String,maskChar:String,maskInvalidMessage:String,maskRules:{},maxLength:[Number,String],mode:String,name:String,onChange:Function,onContentReady:Function,onCopy:Function,onCut:Function,onDisposing:Function,onEnterKey:Function,onFocusIn:Function,onFocusOut:Function,onInitialized:Function,onInput:Function,onKeyDown:Function,onKeyUp:Function,onOptionChanged:Function,onPaste:Function,onValueChanged:Function,placeholder:String,readOnly:Boolean,rtlEnabled:Boolean,showClearButton:Boolean,showMaskMode:String,spellcheck:Boolean,stylingMode:String,tabIndex:Number,text:String,useMaskedValue:Boolean,validationError:{},validationErrors:Array,validationMessageMode:String,validationMessagePosition:String,validationStatus:String,value:String,valueChangeEvent:String,visible:Boolean,width:[Number,String]}};(0,s.nm)(Fn);const jn=(0,i.pM)(Fn);jn.$_optionName="editorOptions",jn.$_expectedChildren={button:{isCollectionItem:!0,optionName:"buttons"}};const Wn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:betweenEndText":null,"update:betweenStartText":null,"update:operationDescriptions":null,"update:resetOperationText":null,"update:showAllText":null,"update:showOperationChooser":null,"update:visible":null},props:{betweenEndText:String,betweenStartText:String,operationDescriptions:Object,resetOperationText:String,showAllText:String,showOperationChooser:Boolean,visible:Boolean}};(0,s.nm)(Wn);const Un=(0,i.pM)(Wn);Un.$_optionName="filterRow",Un.$_expectedChildren={operationDescriptions:{isCollectionItem:!1,optionName:"operationDescriptions"}};const Kn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null,"update:useCurrencyAccountingStyle":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String,useCurrencyAccountingStyle:Boolean}};(0,s.nm)(Kn);const zn=(0,i.pM)(Kn);zn.$_optionName="format";const Gn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:height":null,"update:search":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,height:Number,search:Object,searchTimeout:Number,texts:Object,visible:Boolean,width:Number}};(0,s.nm)(Gn);const Yn=(0,i.pM)(Gn);Yn.$_optionName="headerFilter",Yn.$_expectedChildren={ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},search:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const $n={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,timeout:Number}};(0,s.nm)($n);const qn=(0,i.pM)($n);qn.$_optionName="search";const Xn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:allowSelectAll":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:search":null,"update:searchMode":null,"update:searchTimeout":null,"update:texts":null,"update:visible":null,"update:width":null},props:{allowSearch:Boolean,allowSelectAll:Boolean,dataSource:[Array,Object,Function],groupInterval:[String,Number],height:[Number,String],search:Object,searchMode:String,searchTimeout:Number,texts:Object,visible:Boolean,width:[Number,String]}};(0,s.nm)(Xn);const Zn=(0,i.pM)(Xn);Zn.$_optionName="headerFilter",Zn.$_expectedChildren={columnHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},ganttHeaderFilterSearch:{isCollectionItem:!1,optionName:"search"},texts:{isCollectionItem:!1,optionName:"texts"}};const Qn={emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}};(0,s.nm)(Qn);const Jn=(0,i.pM)(Qn);Jn.$_optionName="items",Jn.$_isCollectionItem=!0,Jn.$_expectedChildren={contextMenuItemItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};const ei={emits:{"update:isActive":null,"update:hoveredElement":null,"update:between":null,"update:contains":null,"update:endsWith":null,"update:equal":null,"update:greaterThan":null,"update:greaterThanOrEqual":null,"update:lessThan":null,"update:lessThanOrEqual":null,"update:notContains":null,"update:notEqual":null,"update:startsWith":null},props:{between:String,contains:String,endsWith:String,equal:String,greaterThan:String,greaterThanOrEqual:String,lessThan:String,lessThanOrEqual:String,notContains:String,notEqual:String,startsWith:String}};(0,s.nm)(ei);const ti=(0,i.pM)(ei);ti.$_optionName="operationDescriptions";const ni={emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:icon":null,"update:onClick":null,"update:onContentReady":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rtlEnabled":null,"update:stylingMode":null,"update:tabIndex":null,"update:template":null,"update:text":null,"update:type":null,"update:useSubmitBehavior":null,"update:validationGroup":null,"update:visible":null,"update:width":null},props:{accessKey:String,activeStateEnabled:Boolean,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Number,String],hint:String,hoverStateEnabled:Boolean,icon:String,onClick:Function,onContentReady:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,template:{},text:String,type:String,useSubmitBehavior:Boolean,validationGroup:String,visible:Boolean,width:[Number,String]}};(0,s.nm)(ni);const ii=(0,i.pM)(ni);ii.$_optionName="options";const oi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object,String],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}};(0,s.nm)(oi);const ri=(0,i.pM)(oi);ri.$_optionName="resourceAssignments";const si={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],keyExpr:[Function,String],textExpr:[Function,String]}};(0,s.nm)(si);const ai=(0,i.pM)(si);ai.$_optionName="resources";const li={emits:{"update:isActive":null,"update:hoveredElement":null,"update:max":null,"update:min":null},props:{max:String,min:String}};(0,s.nm)(li);const ci=(0,i.pM)(li);ci.$_optionName="scaleTypeRange";const di={emits:{"update:isActive":null,"update:hoveredElement":null,"update:editorOptions":null,"update:enabled":null,"update:mode":null,"update:searchExpr":null,"update:timeout":null},props:{editorOptions:{},enabled:Boolean,mode:String,searchExpr:[Array,Function,String],timeout:Number}};(0,s.nm)(di);const ui=(0,i.pM)(di);ui.$_optionName="search";const pi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:ascendingText":null,"update:clearText":null,"update:descendingText":null,"update:mode":null,"update:showSortIndexes":null},props:{ascendingText:String,clearText:String,descendingText:String,mode:String,showSortIndexes:Boolean}};(0,s.nm)(pi);const hi=(0,i.pM)(pi);hi.$_optionName="sorting";const gi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:[Date,Function,Number,String],start:[Date,Function,Number,String],title:String}};(0,s.nm)(gi);const fi=(0,i.pM)(gi);fi.$_optionName="stripLines",fi.$_isCollectionItem=!0;const mi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object,String],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}};(0,s.nm)(mi);const yi=(0,i.pM)(mi);yi.$_optionName="tasks";const vi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}};(0,s.nm)(vi);const Ti=(0,i.pM)(vi);Ti.$_optionName="texts";const _i={emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}};(0,s.nm)(_i);const ki=(0,i.pM)(_i);ki.$_optionName="toolbar",ki.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};const bi={emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}};(0,s.nm)(bi);const wi=(0,i.pM)(bi);wi.$_optionName="items",wi.$_isCollectionItem=!0;const Si={emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:enablePredecessorGap":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,enablePredecessorGap:Boolean,validateDependencies:Boolean}};(0,s.nm)(Si);const Ci=(0,i.pM)(Si);Ci.$_optionName="validation";var Di=n(31530),Ii=n(33898),Ei=(0,i.pM)({__name:"task-list-gantt",props:{tasks:{default:()=>[]}},setup(e,{expose:t}){const n=e,s=(0,o.KR)(null),a=()=>{const e=new Di.uE;(0,Ii.rq)({jsPDFDocument:e,component:s.value.instance}).then(()=>{e.save("Tasks.pdf")})},l=()=>{r.Q.push("/planning-task-details")},c=e=>{e.event?.target?.closest(".dx-treelist-expanded, .dx-treelist-collapsed")||l()};return t({onExporting:a}),(e,t)=>((0,i.uX)(),(0,i.Wv)((0,o.R1)(Tn),{ref_key:"dxGanttCmp",ref:s,"task-list-width":500,"scale-type":"weeks",onTaskClick:c,height:700},{default:(0,i.k6)(()=>[(0,i.bF)((0,o.R1)(yi),{"data-source":n.tasks,"key-expr":"taskId","start-expr":"startDate","end-expr":"dueDate","title-expr":"text"},null,8,["data-source"]),(0,i.bF)((0,o.R1)(Cn),{"data-field":"text",caption:"Subject",width:300}),(0,i.bF)((0,o.R1)(Cn),{"data-field":"startDate",caption:"Start Date","data-type":"date","sort-order":"asc"}),(0,i.bF)((0,o.R1)(Cn),{"data-field":"dueDate",caption:"Due Date","data-type":"date"}),(0,i.bF)((0,o.R1)(ki),null,{default:(0,i.k6)(()=>[(0,i.bF)((0,o.R1)(Jn),{name:"undo"}),(0,i.bF)((0,o.R1)(Jn),{name:"redo"}),(0,i.bF)((0,o.R1)(Jn),{name:"separator"}),(0,i.bF)((0,o.R1)(Jn),{name:"collapseAll"}),(0,i.bF)((0,o.R1)(Jn),{name:"expandAll"}),(0,i.bF)((0,o.R1)(Jn),{name:"separator"}),(0,i.bF)((0,o.R1)(Jn),{name:"addTask"}),(0,i.bF)((0,o.R1)(Jn),{name:"deleteTask"}),(0,i.bF)((0,o.R1)(Jn),{name:"separator"}),(0,i.bF)((0,o.R1)(Jn),{name:"zoomIn"}),(0,i.bF)((0,o.R1)(Jn),{name:"zoomOut"})]),_:1}),(0,i.bF)((0,o.R1)(Ci),{"auto-update-parent-tasks":!0}),(0,i.bF)((0,o.R1)(Vn),{enabled:!0})]),_:1},512))}}),Ai=n(14480);const Mi=(0,Ai.A)(Ei,[["__scopeId","data-v-475a0066"]]);var Pi=Mi},83112:function(e,t,n){n(69375),n(82438),n(12266),n(57327),n(50020),n(74786),n(34840),n(64727),n(82738),function(t,n){e.exports=n()}(0,()=>(()=>{"use strict";var e={70:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EllipsisHelper=void 0;var n=function(){function e(){}return e.limitPdfTextWithEllipsis=function(t,n,i){if(!(null==n?void 0:n.getTextWidth)||!i)return t;if(n.getTextWidth(t.toString())>i){for(var o=t,r=t.length-1;n.getTextWidth(o)>i&&r>0;)o=o.substring(0,r)+e.ellipsis,r--;return o}return t},e.ellipsis="...",e}();t.EllipsisHelper=n},86:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceFactory=void 0;var i=n(961),o=n(9643),r=n(9747),s=n(4219),a=n(9150),l=function(){function e(){}return e.createRecurrenceByType=function(e){if(!e)return null;switch(e.toLowerCase()){case"daily":return new o.Daily;case"weekly":return new r.Weekly;case"monthly":return new s.Monthly;case"yearly":return new a.Yearly}return null},e.createRecurrenceFromObject=function(e){if(!e)return null;var t=this.createRecurrenceByType(e.type);return t&&t.assignFromObject(e),t},e.getEnumValue=function(e,t){if(!(0,i.isDefined)(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e}();t.RecurrenceFactory=l},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleResourceCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.toggleResources(),!0},t}(o.CommandBase);t.ToggleResourceCommand=s},171:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleRender=void 0;var i=n(750),o=n(9312),r=n(3227),s=n(2334),a=n(1040),l=function(){function e(e){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=e}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),e.prototype.getScaleItemText=function(e,t){return this._renderHelper.getScaleItemText(e,t)},e.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},e.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},e.prototype.setTimeScaleContainerScrollLeft=function(e){this._timeScaleContainer.scrollLeft=e},e.prototype.createTimeScaleContainer=function(e){var t=document.createElement("DIV");t.className="dx-gantt-tsac",t.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=t,e.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var e=document.createElement("DIV");return e.className="dx-gantt-tsa",e.style.width=this.getTaskAreaWidth()+"px",e.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(e),this.timeScaleAreas.unshift(e),e},e.prototype.createTimeScaleAreas=function(){for(var e=0;e<this.scaleCount;e++)this.createTimeScaleArea()},e.prototype.createScaleElementCore=function(e,t,n,i){return i[n]||(i[n]=[]),a.RenderElementUtils.create(t,e,this.timeScaleAreas[n],i[n])},e.prototype.createScaleElement=function(e,t,n,r){var s=this._renderHelper.getTextWidth("a"),a=this.createScaleElementCore(e,r,t,this.scaleElements);if(a.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(null==r?void 0:r.size.width)>5*s){var l=this.getScaleItemText(e,n);a.innerText=l,n===o.ViewType.Quarter&&(a.style.padding="0");var c=getComputedStyle(a);r.size.width-i.DomUtils.pxToInt(c.paddingLeft)-i.DomUtils.pxToInt(c.paddingRight)<this._renderHelper.getTextWidth(l)&&(a.title=l)}return a},e.prototype.createScaleBorder=function(e,t,n){var i=this.gridLayoutCalculator.getScaleBorderInfo(e,n);return this.createScaleElementCore(e,i,t,this.scaleBorders)},e.prototype.createScaleElementAndBorder=function(e,t,n){var i=this.gridLayoutCalculator.getScaleElementInfo(e,n),o=this.createScaleElement(e,t,n,i),r=this.createScaleBorder(e,t,n);this.onScaleCellPrepared(n,t,o,r,i.additionalInfo.range)},e.prototype.removeScaleElementAndBorder=function(e,t){a.RenderElementUtils.remove(null,e,this.timeScaleAreas[t],this.scaleElements[t]),a.RenderElementUtils.remove(null,e,this.timeScaleAreas[t],this.scaleBorders[t])},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(r.DateUtils.ViewTypeToScaleMap[this.viewType],1)},e.prototype.recreateScaleElements=function(e,t){var n=this,i=this.gridLayoutCalculator.getRenderedScaleItemIndices(e,this.renderedColIndices),o=this.renderedScaleItemIndices[e-this.viewType]||[];a.RenderElementUtils.recreate(o,i,function(e){n.removeScaleElementAndBorder(e,t)},function(i){n.createScaleElementAndBorder(i,t,e)}),this.renderedScaleItemIndices[e-this.viewType]=i},Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),e.prototype.onScaleCellPrepared=function(e,t,n,i,o){var r=new s.ScaleCellPreparedArguments({scaleType:e,scaleIndex:t,range:o,scaleElement:n,separatorElement:i});this.dispatcher.notifyScaleCellPrepared(r)},e}();t.ScaleRender=l},261:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttExporter=void 0;var i=n(8009),o=function(){function e(e){if(!e.settings.pdfDoc&&!e.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=e}return e.prototype.export=function(){var e,t,n=this.pdfDoc;this.applyCustomFont();for(var o=this._info,r=new i.PdfGanttPageDrawer(n,o.settings),s=o.getPages(n),a=s.length,l=0;l<a;l++){l>0&&n.addPage(this.getDocumentFormat(),this.getOrientation());var c=s[l];r.drawPage(c)}return(null===(e=this.props)||void 0===e?void 0:e.fileName)&&n.save(null===(t=this.props)||void 0===t?void 0:t.fileName),n},Object.defineProperty(e.prototype,"pdfDoc",{get:function(){var e,t;return null!==(e=this._pdfDoc)&&void 0!==e||(this._pdfDoc=null!==(t=this._info.settings.pdfDoc)&&void 0!==t?t:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),e.prototype.createDoc=function(){var e=this.getJsPDFProps();return this._info.settings.docCreateMethod(e)},e.prototype.getJsPDFProps=function(){var e={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return e.orientation=this.getOrientation(),e.format=this.getDocumentFormat(),e},e.prototype.getOrientation=function(){var e;return(null===(e=this.props)||void 0===e?void 0:e.landscape)?"l":"p"},e.prototype.getDocumentFormat=function(){var e,t,n,i;return(null===(e=this.props)||void 0===e?void 0:e.format)||(null===(t=this.props)||void 0===t?void 0:t.pageSize)?(null===(n=this.props)||void 0===n?void 0:n.pageSize)?[this.props.pageSize.height,this.props.pageSize.width]:null===(i=this.props)||void 0===i?void 0:i.format:"a4"},e.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},e}();t.PdfGanttExporter=o},338:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmationDialogParameters=void 0;var i=n(5215),o=function(e){function t(t,n){var i=e.call(this)||this;return i.type=t,i.callback=n,i}return i.__extends(t,e),t.prototype.clone=function(){var e=new t(this.type,this.callback);return e.message=this.message,e},t}(n(3282).DialogParametersBase);t.ConfirmationDialogParameters=o},349:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaScrollState=void 0;var i=n(5215),o=n(8211),r=n(6118),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isStarted=!1,t}return i.__extends(t,e),t.prototype.finish=function(){this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},t.prototype.onMouseUp=function(e){this.onEnd(e)},t.prototype.onMouseDownInternal=function(e){this.onBeforeStart(e)},t.prototype.onMouseMoveInternal=function(e){this.onMove(e)},t.prototype.onDocumentPointerUpInternal=function(e){this.onEnd(e)},t.prototype.onDocumentPointerMoveInternal=function(e){this.onMoveByPointer(e)},t.prototype.onTouchEndInternal=function(e){this.onEnd(e)},t.prototype.onTouchMoveInternal=function(e){this.onMoveByPointer(e)},t.prototype.onBeforeStart=function(e){e.preventDefault(),this.raiseDependencySelection(e,null),this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,e),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_START_MOVE,e),this._isStarted=!0},t.prototype.onMoveByPointer=function(e){this._isStarted?this.onMove(e):this.onBeforeStart(e)},t.prototype.onMove=function(e){e.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,e)},t.prototype.onEnd=function(e){e.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_END_MOVE,e),this.raiseEvent(r.TaskAreaStateEventNames.STATE_EXIT,e),this._isStarted=!1},t}(o.TaskAreaStateBase);t.TaskAreaScrollState=s},397:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var i=n(7053),o=n(8133),r=function(){function e(e){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=e}return e.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},e.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},e.prototype.beginTransaction=function(){var e;this.transactionLevel++,0==this.transactionLevel&&(this.transaction=new o.CompositionHistoryItem,null===(e=this._listener)||void 0===e||e.onTransactionStart())},e.prototype.endTransaction=function(){var e;if(!(--this.transactionLevel>=0)){var t=this.transaction.historyItems.length;t>1?this.addInternal(this.transaction):1==t&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,null===(e=this._listener)||void 0===e||e.onTransactionEnd()}},e.prototype.addAndRedo=function(e){this.add(e),this.activateItem(e)},e.prototype.add=function(e){this.transactionLevel>=0?this.transaction.add(e):this.addInternal(e)},e.prototype.canUndo=function(){return this.currentIndex>=0},e.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},e.prototype.addInternal=function(e){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(e),this.currentIndex++,this.deleteOldItems()},e.prototype.deleteOldItems=function(){var t=this.historyItems.length-e.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},e.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},e.prototype.activateItem=function(e,t){void 0===t&&(t=!1),this.currentProcessingItemInfo=new i.HistoryItemInfo(e,t),t?e.undo():e.redo(),this.currentProcessingItemInfo=null},e.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},e.prototype.rollBackAndRemove=function(e){var t=e.item;this.checkAndRemoveItem(t)&&(e.isUndo?t.redo():t instanceof o.CompositionHistoryItem?t.undoItemsQuery():t.undo())},e.prototype.checkAndRemoveItem=function(e){var t=this.historyItems.indexOf(e);return t>-1?(this.historyItems.splice(t,1),this.currentIndex--):this.transaction&&(t=this.transaction.historyItems.indexOf(e))>-1&&this.transaction.historyItems.splice(t,1),t>-1},e.prototype.updateObsoleteInsertedKey=function(e,t,n){this.transaction&&this.updateItemsObsoleteInsertedKey(e,t,n,[this.transaction]),this.updateItemsObsoleteInsertedKey(e,t,n,this.historyItems)},e.prototype.updateItemsObsoleteInsertedKey=function(e,t,n,i){if(i)for(var r=0;r<i.length;r++){var s=i[r];s.keyUpdaters.filter(function(t){return t.getKey()===e&&t.objectType===n}).forEach(function(e){return e.updateKey(t)}),s instanceof o.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(e,t,n,s.historyItems)}},e.MAX_HISTORY_ITEM_COUNT=100,e}();t.History=r},488:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateResourceHistoryItem=void 0;var i=n(5215),o=n(9105),r=n(5593),s=n(594),a=function(e){function t(t,n,i,o){void 0===i&&(i="");var r=e.call(this,t)||this;return r.text=n,r.color=i,r.createCallback=o,r}return i.__extends(t,e),t.prototype.redo=function(){var e;null!==(e=this.insertedKey)&&void 0!==e||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:r.GanttDataObjectNames.resource,getKey:function(){return e.insertedKey},updateKey:function(t){return e.insertedKey=t}}]},enumerable:!1,configurable:!0}),t}(o.HistoryItem);t.CreateResourceHistoryItem=a},516:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintViolationDialogCommand=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.applyParameters=function(e,t){return t.callback(e),!0},t.prototype.createParameters=function(e){return e},t.prototype.getDialogName=function(){return"ConstraintViolation"},t}(n(6533).DialogBase);t.ConstraintViolationDialogCommand=o},540:(e,t,n)=>{n.r(t)},594:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MathUtils=void 0;var i=n(2892),o=function(){function e(){}return e.round=function(t,n){void 0===n&&(n=0);var i=e.powFactor[n];return Math.round(t*i)/i},e.numberCloseTo=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n},e.restrictValue=function(e,t,n){return n<t&&(n=t),e>n?n:e<t?t:e},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.powFactor=i.ListUtils.initByCallback(20,function(e){return Math.pow(10,e)}),e.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],e}();t.MathUtils=o},672:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttExportCalculator=void 0;var i=n(5327),o=n(750),r=n(9312),s=n(3402),a=n(3734),l=n(5891),c=n(9244),d=n(1922),u=n(2945),p=n(9523),h=n(5766),g=n(9896),f=n(1652),m=n(3820),y=n(3844),v=n(1900),T=n(3211),_=n(3190),k=n(6100),b=n(6837),w=function(){function e(t,n){var i,o;this._owner=t,this._props=new f.GanttPdfExportProps(n),null!==(i=(o=this._props).margins)&&void 0!==i||(o.margins=new p.Margin(e._defaultPageMargin))}return Object.defineProperty(e.prototype,"chartTableScaleTopMatrix",{get:function(){var e;return null!==(e=this._chartTableScaleTopMatrix)&&void 0!==e||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartTableScaleBottomMatrix",{get:function(){var e;return null!==(e=this._chartTableScaleBottomMatrix)&&void 0!==e||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),e.prototype.getPages=function(e){return new v.PdfGanttPaginator(e,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(e.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaHelper",{get:function(){var e;return null!==(e=this._taskAreaHelper)&&void 0!==e||(this._taskAreaHelper=new g.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scalingHelper",{get:function(){var e,t;return null!==(e=this._scalingHelper)&&void 0!==e||(this._scalingHelper=new T.ScalingHelper(null===(t=this._props)||void 0===t?void 0:t.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartScaleTableStyle",{get:function(){var e;return null!==(e=this._chartScaleTableStyle)&&void 0!==e||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartMainTableStyle",{get:function(){var e;return null!==(e=this._chartMainTableStyle)&&void 0!==e||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerTableTop",{get:function(){var e;return null!==(e=this._headerTableTop)&&void 0!==e||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainTableTop",{get:function(){var e;return null!==(e=this._mainTableTop)&&void 0!==e||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),e.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(e.prototype,"chartLeft",{get:function(){var e;return null!==(e=this._chartLeft)&&void 0!==e||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),e.prototype.getChartLeft=function(){var e;return(((null===(e=this._props)||void 0===e?void 0:e.exportMode)||k.ExportMode.all)===k.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(e.prototype,"treeListLeft",{get:function(){var e;return null!==(e=this._treeListLeft)&&void 0!==e||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainTableHeight",{get:function(){var e;return null!==(e=this._mainTableHeight)&&void 0!==e||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListWidth",{get:function(){var e;return null!==(e=this._treeListWidth)&&void 0!==e||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),e.prototype.getTreeListTableWidth=function(){var e,t=this,n=this.treeListHeaderMatrix[0].map(function(e,n){return t.getTreeListColumnWidth(n)});return null!==(e=null==n?void 0:n.reduce(function(e,t){return e+t},0))&&void 0!==e?e:0},Object.defineProperty(e.prototype,"chartWidth",{get:function(){var e=this;if(!this._chartWidth){var t=this.chartTableScaleBottomMatrix[0];this._chartWidth=t.reduce(function(t,n){return t+(n.styles.cellWidth.hasValue()?n.styles.cellWidth.getValue():e.baseCellWidth)},0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new f.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),e.prototype.prepareAutoFormat=function(e){if(e.format===f.GanttPdfExportProps.autoFormatKey){e.format=null;var t=e.landscape,n=this.autoFormatWidth,i=this.autoFormatHeight;(t&&i>n||!t&&i<n)&&(e.landscape=!t),e.pageSize=new y.Size(n,i)}},Object.defineProperty(e.prototype,"autoFormatWidth",{get:function(){var t,n=((null===(t=this._props)||void 0===t?void 0:t.exportMode)||k.ExportMode.all)!==k.ExportMode.treeList,i=this.pageRightMargin;return(i+=n?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+e._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),e.prototype.createGlobalInfo=function(){var e={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(e),e},e.prototype.getTablesInfo=function(){var e={};return this._canExportTreelist()&&(e[m.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),e[m.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(e[m.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),e[m.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),e[m.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),e},Object.defineProperty(e.prototype,"exportMode",{get:function(){var e,t;return null!==(t=null===(e=this._props)||void 0===e?void 0:e.exportMode)&&void 0!==t?t:k.ExportMode.all},enumerable:!1,configurable:!0}),e.prototype._canExportTreelist=function(){return this.exportMode===k.ExportMode.all||this.exportMode===k.ExportMode.treeList},e.prototype._canExportChart=function(){return this.exportMode===k.ExportMode.all||this.exportMode===k.ExportMode.chart},Object.defineProperty(e.prototype,"_predefinedFont",{get:function(){var e,t,n,i,o=null===(t=null===(e=this._props)||void 0===e?void 0:e.pdfDoc)||void 0===t?void 0:t.getFont();return(null==o?void 0:o.fontName)||(null===(i=null===(n=this._props)||void 0===n?void 0:n.font)||void 0===i?void 0:i.name)},enumerable:!1,configurable:!0}),e.prototype._createChartScaleTopInfo=function(){return{name:m.PdfPageTableNames.chartScaleTop,size:new y.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new i.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},e.prototype._createChartScaleBottomInfo=function(){var e=this.taskAreaHelper.headerRowHeight;return{name:m.PdfPageTableNames.chartScaleBottom,size:new y.Size(this.chartWidth,e),position:new i.Point(this.chartLeft,this.headerTableTop+e),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,e),cells:this.chartTableScaleBottomMatrix}},e.prototype.createChartMainTableInfo=function(){return{name:m.PdfPageTableNames.chartMain,size:new y.Size(this.chartWidth,this.mainTableHeight),position:new i.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},e.prototype.createTreeListHeaderTableInfo=function(){return{name:m.PdfPageTableNames.treeListHeader,size:new y.Size(this.treeListWidth,this.headerTableHeight),position:new i.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},e.prototype.createTreeListMainTableInfo=function(){return{name:m.PdfPageTableNames.treeListMain,size:new y.Size(this.treeListWidth,this.mainTableHeight),position:new i.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},e.prototype.calculateChartScaleMatrix=function(e){for(var t=this.taskAreaHelper,n=t.scaleRanges,i=new Array,o=n[e][0],r=n[e][1],s=o;s<=r;s++){var a=this.layoutCalculator.getScaleItemStart(s,t.scales[e]),l=new h.CellDef(this._owner.renderHelper.getScaleItemTextByStart(a,t.scales[e]));l.styles.cellPadding.assign(0),l.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var c=0===e?t.scaleTopWidths[s]:t.scaleBottomWidths[s];l.styles.cellWidth.assign(c),i.push(l)}return[i]},e.prototype.calculateChartTableBodyMatrix=function(){var e=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach(function(t){return e._chartTableBodyMatrix.push(e.createChartTableBodyRow(t))}):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},e.prototype.createChartTableBodyRow=function(e){var t=new h.CellDef;return this.rowHasChildren(e)&&t.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map(function(e){var n=new h.CellDef(t);return n.styles.cellWidth.assign(e.styles.cellWidth),n})},e.prototype.rowHasSelection=function(e){return this._owner.rowHasSelection(e)},e.prototype.rowHasChildren=function(e){return this._owner.rowHasChildren(e)},e.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var e=this._owner,t=e.getTreeListColCount(),n=new Array,i=0;i<t;i++){var o=new h.CellDef(e.getTreeListHeaderInfo(i));o.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,n.push(o)}this._treeListHeaderMatrix.push(n)},e.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},e.prototype.fillTreeListTableBodyMatrix=function(e){for(var t,n=this.visibleTaskIndices,i=this.treeListHeaderMatrix[0].length,o=0;o<n.length;o++){for(var r=new Array,s=n[o],a=null===(t=this._owner.getTask(s))||void 0===t?void 0:t.id,l=0;l<i;l++){var c=new h.CellDef(this._owner.getTreeListCellInfo(s,l,a));c.styles.cellWidth.hasValue()||c.styles.cellWidth.assign(this.getTreeListColumnWidth(l)),this.rowHasChildren(n[o])&&c.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),r.push(c)}e.push(r)}},e.prototype.fillTreeListEmptyTableBodyMatrix=function(e){var t=new Array,n=new h.CellDef(this._owner.getTreeListEmptyDataCellInfo());n.styles.cellWidth.assign(this.treeListWidth),n.styles.halign=b.PredefinedStyles.horizontalAlign[1],n.styles.valign=b.PredefinedStyles.verticalAlign[1],t.push(n),e.push(t)},e.prototype.getTreeListColumnWidth=function(e){var t=this.treeListHeaderMatrix[0][e],n=t&&t.styles;return n.cellWidth.getValue()||n.minCellWidth||0},e.prototype.getObjectsLeftOffset=function(e){void 0===e&&(e=!1);var t=this.dataObjectLeftDelta;return e||(t+=this.taskAreaHelper.customRangeLeftOffset),t},Object.defineProperty(e.prototype,"dataObjectLeftDelta",{get:function(){var e;return null!==(e=this._dataObjectLeftDelta)&&void 0!==e||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataObjectTopDelta",{get:function(){var e;return null!==(e=this._dataObjectTopDelta)&&void 0!==e||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),e.prototype.getChartScaleTableStyle=function(){var e=new u.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(e.font=this._predefinedFont),e},e.prototype.getChartMainTableStyle=function(){var e=new u.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(e.font=this._predefinedFont),e},e.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new u.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},e.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(e.prototype,"tasksInfo",{get:function(){var e;return null!==(e=this._tasksInfo)&&void 0!==e||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dependenciesInfo",{get:function(){var e;return null!==(e=this._dependenciesInfo)&&void 0!==e||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesInfo",{get:function(){var e;return null!==(e=this._resourcesInfo)&&void 0!==e||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeMarkersInfo",{get:function(){var e;return null!==(e=this._timeMarkersInfo)&&void 0!==e||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),e.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},e.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},e.prototype.calculateTasksInfo=function(){var e=this,t=new Array;return this.visibleTaskIndices.forEach(function(n){return t.push(e.calculateTaskInfo(n))}),t},e.prototype.calculateTaskInfo=function(e){var t=new c.PdfTaskInfo,n=this.layoutCalculator.getTaskElementInfo(e);return t.taskColor=this.getTaskColor(e),t.sidePoints=this.getTaskSidePoints(e),t.isMilestone=n.className.indexOf(s.GridLayoutCalculator.milestoneClassName)>0,t.isMilestone||(t.isSmallTask=n.className.indexOf(s.GridLayoutCalculator.smallTaskClassName)>0,t.isParent=n.className.indexOf(s.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(t,e),this.appendTaskProgress(t,e)),t},e.prototype.appendTaskTitle=function(e,t){var n=this._owner.settings.taskTitlePosition;e.isSmallTask&&n!==r.TaskTitlePosition.Outside||n===r.TaskTitlePosition.None||(e.text=this._owner.getTaskText(t),e.textPosition=n,e.textStyle=this.getTaskTextStyle(t))},e.prototype.appendTaskProgress=function(e,t){var n=this.layoutCalculator.getTaskProgressElementInfo(t);e.progressWidth=n.size.width,e.progressColor=this.getTaskProgressColor(t),e.progressColor.applyOpacityToBackground(e.taskColor)},e.prototype.getTaskSidePoints=function(e){var t=this,n=this.layoutCalculator.getTaskSidePoints(e);return n.forEach(function(e){e.x+=t.getObjectsLeftOffset(!0),e.y+=t.dataObjectTopDelta}),n},e.prototype.getTaskColor=function(e){var t=this.taskAreaHelper.getTaskElementBackColor(e,s.GridLayoutCalculator.taskClassName);return new d.Color(t)},e.prototype.getTaskProgressColor=function(e){return new d.Color(this.taskAreaHelper.getTaskElementBackColor(e,s.GridLayoutCalculator.taskProgressClassName))},e.prototype.getTaskTextStyle=function(e){var t=new u.StyleDef;return t.cellPadding.assign(0),t.assign(this.taskAreaHelper.getTaskElementStyle(e,s.GridLayoutCalculator.taskTitleClassName)),t},e.prototype.calculateDependenciesInfo=function(){var e=this,t=new Array,n=this.taskAreaHelper,i=new d.Color(n.dependencyColor);return n.connectorLines.forEach(function(o){return t.push(e.createLineInfo(o,i,n.arrowWidth))}),t},e.prototype.createLineInfo=function(e,t,n){var i=new a.PdfDependencyLineInfo;if(i.fillColor=t,e.className.indexOf(s.GridLayoutCalculator.arrowClassName)>-1){var o=this.layoutCalculator.getArrowPositionByClassName(e.className);i.arrowInfo={position:o,width:n},i.points=[this.getArrowTopCorner(e,o,n)]}else i.points=this.getLinePoints(e);return i},e.prototype.getArrowTopCorner=function(e,t,n){var o=e.position.x+this.getObjectsLeftOffset(),s=e.position.y+this.dataObjectTopDelta;switch(t){case r.Position.Left:o+=n;break;case r.Position.Top:s+=n}return new i.Point(o,s)},e.prototype.getLinePoints=function(e){var t=e.position.x+this.getObjectsLeftOffset(),n=e.position.y+this.dataObjectTopDelta,o=t+e.size.width,r=n+e.size.height;return[new i.Point(t,n),new i.Point(o,r)]},e.prototype.calculateResourcesInfo=function(){var e=this,t=new Array;return this.taskAreaHelper.resourcesElements.forEach(function(n){return t=t.concat(e.calculateResourcesInLine(n))}),t},e.prototype.calculateResourcesInLine=function(e){var t=new Array;if(e)for(var n=o.DomUtils.pxToInt(e.style.left)+this.getObjectsLeftOffset(),i=o.DomUtils.pxToInt(e.style.top)+this.dataObjectTopDelta,r=e.getElementsByClassName(s.GridLayoutCalculator.taskResourceClassName),a=0;a<r.length;a++){var c=r[a];if(this.taskAreaHelper.isElementVisible(c)){var d=getComputedStyle(c);n+=this.getMargin(d).left,t.push(new l.PdfTaskResourcesInfo(c.textContent,new u.StyleDef(d),n,i)),n+=o.DomUtils.pxToInt(d.width)}}return t},e.prototype.calculateTimeMarkersInfoInfo=function(){var e=this,t=new Array;return this.taskAreaHelper.stripLinesElements.forEach(function(n){return t.push(e.createTimeMarkerInfo(n,!0))}),this.taskAreaHelper.noWorkingIntervalsElements.forEach(function(n){return t.push(e.createTimeMarkerInfo(n,!1))}),t},e.prototype.createTimeMarkerInfo=function(e,t){var n=getComputedStyle(e),r=o.DomUtils.pxToInt(n.left)+this.getObjectsLeftOffset(),s=o.DomUtils.pxToInt(n.top)+this.dataObjectTopDelta,a=o.DomUtils.pxToInt(n.width),l=o.DomUtils.pxToInt(n.height);return new _.PdfTimeMarkerInfo(new i.Point(r,s),new y.Size(a,l),new d.Color(n.backgroundColor),new d.Color(n.borderLeftColor),t)},e.prototype.getMargin=function(e){var t=new p.Margin(0);if(e){var n=e.margin;n||(n+=e.marginTop||"0",n+=" "+e.marginRight||0,n+=" "+e.marginBottom||0,n+=" "+e.marginLeft||0),t.assign(n)}return t},e._defaultPageMargin=10,e._autoFormatWidthAddStock=1,e}();t.GanttExportCalculator=w},750:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=void 0;var i=n(8424),o=n(961),r=n(594),s=n(4989),a=function(){function e(){}return e.clearInnerHtml=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},e.setStylePosition=function(e,t){e.left=r.MathUtils.round(t.x,3)+"px",e.top=r.MathUtils.round(t.y,3)+"px"},e.setStyleSize=function(e,t){e.width=r.MathUtils.round(t.width,3)+"px",e.height=r.MathUtils.round(t.height,3)+"px"},e.setStyleSizeAndPosition=function(t,n){e.setStylePosition(t,n),e.setStyleSize(t,n)},e.hideNode=function(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}},e.isHTMLElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},e.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isHTMLTableRowElement=function(e){return"TR"===e.tagName},e.isItParent=function(e,t){if(!e||!t)return!1;for(;t;){if(t===e)return!0;if("BODY"===t.tagName)return!1;t=t.parentNode}return!1},e.getParentByTagName=function(e,t){for(t=t.toUpperCase();e;){if("BODY"===e.tagName)return null;if(e.tagName===t)return e;e=e.parentNode}return null},e.getDocumentScrollTop=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return i.Browser.WebKitFamily||i.Browser.Edge||t?i.Browser.MacOSMobilePlatform?window.pageYOffset:i.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},e.getDocumentScrollLeft=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return i.Browser.Edge||t?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:i.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},e.getCurrentStyle=function(e){if(e.currentStyle)return e.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var t=document.defaultView.getComputedStyle(e,null);if(!t&&i.Browser.Firefox&&window.frameElement){for(var n=[],r=window.frameElement;!(t=document.defaultView.getComputedStyle(e,null));)n.push([r,r.style.display]),r.style.setProperty("display","block","important"),r="BODY"===r.tagName?r.ownerDocument.defaultView.frameElement:r.parentNode;t=function(e){if("object"!=typeof e||!o.isDefined(e))return e;var t={};for(var n in e)t[n]=e[n];return t}(t);for(var s=void 0,a=0;s=n[a];a++)s[0].style.display=s[1];document.body.offsetWidth}return t}return window.getComputedStyle(e,null)},e.setFocus=function(e){function t(){try{e.focus(),i.Browser.IE&&document.activeElement!==e&&e.focus()}catch(e){}}i.Browser.MacOSMobilePlatform?t():setTimeout(function(){t()},100)},e.hasClassName=function(e,t){try{var n=t.split(" "),i=e.classList;if(i){for(var o=n.length-1;o>=0;o--)if(!i.contains(n[o]))return!1}else{var r=e.getAttribute&&e.getAttribute("class");if(!r)return!1;var s=r.split(" ");for(o=n.length-1;o>=0;o--)if(s.indexOf(n[o])<0)return!1}return!0}catch(e){return!1}},e.addClassName=function(t,n){if(!e.hasClassName(t,n)){var i=t.getAttribute&&t.getAttribute("class");t.setAttribute("class",""===i?n:i+" "+n)}},e.removeClassName=function(e,t){var n=" "+(e.getAttribute&&e.getAttribute("class"))+" ",i=n.replace(" "+t+" "," ");n.length!==i.length&&e.setAttribute("class",s.StringUtils.trim(i))},e.toggleClassName=function(t,n,i){void 0===i?e.hasClassName(t,n)?e.removeClassName(t,n):e.addClassName(t,n):i?e.addClassName(t,n):e.removeClassName(t,n)},e.pxToInt=function(e){return l(e,parseInt)},e.pxToFloat=function(e){return l(e,parseFloat)},e.getAbsolutePositionY=function(t){function n(t){return Math.round(t.getBoundingClientRect().top+e.getDocumentScrollTop())}return t?i.Browser.IE?function(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().top+e.getDocumentScrollTop()}(t):i.Browser.Firefox&&i.Browser.Version>=3?n(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?function(t){for(var n=c(t,!1),o=!0;null!=t;){if(n+=t.offsetTop,o||null==t.offsetParent||(n-=t.scrollTop),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderTopWidth))}o=!1,t=t.offsetParent}return n}(t):i.Browser.WebKitFamily||i.Browser.Edge?n(t):function(e){for(var t=0,n=!0;null!=e;)t+=e.offsetTop,n||null==e.offsetParent||(t-=e.scrollTop),n=!1,e=e.offsetParent;return t}(t):0},e.getAbsolutePositionX=function(t){function n(t){return Math.round(t.getBoundingClientRect().left+e.getDocumentScrollLeft())}return t?i.Browser.IE?function(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().left+e.getDocumentScrollLeft()}(t):i.Browser.Firefox&&i.Browser.Version>=3?n(t):i.Browser.Opera&&i.Browser.Version<=12?function(e){for(var t=!0,n=c(e,!0);null!=e;)n+=e.offsetLeft,t||(n-=e.scrollLeft),e=e.offsetParent,t=!1;return n+document.body.scrollLeft}(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?function(t){for(var n=c(t,!0),o=!0;null!=t;){if(n+=t.offsetLeft,o||null==t.offsetParent||(n-=t.scrollLeft),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderLeftWidth))}o=!1,t=t.offsetParent}return n}(t):i.Browser.WebKitFamily||i.Browser.Edge?n(t):function(e){for(var t=0,n=!0;null!=e;)t+=e.offsetLeft,n||null==e.offsetParent||(t-=e.scrollLeft),n=!1,e=e.offsetParent;return t}(t):0},e.isInteractiveControl=function(e){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(e.tagName)>-1},e.getClearClientHeight=function(t){return t.offsetHeight-(e.getTopBottomPaddings(t)+e.getVerticalBordersWidth(t))},e.getTopBottomPaddings=function(t,n){var i=n||e.getCurrentStyle(t);return e.pxToInt(i.paddingTop)+e.pxToInt(i.paddingBottom)},e.getVerticalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&9!==i.Browser.MajorVersion&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderTopStyle&&(r+=e.pxToFloat(n.borderTopWidth)),"none"!==n.borderBottomStyle&&(r+=e.pxToFloat(n.borderBottomWidth)),r},e.getNodes=function(e,t){for(var n=e.all||e.getElementsByTagName("*"),i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getChildNodes=function(e,t){for(var n=e.childNodes,i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getNodesByClassName=function(t,n){if(t.querySelectorAll){var i=t.querySelectorAll("."+n),o=[];return i.forEach(function(e){return o.push(e)}),o}return e.getNodes(t,function(t){return e.hasClassName(t,n)})},e.getChildNodesByClassName=function(t,n){return t.querySelectorAll?function(e,t){for(var n=[],i=0;i<e.length;i++){var o=e[i];t(o)&&n.push(o)}return n}(t.querySelectorAll("."+n),function(e){return e.parentNode===t}):e.getChildNodes(t,function(t){return!!e.isElementNode(t)&&o.isNonNullString(t.className)&&e.hasClassName(t,t.className)})},e.getVerticalScrollBarWidth=function(){if(void 0===e.verticalScrollBarWidth){var t=document.createElement("DIV");t.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(t);var n=document.createElement("P");t.appendChild(n),n.style.cssText="width: 100%; height: 200px;";var i=n.offsetWidth;t.style.overflow="scroll";var o=n.offsetWidth;i===o&&(o=t.clientWidth),e.verticalScrollBarWidth=i-o,document.body.removeChild(t)}return e.verticalScrollBarWidth},e.getHorizontalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderLeftStyle&&(r+=e.pxToFloat(n.borderLeftWidth)),"none"!==n.borderRightStyle&&(r+=e.pxToFloat(n.borderRightWidth)),r},e.getFontFamiliesFromCssString=function(e){return e.split(",").map(function(e){return s.StringUtils.trim(e.replace(/'|"/gi,""))})},e.getInnerText=function(t){if(i.Browser.Safari&&i.Browser.MajorVersion<=5){null===e.html2PlainTextFilter&&(e.html2PlainTextFilter=document.createElement("DIV"),e.html2PlainTextFilter.style.width="0",e.html2PlainTextFilter.style.height="0",e.html2PlainTextFilter.style.overflow="visible",e.html2PlainTextFilter.style.display="none",document.body.appendChild(e.html2PlainTextFilter));var n=e.html2PlainTextFilter;n.innerHTML=t.innerHTML,n.style.display="";var o=n.innerText;return n.style.display="none",o}return i.Browser.NetscapeFamily||i.Browser.WebKitFamily||i.Browser.IE&&i.Browser.Version>=9||i.Browser.Edge?t.textContent:t.innerText},e.html2PlainTextFilter=null,e.verticalScrollBarWidth=void 0,e}();function l(e,t){var n=0;if(o.isDefined(e)&&""!==e)try{var i=e.indexOf("px");i>-1&&(n=t(e.substr(0,i)))}catch(e){}return n}function c(e,t){for(var n=0,i=!0;null!=e&&"BODY"!==e.tagName;){var o=a.getCurrentStyle(e);if("absolute"===o.position)break;i||"DIV"!==e.tagName||""!==o.position&&"static"!==o.position||(n-=t?e.scrollLeft:e.scrollTop),e=e.parentNode,i=!1}return n}t.DomUtils=a},773:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelItem=void 0;var i=n(961),o=n(3844),r=function(){function e(e,t){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=e,this.resources=t,this.children=new Array,this.isCustom=!1,this.size=new o.Size(0,0)}return Object.defineProperty(e.prototype,"resourceText",{get:function(){var e="";return this.resources.items.forEach(function(t){return e+=t.text+" "}),e},enumerable:!1,configurable:!0}),e.prototype.addChild=function(e){(0,i.isDefined)(e)&&this.children.indexOf(e)<0&&this.children.push(e)},e.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)},e.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},e.prototype.getVisible=function(){if(!this.visible)return!1;for(var e=this.parent;e;){if(!e.visible)return!1;e=e.parent}return!0},e.prototype.changeVisibility=function(e){this.visible=e},e.prototype.changeSelection=function(e){this.selected=e},e.prototype.setDependencies=function(e){e&&(this.dependencies=e.slice())},e}();t.ViewVisualModelItem=r},826:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var n=function(){function e(){this.listeners=[]}return e.prototype.add=function(e){if(!e)throw new Error("Error");this.hasEventListener(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t=0,n=void 0;n=this.listeners[t];t++)if(n===e){this.listeners.splice(t,1);break}},e.prototype.raise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=void 0;o=this.listeners[i];i++){var r=o[e];null==r||r.apply(o,t)}},e.prototype.hasEventListener=function(e){for(var t=0,n=this.listeners.length;t<n;t++)if(this.listeners[t]===e)return!0;return!1},e}();t.EventDispatcher=n},938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AssignResourceCommand=void 0;var i=n(5215),o=n(2105),r=n(8942),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){if(!this.control.viewModel.assignments.items.filter(function(n){return n.resourceId===e&&n.taskId===t})[0]){var n=this.control.viewModel,i=new o.ResourceAssigningArguments(n.convertInternalToPublicKey("resource",e),n.convertInternalToPublicKey("task",t));if(this.modelManipulator.dispatcher.notifyResourceAssigning(i),!i.cancel)return this.history.addAndRedo(new r.AssignResourceHistoryItem(this.modelManipulator,n.convertPublicToInternalKey("resource",i.resourceId),n.convertPublicToInternalKey("task",i.taskId))),!0}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(n(2112).ResourceCommandBase);t.AssignResourceCommand=s},961:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.numberToStringHex=t.numberToStringBin=t.isOdd=t.isEven=t.isNonNullString=t.isString=t.isNumber=t.boolToString=t.boolToInt=t.isDefined=void 0;var i=n(4989);t.isDefined=function(e){return null!=e},t.boolToInt=function(e){return e?1:0},t.boolToString=function(e){return e?"1":"0"},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isNonNullString=function(e){return!!e},t.isEven=function(e){return e%2!=0},t.isOdd=function(e){return e%2==0},t.numberToStringBin=function(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(2),t,"0")},t.numberToStringHex=function(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(16),t,"0")}},1040:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderElementUtils=void 0;var n=function(){function e(){}return e.create=function(e,t,n,i){var o=document.createElement("DIV");for(var r in e.assignToElement(o),n.appendChild(o),i&&(i instanceof Array&&null!==t?i[t]=o:i[e.id]=o),e.attr)Object.prototype.hasOwnProperty.call(e.attr,r)&&o.setAttribute(r,e.attr[r]);for(var r in e.style)Object.prototype.hasOwnProperty.call(e.style,r)&&(o.style[r]=e.style[r]);return o},e.remove=function(e,t,n,i){var o;i instanceof Array&&null!==t?(o=i[t],delete i[t]):(o=i[e.id],delete i[e.id]),o&&o.parentNode==n&&n.removeChild(o)},e.recreate=function(e,t,n,i){e.filter(function(e){return-1===t.indexOf(e)}).forEach(function(e){n(e)}),t.filter(function(t){return-1===e.indexOf(t)}).forEach(function(e){i(e)})},e}();t.RenderElementUtils=n},1065:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TouchUtils=void 0;var i=n(8424),o=n(961),r=function(){function e(){}return e.onEventAttachingToDocument=function(t,n){return!i.Browser.MacOSMobilePlatform||!e.isTouchEventName(t)||(e.documentTouchHandlers[t]||(e.documentTouchHandlers[t]=[]),e.documentTouchHandlers[t].push(n),e.documentEventAttachingAllowed)},e.isTouchEventName=function(e){return i.Browser.WebKitTouchUI&&(e.indexOf("touch")>-1||e.indexOf("gesture")>-1)},e.isTouchEvent=function(e){return i.Browser.WebKitTouchUI&&o.isDefined(e.changedTouches)},e.getEventX=function(e){return i.Browser.IE?e.pageX:e.changedTouches[0].pageX},e.getEventY=function(e){return i.Browser.IE?e.pageY:e.changedTouches[0].pageY},e.touchMouseDownEventName=i.Browser.WebKitTouchUI?"touchstart":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",e.touchMouseUpEventName=i.Browser.WebKitTouchUI?"touchend":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",e.touchMouseMoveEventName=i.Browser.WebKitTouchUI?"touchmove":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",e.msTouchDraggableClassName="dxMSTouchDraggable",e.documentTouchHandlers={},e.documentEventAttachingAllowed=!0,e}();t.TouchUtils=r},1113:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTaskHistoryItem=void 0;var i=n(5215),o=n(5593),r=n(9105),s=n(1820),a=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.taskId=n,o.newValues=i,o}return i.__extends(t,e),t.prototype.redo=function(){var e=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new s.HistoryItemState(this.taskId,e)},t.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:o.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(t){return e.taskId=t}}]},enumerable:!1,configurable:!0}),t}(r.HistoryItem);t.UpdateTaskHistoryItem=a},1140:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleDependenciesCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},t}(o.CommandBase);t.ToggleDependenciesCommand=s},1181:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateResourceCommand=void 0;var i=n(5215),o=n(5698),r=n(488),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){return void 0===n&&(n=""),e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(e,t,n){void 0===t&&(t="");var i=new o.ResourceInsertingArguments(e,t);return this.modelManipulator.dispatcher.notifyResourceCreating(i),i.cancel||this.history.addAndRedo(new r.CreateResourceHistoryItem(this.modelManipulator,i.text,i.color,n)),!i.cancel},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},t}(n(2112).ResourceCommandBase);t.CreateResourceCommand=s},1237:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseArguments=void 0;var n=function(e){this.cancel=!1,this.values={},this.key=e};t.BaseArguments=n},1251:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Task=void 0;var i=n(5215),o=n(961),r=n(5593),s=-8e15,a=function(e){function t(){var t=e.call(this)||this;return t.start=null,t.end=null,t.duration=null,t.description="",t.parentId=null,t.title="",t.owner=null,t.progress=0,t.taskType=null,t.customFields={},t.expanded=!0,t.color="",t}return i.__extends(t,e),Object.defineProperty(t.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(t){(0,o.isDefined)(t)&&(e.prototype.assignFromObject.call(this,t),this.owner=t.owner,this.parentId=(0,o.isDefined)(t.parentId)?String(t.parentId):null,this.rawParentId=t.parentId,this.description=t.description,this.title=t.title,this.start="string"==typeof t.start?new Date(t.start):t.start||this.createInvalidDate(),this.end="string"==typeof t.end?new Date(t.end):t.end||this.createInvalidDate(),this.duration=t.duration,this.progress=t.progress,this.taskType=t.taskType,(0,o.isDefined)(t.expanded)&&(this.expanded=!!t.expanded),(0,o.isDefined)(t.color)&&(this.color=t.color),this.assignCustomFields(t.customFields))},t.prototype.assignCustomFields=function(e){if(e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.customFields[t]=e[t])},t.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t.prototype.isValidStart=function(){return this.isValidTaskaDte(this.start)},t.prototype.isValidEnd=function(){return this.isValidTaskaDte(this.end)},t.prototype.isValid=function(){return this.isValidStart()&&this.isValidEnd()},t.prototype.createInvalidDate=function(){return new Date(s)},t.prototype.isValidTaskaDte=function(e){return!!e&&e.getTime()!==s},t}(r.DataObject);t.Task=a},1323:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesDialogCommand=void 0;var i=n(5215),o=n(2698),r=n(6533),s=n(6172),a=n(338),l=n(8610),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resourcesForDelete=[],t}return i.__extends(t,e),t.prototype.onBeforeDialogShow=function(e){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(e,function(t){e.resources=t.values.resources})},t.prototype.applyParameters=function(e,t){this.history.beginTransaction();for(var n=0;n<e.resources.length;n++)t.resources.getItemById(e.resources.getItem(n).internalId)||this.control.commandManager.createResourceCommand.execute(e.resources.getItem(n).text);for(n=0;n<t.resources.length;n++)e.resources.getItemById(t.resources.getItem(n).internalId)||this.resourcesForDelete.push(t.resources.getItem(n));return this.history.endTransaction(),!1},t.prototype.createParameters=function(e){this.callBack=e;var t=new l.ResourcesDialogParameters;return t.resources=new o.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t},t.prototype.afterClosing=function(){var e=this;if(this.resourcesForDelete.length){var t=this.control.commandManager.showConfirmationDialog,n=new a.ConfirmationDialogParameters(s.ConfirmationType.ResourcesDelete,function(){e.history.beginTransaction();for(var t=0;t<e.resourcesForDelete.length;t++)e.control.commandManager.removeResourceCommand.execute(e.resourcesForDelete[t].internalId);e.history.endTransaction()});n.message=this.resourcesForDelete.reduce(function(e,t){return i.__spreadArray(i.__spreadArray([],e,!0),[t.text],!1)},[]).join(", "),this.callBack&&(t.afterClosing=function(){delete r.DialogBase.activeInstance,e.callBack()}),t.execute(n)}else this.callBack&&this.callBack()},t.prototype.getDialogName=function(){return"Resources"},t}(r.DialogBase);t.ResourcesDialogCommand=c},1329:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaContainer=void 0;var n=function(){function e(e,t){this.element=e,this.onScrollHandler=function(){t.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(e){this.element.scrollTop=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(e){this.element.scrollLeft=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.getElement=function(){return this.element},e.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},e}();t.TaskAreaContainer=n},1470:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveTaskHistoryItem=void 0;var i=n(5215),o=n(5593),r=n(8133),s=function(e){function t(t,n){var i=e.call(this)||this;return i.modelManipulator=t,i.taskId=n,i}return i.__extends(t,e),t.prototype.redo=function(){e.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},t.prototype.undo=function(){var t=this;this.modelManipulator.task.create(this.task,this.taskId,function(){window.setTimeout(function(){return e.prototype.undo.call(t)},0)})},t.prototype.undoItemsQuery=function(){var e;this.modelManipulator.task.create(this.task,this.taskId);for(var t=this.historyItems.length-1;e=this.historyItems[t];t--)e instanceof r.CompositionHistoryItem?e.undoItemsQuery():e.undo()},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:o.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(t){return e.taskId=t}},{objectType:o.GanttDataObjectNames.task,getKey:function(){var t;return null===(t=e.task)||void 0===t?void 0:t.parentId},updateKey:function(t){return e.task.parentId=t}}]},enumerable:!1,configurable:!0}),t}(r.CompositionHistoryItem);t.RemoveTaskHistoryItem=s},1477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomOutCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomOut(),!0},t}(o.CommandBase);t.ZoomOutCommand=s},1478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewTypeRangeSettings=void 0;var i=n(961),o=n(9312),r=function(){function e(){this.min=o.ViewType.TenMinutes,this.max=o.ViewType.Years}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.min)&&(n.min=t.min),(0,i.isDefined)(t.max)&&(n.max=t.max)),n},e.prototype.equal=function(e){var t=!0;return(t=t&&this.min===e.min)&&this.max===e.max},e}();t.ViewTypeRangeSettings=r},1652:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttPdfExportProps=void 0;var i=n(3844),o=n(961),r=n(9523),s=n(5575),a=n(2930),l=n(6100),c=function(){function e(e){this.landscape=!1,this.margins=null,this.exportMode=l.ExportMode.all,this.exportDataMode=l.DataExportMode.visible,e&&this.assign(e)}return e.prototype.assign=function(e){if(e){if((0,o.isDefined)(e.pdfDocument)&&(this.pdfDoc=e.pdfDocument),(0,o.isDefined)(e.pdfDoc)&&(this.pdfDoc=e.pdfDoc),this.docCreateMethod=e.docCreateMethod,(0,o.isDefined)(e.fileName)&&(this.fileName=e.fileName),this.landscape=!!e.landscape,(0,o.isDefined)(e.margins)&&(this.margins=new r.Margin(e.margins)),(0,o.isDefined)(e.format)){var t=e.format;if("string"==typeof t)this.format=t;else{var n=parseInt(t.width),c=parseInt(t.height);this.pageSize=new i.Size(n,c)}}else if((0,o.isDefined)(e.pageSize)){var d=e.pageSize;this.pageSize=d instanceof i.Size?d.clone():new i.Size(d.width,d.height)}if((0,o.isDefined)(e.exportMode)&&(this.exportMode=this.getEnumValue(l.ExportMode,e.exportMode)),(0,o.isDefined)(e.dateRange)){var u=e.dateRange;"number"==typeof u||"string"==typeof u?this.exportDataMode=this.getEnumValue(l.DataExportMode,u):this.dateRange=new s.PdfDataRange(u)}(0,o.isDefined)(e.font)&&(this.font=new a.PdfCustomFontSettings(e.font))}},e.prototype.getEnumValue=function(e,t){if(!(0,o.isDefined)(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e.autoFormatKey="auto",e}();t.GanttPdfExportProps=c},1657:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditDialogCommand=void 0;var i=n(5215),o=n(2698),r=n(2105),s=n(8942),a=n(3771),l=n(6533),c=n(4486),d=n(961),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onBeforeDialogShow=function(e){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(e,function(t){var n=t.values;e.start=n.start,e.end=n.end,e.progress=n.progress,e.title=n.title,e.readOnlyFields=t.readOnlyFields,e.hiddenFields=t.hiddenFields})},t.prototype.applyParameters=function(e,t){var n=this;this.history.beginTransaction();var i=this.getUpdatedTaskData(e,t);Object.keys(i).length>0&&setTimeout(function(){return n.control.commandManager.updateTaskCommand.execute(t.id,i)},0);for(var o=0;o<e.assigned.length;o++)if(!t.assigned.getItemById(e.assigned.getItem(o).internalId)){var l=e.assigned.getItem(o).internalId,c=t.id,d=new r.ResourceAssigningArguments(l,c);this.modelManipulator.dispatcher.notifyResourceAssigning(d),d.cancel||this.history.addAndRedo(new s.AssignResourceHistoryItem(this.modelManipulator,d.resourceId,d.taskId))}var u=function(n){var i=t.assigned.getItem(n);if(!e.assigned.getItemById(i.internalId)){var o=p.control.viewModel.assignments.items.filter(function(e){return e.resourceId===i.internalId&&e.taskId===t.id})[0];p.modelManipulator.dispatcher.fireResourceUnassigning(o)&&p.history.addAndRedo(new a.DeassignResourceHistoryItem(p.modelManipulator,o.internalId))}},p=this;for(o=0;o<t.assigned.length;o++)u(o);return this.history.endTransaction(),!1},t.prototype.getUpdatedTaskData=function(e,t){var n={};return(0,d.isDefined)(e.title)&&t.title!==e.title&&(n.title=e.title),(0,d.isDefined)(e.progress)&&t.progress!==e.progress&&(n.progress=e.progress),(0,d.isDefined)(e.start)&&t.start!==e.start&&(n.start=e.start),(0,d.isDefined)(e.end)&&t.end!==e.end&&(n.end=e.end),n},t.prototype.createParameters=function(e){var t=this;e=e||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var n=new c.TaskEditParameters;return n.id=e.internalId,n.title=e.title,n.progress=e.progress,n.start=e.start,n.end=e.end,n.assigned=this.control.viewModel.getAssignedResources(e),n.resources=new o.ResourceCollection,n.resources.addRange(this.control.viewModel.resources.items),n.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,n.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,n.enableEdit=this.isTaskEditEnabled(),n.enableRangeEdit=this.isTaskRangeEditEnabled(e),n.isValidationRequired=this.control.isValidateDependenciesRequired(),n.getCorrectDateRange=function(e,n,i){return t.control.validationController.getCorrectDateRange(e,n,i)},n},t.prototype.isTaskEditEnabled=function(){var e=this.control.settings;return e.editing.enabled&&e.editing.allowTaskUpdate},t.prototype.isTaskRangeEditEnabled=function(e){return!this.control.viewModel.isTaskToCalculateByChildren(e.internalId)},t.prototype.isEnabled=function(){var e=this.control,t=e.viewModel.findItem(e.currentSelectedTaskID);return!!t&&t.selected||this.isApiCall},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&!this.control.taskEditController.dependencyId,t},t.prototype.getDialogName=function(){return"TaskEdit"},t}(l.DialogBase);t.TaskEditDialogCommand=u},1762:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageNavigation=void 0;var n=function(){function e(e,t,n,i,o,r){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=null==e?void 0:e.top,this._left=null==e?void 0:e.left,this._bottom=null==e?void 0:e.bottom,this._right=null==e?void 0:e.right,this.vIndex=null!=t?t:this.vIndex,this.hIndex=null!=n?n:this.hIndex,this.pageX=null!=i?i:this.pageX,this.pageY=null!=o?o:this.pageY,r&&(this._correctedBottoms=r)}return e.prototype.offset=function(e,t){e&&this.offsetOneD(e),t&&this.offsetOneD(t,!0)},e.prototype.offsetOneD=function(e,t){for(var n=e,i=this.getSpaceToBorder(t);i<n;)t?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),n-=i,i=this.getSpaceToBorder(t);t?this.pageY+=n:this.pageX+=n},Object.defineProperty(e.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),e.prototype.getPageEnd=function(e){return e?this.getCurrentPageBottom():this._right},e.prototype.getPageStart=function(e){return e?this._top:this._left},e.prototype.getPageSize=function(e,t){return e?this.getPageHeight(t):this.defaultPageWidth},e.prototype.getSpaceToBorder=function(e){return e?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},e.prototype.getPageGlobalOffset=function(e,t){if(!t)return e*this.defaultPageWidth;for(var n=0,i=1;i<=e;i++)n+=this.getPageHeight(i-1);return n},e.prototype.assign=function(e){this._top=e._top,this._left=e._left,this._bottom=e._bottom,this._right=e._right,this._correctedBottoms=e._correctedBottoms,this.vIndex=e.vIndex,this.hIndex=e.hIndex,this.pageX=e.pageX,this.pageY=e.pageY},e.createFrom=function(t){var n=new e;return n.assign(t),n},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},e.prototype.getPageBottom=function(e){var t;return null!==(t=this._correctedBottoms[e])&&void 0!==t?t:this._bottom},e.prototype.getPageHeight=function(e){return this.getPageBottom(e)-this._top},e}();t.PageNavigation=n},1820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemState=void 0;var n=function(e,t){this.id=e,this.value=t};t.HistoryItemState=n},1833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveResourceCommand=void 0;var i=n(5215),o=n(7102),r=n(3080),s=n(3771),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this,n=this.control.viewModel.resources.items.filter(function(t){return t.internalId===e})[0];if(n){var i=new o.ResourceRemovingArguments(n);if(this.modelManipulator.dispatcher.notifyResourceRemoving(i),!i.cancel){var a=new r.RemoveResourceHistoryItem(this.modelManipulator,e);return this.control.viewModel.assignments.items.filter(function(t){return t.resourceId===e}).forEach(function(e){t.modelManipulator.dispatcher.fireResourceUnassigning(e)&&a.add(new s.DeassignResourceHistoryItem(t.modelManipulator,e.internalId))}),this.history.addAndRedo(a),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},t}(n(2112).ResourceCommandBase);t.RemoveResourceCommand=a},1900:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttPaginator=void 0;var i=n(5327),o=n(3844),r=n(3734),s=n(9244),a=n(5891),l=n(3190),c=n(3820),d=n(5766),u=n(1762),p=function(e,t,n,i,o){this.pageVerIndex=t,this.pageHorIndex=e,this.cellRowIndexOnPage=n,this.cellColIndexOnPage=i,this.cell=o},h=function(){function e(e,t,n,i){this.pageIndex=e,this.globalCellIndex=t,this.pageOffset=n,this.cutSize=i}return Object.defineProperty(e.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),e}(),g=function(){function e(e,t,n){this._pdfDoc=e,this._props=t,this._globalInfo=n}return e.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},e.prototype._paginateTables=function(){this._paginateTable(c.PdfPageTableNames.treeListHeader),this._paginateTable(c.PdfPageTableNames.treeListMain),this._paginateTable(c.PdfPageTableNames.chartScaleBottom),this._paginateTable(c.PdfPageTableNames.chartScaleTop),this._paginateTable(c.PdfPageTableNames.chartMain)},e.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(e.prototype,"pageMatrixToArray",{get:function(){var e,t=new Array;return null===(e=this._pages)||void 0===e||e.forEach(function(e){t=t.concat(e)}),t},enumerable:!1,configurable:!0}),e.prototype._paginateTasks=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.tasks)||void 0===t||t.forEach(function(e){return n._paginateTask(e)})},e.prototype._paginateDependencies=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.dependencies)||void 0===t||t.forEach(function(e){e.arrowInfo?n._paginateArrow(e):n._paginateDependencyLine(e)})},e.prototype._paginateResources=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.resources)||void 0===t||t.forEach(function(e){return n._paginateResource(e)})},e.prototype._paginateTimeMarkers=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.timeMarkers)||void 0===t||t.forEach(function(e){return n._paginateTimeMarker(e)})},e.prototype._paginateTable=function(e){var t,n=null===(t=this._globalInfo)||void 0===t?void 0:t.tables[e];if(n){for(var i=this._getTableStart(n),o=this._preparePagesNavigationMatrixForTable(i,n),r=o.length,s=0;s<r;s++)for(var a=o[s].length,l=0;l<a;l++){var c=o[s][l],d=this._getPage(c.pageVerIndex,c.pageHorIndex,!0),u=c.pageHorIndex===i.hIndex?i.pageX:this.pageLeft,p=c.pageVerIndex===i.vIndex?i.pageY:this.pageTop;this._setTablePositionOnPage(d,e,u,p),this._addCellToPage(d,e,c)}this._updateTableSizeOnPages(e)}},e.prototype._paginateTask=function(e){for(var t=this._getTaskPagination(e),n=this._getTaskPagination(e,!0),i=0;i<n.length;i++)for(var o=0;o<t.length;o++){var r=new s.PdfTaskInfo;r.assign(e),this._offsetPoints(r.sidePoints,t[o].offset,n[i].offset),this._addTaskToPage(n[i].pageIndex,t[o].pageIndex,r)}},e.prototype._paginateArrow=function(e){var t=this._getPointPageInfo(e.points[0]),n=new r.PdfDependencyLineInfo;n.assign(e),this._offsetPoints(n.points,t.offsetX,t.offsetY),this._addDependencyToPage(t.pageVerIndex,t.pageHorIndex,n)},e.prototype._paginateDependencyLine=function(e){for(var t=this._getDependencyLinePagination(e),n=this._getDependencyLinePagination(e,!0),i=0;i<n.length;i++)for(var o=0;o<t.length;o++){var s=new r.PdfDependencyLineInfo;s.assign(e),this._offsetPoints(s.points,t[o].offset,n[i].offset),this._addDependencyToPage(n[i].pageIndex,t[o].pageIndex,s)}},e.prototype._paginateResource=function(e){var t=this._getPointPageInfo(new i.Point(e.x,e.y)),n=new a.PdfTaskResourcesInfo;n.assign(e),n.x-=t.offsetX,n.y-=t.offsetY,this._addResourceToPage(t.pageVerIndex,t.pageHorIndex,n)},e.prototype._paginateTimeMarker=function(e){for(var t=this._getTimeMarkerPagination(e),n=this._getTimeMarkerPagination(e,!0),i=0;i<n.length;i++)for(var o=0;o<t.length;o++){var r=new l.PdfTimeMarkerInfo;r.assign(e),r.start.x-=t[o].offset,r.start.y-=n[i].offset,this._addTimeMarkerToPage(n[i].pageIndex,t[o].pageIndex,r)}},e.prototype._getTableStart=function(e){var t=new u.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return t.offset(e.position.x,e.position.y),t},e.prototype._getPage=function(e,t,n){return n&&this._extendPageMatrixIfRequired(e,t),this._pages[e]&&this._pages[e][t]},e.prototype._getTableOrCreate=function(e,t){var n,i;return null!==(n=(i=e.tables)[t])&&void 0!==n||(i[t]=this._createTable(t)),e.tables[t]},e.prototype._preparePagesNavigationMatrixForTable=function(e,t){for(var n=new Array,i=this._getTableNavigationVector(e,t,!0),o=i.length,r=0;r<o;r++){for(var s=new Array,a=i[r],l=this._getTableNavigationVector(e,t,!1,a.globalCellIndex),d=l.length,u=0;u<d;u++){var h=l[u],g=t.name===c.PdfPageTableNames.chartScaleTop,f=this._prepareCuttedCell(t.cells[a.globalCellIndex][h.globalCellIndex],h,a,g),m=new p(h.pageIndex,a.pageIndex,a.cellIndexOnPage,h.cellIndexOnPage,f);s.push(m)}n.push(s)}return n},e.prototype._setTablePositionOnPage=function(e,t,n,o){this._getTableOrCreate(e,t).position=new i.Point(n,o)},e.prototype._extendPageMatrixIfRequired=function(e,t){var n;null!==(n=this._pages)&&void 0!==n||(this._pages=new Array);for(var i=this._pages.length;i<=e;i++)this._pages.push(new Array);var o=this._pages[e];for(i=o.length;i<=t;i++)o.push(this._createPage())},e.prototype._getTableAndExtendIfRequired=function(e,t,n,i){for(var o=this._getTableOrCreate(e,t),r=o.cells,s=r.length;s<=n;s++)r.push(new Array);var a=r[n];for(s=a.length;s<=i;s++)a.push(new d.CellDef);return o},e.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},e.prototype._createTable=function(e){var t,n=null===(t=this._globalInfo)||void 0===t?void 0:t.tables[e];return{name:e,size:null,position:null,style:n.style,baseCellSize:n.baseCellSize,cells:new Array,hideRowLines:n.hideRowLines}},e.prototype._addCellToPage=function(e,t,n){var i=n.cellRowIndexOnPage,o=n.cellColIndexOnPage;this._getTableAndExtendIfRequired(e,t,i,o).cells[i][o].assign(n.cell)},e.prototype._updateTableSizeOnPages=function(e){for(var t,n=null===(t=this._pages[0])||void 0===t?void 0:t.length,i=this._pages.length,o=0;o<i;o++)for(var r=0;r<n;r++)this._updateTableSizeOnPage(this._pages[o][r],e)},e.prototype._updateTableSizeOnPage=function(e,t){var n,i=this,r=null==e?void 0:e.tables[t];if(r){var s=r.cells.length*r.baseCellSize.height||0,a=(null===(n=r.cells[0])||void 0===n?void 0:n.reduce(function(e,t,n){return e+i._getCellWidth(r,0,n)},0))||0;r.size=new o.Size(a,s)}},e.prototype._getTableNavigationVector=function(e,t,n,i){var o,r;void 0===n&&(n=!1),void 0===i&&(i=0);for(var s=new Array,a=u.PageNavigation.createFrom(e),l=n?null===(o=t.cells)||void 0===o?void 0:o.length:null===(r=t.cells[i])||void 0===r?void 0:r.length,c=0;c<l;c++){var d=n?t.baseCellSize.height:this._getCellWidth(t,i,c);this._placeCell(s,a,c,d,n)}return s},e.prototype._placeCell=function(e,t,n,i,o){var r,s,a=o?t.vIndex:t.hIndex,l=null!==(s=null===(r=e[e.length-1])||void 0===r?void 0:r.pageOffset)&&void 0!==s?s:n,c=i,d=t.getSpaceToBorder(o);t.offsetOneD(i,o);var u=o?t.vIndex:t.hIndex;if(!o)for(var p=a;p<u;p++){var g=new h(p,n,l,d);l=n,e.push(g),c-=d,d=t.getPageSize(o)}u!==a&&(l=n);var f=new h(u,n,l,c!==i?c:null);e.push(f)},e.prototype._prepareCuttedCell=function(e,t,n,i){var o=new d.CellDef(e);if(t.isCutted){var r=t.cutSize;if(!i){var s=o.content,a=e.styles,l=r-(a&&a.cellPadding.left||0)-(a&&a.cellPadding.right||0),c=this._pdfDoc.splitTextToSize(s,l);e.content=s.replace(c[0],""),o.content=c[0]}o.styles.cellWidth.assign(r)}return n.isCutted&&(o.styles.minCellHeight=n.cutSize),o},e.prototype._getCellWidth=function(e,t,n){var i,o=e.cells[t][n],r=o.styles,s=r.cellWidth.getValue(),a=null!=s?s:r.minCellWidth;return null!=a?a:e.baseCellSize.width*(null!==(i=o.colSpan)&&void 0!==i?i:1)},e.prototype._getTaskPagination=function(e,t){var n=t?e.height:e.width,i=t?e.top:e.left;return this._getLinePagination(i,n,t)},e.prototype._getDependencyLinePagination=function(e,t){var n=e.points[0],i=e.points[1],o=t?i.y-n.y:i.x-n.x,r=t?n.y:n.x;return this._getLinePagination(r,o,t)},e.prototype._getTimeMarkerPagination=function(e,t){var n=t?e.size.height:e.size.width,i=t?e.start.y:e.start.x;return this._getLinePagination(i,n,t)},e.prototype._getLinePagination=function(e,t,n){var i=new Array,o=this.pageNavigator.clone();o.offsetOneD(e,n);var r=n?o.vIndex:o.hIndex;o.offsetOneD(t,n);for(var s=n?o.vIndex:o.hIndex,a=r;a<=s;a++)i.push({offset:o.getPageGlobalOffset(a,n),pageIndex:a});return i},e.prototype._getPointPageInfo=function(e){var t=this.pageNavigator.clone();return t.offset(e.x,e.y),{offsetX:t.getPageGlobalOffset(t.hIndex),offsetY:t.getPageGlobalOffset(t.vIndex,!0),pageHorIndex:t.hIndex,pageVerIndex:t.vIndex}},Object.defineProperty(e.prototype,"pageWidth",{get:function(){var e;return null===(e=this._pdfDoc)||void 0===e?void 0:e.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageHeight",{get:function(){var e;return null===(e=this._pdfDoc)||void 0===e?void 0:e.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeftMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTopMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageRightMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBottomMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeft",{get:function(){var e;return null!==(e=this._pageLeft)&&void 0!==e||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageRight",{get:function(){var e;return null!==(e=this._pageRight)&&void 0!==e||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTop",{get:function(){var e;return null!==(e=this._pageTop)&&void 0!==e||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBottom",{get:function(){var e;return null!==(e=this._pageBottom)&&void 0!==e||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"correctedPageBottoms",{get:function(){var e;return null!==(e=this._correctedPageBottoms)&&void 0!==e||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageNavigator",{get:function(){var e;return null!==(e=this._pageNavigator)&&void 0!==e||(this._pageNavigator=new u.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),e.prototype._getCorrectedPagesBottom=function(){var e,t,n,i,o=new Array,r=null===(e=this._globalInfo)||void 0===e?void 0:e.tables,s=null!==(t=r[c.PdfPageTableNames.treeListMain])&&void 0!==t?t:r[c.PdfPageTableNames.chartMain],a=new u.PageNavigation(this.pageBorders);a.pageY=s.position.y;for(var l=0;l<s.cells.length;l++){var d=null!==(i=null===(n=s.cells[l][0].styles)||void 0===n?void 0:n.minCellHeight)&&void 0!==i?i:s.baseCellSize.height,p=a.vIndex,h=a.pageY;a.offsetOneD(d,!0),p!==a.vIndex&&(o.push(h),a.pageY=a.getPageStart(!0)+d)}return o},e.prototype._addTaskToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).tasks)&&void 0!==i||(o.tasks=new Array),r.objects.tasks.push(n))},e.prototype._addDependencyToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).dependencies)&&void 0!==i||(o.dependencies=new Array),r.objects.dependencies.push(n))},e.prototype._addResourceToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).resources)&&void 0!==i||(o.resources=new Array),r.objects.resources.push(n))},e.prototype._addTimeMarkerToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).timeMarkers)&&void 0!==i||(o.timeMarkers=new Array),r.objects.timeMarkers.push(n))},e.prototype._offsetPoints=function(e,t,n){e.forEach(function(e){e.x-=t,e.y-=n})},e}();t.PdfGanttPaginator=g},1922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;var i=n(961),o=function(){function e(e){this._num=null,this._opacity=1,this._rgb=null,this.assign(e)}return Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),e.prototype.hasValue=function(){return(0,i.isDefined)(this._num)||!!this._rgb||0===this._opacity},e.prototype.getValue=function(){return!(0===this._opacity&&!this._rgb)&&((0,i.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},e.prototype.assign=function(t){this.reset(),"string"==typeof t&&this.assignFromString(t),"number"==typeof t&&(this._num=t),t instanceof Array&&this.assignFromRgbArray(t),t instanceof e&&this.assignFromColor(t)},e.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},e.prototype.assignFromString=function(e){e&&("transparent"===e&&(this._opacity=0),0===e.indexOf("#")&&this.assignFromHexString(e),"rgb"===e.substr(0,3).toLowerCase()&&this.assignFromRgbString(e))},e.prototype.assignFromHexString=function(e){if(4===e.length&&(e="#"+e[1].repeat(2)+e[2].repeat(2)+e[3].repeat(2)),e.length>6){var t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),i=parseInt(e.substr(5,2),16);this._rgb=[t,n,i]}},e.prototype.assignFromRgbString=function(t){var n="rgba"===t.substr(0,4).toLowerCase(),i=t.toLowerCase().match(n?e.rgbaRegexp:e.rgbRegexp);if(i){var o=parseInt(i[1]),r=parseInt(i[2]),s=parseInt(i[3]);this._rgb=[o,r,s],n&&(this._opacity=parseFloat(i[4]))}},e.prototype.assignFromRgbArray=function(e){e&&e.length>2&&(this._rgb=[e[0],e[1],e[2]],(0,i.isDefined)(e[3])&&(this._opacity=e[3]))},e.prototype.assignFromColor=function(e){this._opacity=e._opacity,this._num=e._num,this._rgb=e._rgb},e.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},e.prototype.applyOpacityToBackground=function(t){if(1!==this._opacity){var n=(t instanceof e?t:new e(t)).getValue();if(n instanceof Array){var i=this.opacity,o=Math.round((1-i)*n[0]+i*this._rgb[0]),r=Math.round((1-i)*n[1]+i*this._rgb[1]),s=Math.round((1-i)*n[2]+i*this._rgb[2]);this._rgb=[o,r,s]}}},e.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,e.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,e}();t.Color=o},2105:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssigningArguments=void 0;var i=n(5215),o=function(e){function t(t,n){var i=e.call(this,null)||this;return i.values={resourceId:t,taskId:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),t}(n(1237).BaseArguments);t.ResourceAssigningArguments=o},2112:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCommandBase=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.ResourceCommandBase=s},2254:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyHistoryItem=void 0;var i=n(5215),o=n(5593),r=function(e){function t(t,n){var i=e.call(this,t)||this;return i.dependencyId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:o.GanttDataObjectNames.dependency,getKey:function(){return e.dependencyId},updateKey:function(t){return e.dependencyId=t}},{objectType:o.GanttDataObjectNames.task,getKey:function(){var t;return null===(t=e.dependency)||void 0===t?void 0:t.predecessorId},updateKey:function(t){return e.dependency.predecessorId=t}},{objectType:o.GanttDataObjectNames.task,getKey:function(){var t;return null===(t=e.dependency)||void 0===t?void 0:t.successorId},updateKey:function(t){return e.dependency.successorId=t}}]},enumerable:!1,configurable:!0}),t}(n(9105).HistoryItem);t.RemoveDependencyHistoryItem=r},2301:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarManager=void 0;var n=function(){function e(e,t){this.commandManager=e,this.bars=t}return e.prototype.updateContextMenu=function(){for(var e=0,t=void 0;t=this.bars[e];e++)if(t.isContextMenu()){t.updateItemsList();for(var n=t.getCommandKeys(),i=0;i<n.length;i++)this.updateBarItem(t,n[i])}},e.prototype.updateItemsState=function(e){for(var t=!!e.length,n=function(n,o){if(o.isVisible()){for(var r=o.getCommandKeys(),s=function(n){if(t&&!e.filter(function(e){return e==r[n]}).length)return"continue";i.updateBarItem(o,r[n])},a=0;a<r.length;a++)s(a);o.completeUpdate()}},i=this,o=0,r=void 0;r=this.bars[o];o++)n(0,r)},e.prototype.updateBarItem=function(e,t){var n=this.commandManager.getCommand(t);if(n){var i=n.getState();e.setItemVisible(t,i.visible),i.visible&&(e.setItemEnabled(t,i.enabled),e.setItemValue(t,i.value))}},e}();t.BarManager=n},2307:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateTaskCommand=void 0;var i=n(5215),o=n(4680),r=n(3550),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(t){var n,i;if(null!=t||(t={}),!t.parentId){var s=this.control.viewModel.findItem(this.control.currentSelectedTaskID),a=s&&s.task;a&&(t.parentId=a.parentId)}var l=this.control.viewModel.findItem(t.parentId)||this.control.viewModel.items[0],c=l&&l.task;t.start||(t.start=c?new Date(c.start.getTime()):new Date(this.control.range.start.getTime())),t.end||(t.end=c?new Date(c.end.getTime()):new Date(this.control.range.end.getTime())),null!==(n=t.title)&&void 0!==n||(t.title="New task"),null!==(i=t.progress)&&void 0!==i||(t.progress=0);var d=new o.TaskInsertingArguments(null,t);if(this.modelManipulator.dispatcher.notifyTaskCreating(d),!d.cancel){this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,d));var u=this.control.viewModel.findItem(t.parentId);e.prototype.updateParent.call(this,u)}return!d.cancel},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t}(n(4130).TaskCommandBase);t.CreateTaskCommand=s},2318:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCommandBase=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.DependencyCommandBase=s},2334:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleCellPreparedArguments=void 0;var n=function(){function e(e){this.info=e}return Object.defineProperty(e.prototype,"scaleIndex",{get:function(){var e;return null===(e=this.info)||void 0===e?void 0:e.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleType",{get:function(){var e;return null===(e=this.info)||void 0===e?void 0:e.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){var e,t;return null===(t=null===(e=this.info)||void 0===e?void 0:e.range)||void 0===t?void 0:t.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){var e,t;return null===(t=null===(e=this.info)||void 0===e?void 0:e.range)||void 0===t?void 0:t.end},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElement",{get:function(){var e;return null===(e=this.info)||void 0===e?void 0:e.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"separatorElement",{get:function(){var e;return null===(e=this.info)||void 0===e?void 0:e.separatorElement},enumerable:!1,configurable:!0}),e}();t.ScaleCellPreparedArguments=n},2345:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourseRender=void 0;var i=n(1040),o=function(){function e(e){this._resourcesElements=[],this._renderHelper=e}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),e.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},e.prototype.getTaskResourcesVisibility=function(e){return this._renderHelper.getTaskResourcesVisibility(e)},e.prototype.createResources=function(e){for(var t=this.getViewItem(e).resources.items,n=0;n<t.length;n++)this.createResourceElement(e,t[n])},e.prototype.createResourcesWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(e);i.RenderElementUtils.create(t,e,this.taskArea,this.resourcesElements),this.resourcesElements[e].style.display=this.getTaskResourcesVisibility(e)?"":"none"},e.prototype.createResourceElement=function(e,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var o=i.RenderElementUtils.create(n,e,this.resourcesElements[e]);o.innerText=t.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(o)},e}();t.ResourseRender=o},2376:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModelChangesDispatcher=void 0;var i=n(6662),o=n(2814),r=n(7622),s=n(9299),a=n(826),l=function(){function e(){this.onModelChanged=new a.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",e)},e.prototype.notifyTaskCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",e,t,n)},e.prototype.notifyTaskRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",e)},e.prototype.notifyTaskRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",e,t,n)},e.prototype.notifyTaskUpdating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",e)},e.prototype.notifyTaskMoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",e)},e.prototype.notifyTaskEditDialogShowing=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",e)},e.prototype.notifyResourceManagerDialogShowing=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",e)},e.prototype.notifyTaskUpdated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",e,t,n)},e.prototype.notifyParentTaskUpdated=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",e,t)},e.prototype.notifyDependencyInserting=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",e)},e.prototype.notifyDependencyInserted=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",e,t,n)},e.prototype.notifyDependencyRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",e)},e.prototype.notifyDependencyRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",e,t,n)},e.prototype.notifyResourceCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",e)},e.prototype.notifyResourceCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",e,t,n)},e.prototype.notifyResourceRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",e)},e.prototype.notifyResourceRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",e,t,n)},e.prototype.notifyResourceColorChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",e,t,n)},e.prototype.notifyResourceAssigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",e)},e.prototype.notifyResourceAssigned=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",e,t,n)},e.prototype.notifyResourceUnassigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",e)},e.prototype.notifyResourceUnassigned=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",e,t,n)},e.prototype.notifyParentDataRecalculated=function(e){this.onModelChanged.raise("NotifyParentDataRecalculated",e)},e.prototype.notifyScaleCellPrepared=function(e){this.onModelChanged.raise("NotifyScaleCellPrepared",e)},e.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},e.prototype.fireResourceUnassigning=function(e){var t=new r.ResourceUnassigningArguments(e);return this.notifyResourceUnassigning(t),!t.cancel},e.prototype.raiseTaskUpdating=function(e,t,n){var i=new s.TaskUpdatingArguments(e,t);return this.notifyTaskUpdating(i),!i.cancel&&(n(i.newValues),!0)},e.prototype.raiseTaskMoving=function(e,t,n,i){var o=new s.TaskUpdatingArguments(e,{start:t,end:n});return this.notifyTaskMoving(o),!o.cancel&&(i(o.start,o.end),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(e,t){var n=new o.TaskEditDialogShowingArguments(e);return this.notifyTaskEditDialogShowing(n),!n.cancel&&(t(n),!0)},e.prototype.raiseResourceManagerDialogShowing=function(e,t){var n=new i.ResourceManagerDialogShowingArguments(e);return this.notifyResourceManagerDialogShowing(n),!n.cancel&&(t(n),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}();t.ModelChangesDispatcher=l},2399:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TableOptions=void 0;var i=n(961),o=n(5766),r=n(1922),s=n(6837),a=n(9523),l=n(2945),c=n(4705),d=function(){function e(){this._margin=new a.Margin,this._tableLineColor=new r.Color,this._tableWidth=new c.Width,this._styles=new l.StyleDef,this._alternateRowStyles=new l.StyleDef}return Object.defineProperty(e.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(e){this._pageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(e){this._rowPageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showHead",{get:function(){return this._showHead},set:function(e){this._showHead=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showFoot",{get:function(){return this._showFoot},set:function(e){this._showFoot=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startY",{get:function(){return this._startY},set:function(e){this._startY=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(e){this._tableLineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e=this,t={};return t.pageBreak=this.pageBreak,t.rowPageBreak=this.rowPageBreak,t.showFoot=this.showFoot,t.showHead=this.showHead,t.startY=this.startY,t.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach(function(n){var i=e[n];i&&i.hasValue()&&(t[n]=i.getValue())}),t.body=this.getBodyForJsPdf(),t.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(t.didDrawCell=this.onDrawCellCallback),t},e.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},e.prototype.getBodyForJsPdf=function(){for(var e=[],t=0;t<this._body.length;t++){for(var n=this._body[t],i=[],o=0;o<n.length;o++)i.push(n[o].getValue());e.push(i)}return e},e.prototype.assign=function(e){e&&((0,i.isDefined)(e.margin)&&this.margin.assign(e.margin),(0,i.isDefined)(e.pageBreak)&&(this.pageBreak=e.pageBreak),(0,i.isDefined)(e.rowPageBreak)&&(this.rowPageBreak=e.rowPageBreak),(0,i.isDefined)(e.showFoot)&&(this.showFoot=e.showFoot),(0,i.isDefined)(e.showHead)&&(this.showHead=e.showHead),(0,i.isDefined)(e.startY)&&(this.startY=e.startY),(0,i.isDefined)(e.tableLineWidth)&&(this.tableLineWidth=e.tableLineWidth),(0,i.isDefined)(e.tableLineColor)&&this.tableLineColor.assign(e.tableLineColor),(0,i.isDefined)(e.tableWidth)&&this.tableWidth.assign(e.tableWidth))},e.prototype.addBody=function(e){e&&(this._body=new Array,this.addCells(e,this._body))},e.prototype.addCells=function(e,t){for(var n=this.styles.fillColor,i=0;i<e.length;i++){for(var r=e[i],s=new Array,a=0;a<r.length;a++){var l=new o.CellDef(r[a]);n.hasValue()&&l.styles&&l.styles.fillColor.hasValue()&&l.styles.fillColor.applyOpacityToBackground(n),s.push(l)}t.push(s)}},e.prototype.applyColumnStyle=function(e,t){var n;null!==(n=this._columnStyles)&&void 0!==n||(this._columnStyles=new Array),this._columnStyles[e]=new l.StyleDef(t)},e.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var e={};return this._columnStyles.forEach(function(t,n){t&&(e[n]=t.getValue())}),e}return null},e}();t.TableOptions=d},2424:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttTableDrawer=void 0;var i=n(961),o=n(3820),r=n(70),s=n(2399),a=function(){function e(e){this._pdfDoc=e}return e.prototype.drawTable=function(e){var t,n;if(e){var i=this.createTableOptions(e);(null===(t=e.style)||void 0===t?void 0:t.fontSize)&&this._pdfDoc.setFontSize(null===(n=e.style)||void 0===n?void 0:n.fontSize),this._pdfDoc.autoTable(i.getValue())}},e.prototype.createTableOptions=function(e){var t=this.createDefaultTableOptions();return this.addTableCommonSettings(e,t),this.addCommonTableStyles(e,t),this.prepareBodyCells(e),t.addBody(e.cells),e.hideRowLines&&this.hideRowLines(t),t},e.prototype.createDefaultTableOptions=function(){var e=new s.TableOptions;return e.pageBreak="auto",e.margin.assign(0),e.tableWidth.assign("auto"),e.styles.cellPadding.assign(0),e.styles.halign="center",e.styles.valign="middle",e.styles.lineWidth=1,e.styles.overflow="hidden",e},e.prototype.addTableCommonSettings=function(e,t){t.startY=e.position.y,t.margin.assign({left:e.position.x}),t.tableWidth.assign(e.size.width)},e.prototype.addCommonTableStyles=function(e,t){var n=t.styles;n.assign(e.style),0===n.fillColor.opacity&&n.fillColor.assign("#FFFFFF"),n.minCellHeight=e.baseCellSize.height,t.alternateRowStyles.minCellHeight=t.styles.minCellHeight,t.alternateRowStyles.fillColor.assign(t.styles.fillColor),(0,i.isDefined)(e.baseCellSize.width)&&n.cellWidth.assign(e.baseCellSize.width)},e.prototype.prepareBodyCells=function(t){var n,i,s;if(t.name===o.PdfPageTableNames.treeListMain||t.name===o.PdfPageTableNames.chartScaleTop||t.name===o.PdfPageTableNames.chartScaleBottom)for(var a=t.cells,l=0;l<a.length;l++)for(var c=a[l],d=0;d<c.length;d++){var u=c[d],p=u.styles,h=(null===(n=null==p?void 0:p.cellWidth)||void 0===n?void 0:n.getValue())||t.baseCellSize.width||0,g=null!==(i=null==p?void 0:p.cellPadding.left)&&void 0!==i?i:0,f=null!==(s=null==p?void 0:p.cellPadding.right)&&void 0!==s?s:0,m=Math.max(h-g-f-e.cellEllipsisSpace,0);u.content=r.EllipsisHelper.limitPdfTextWithEllipsis(u.content,this._pdfDoc,m)}},e.prototype.hideRowLines=function(e){e.styles.lineWidth=0,e.onDrawCellCallback=function(e){var t=e.cell,n=e.doc,i=t.styles.lineColor,o=t.x,r=t.x+t.styles.cellWidth,s=t.y,a=t.y+e.row.height,l=e.column.index===e.table.columns.length-1,c=e.row.index===e.table.body.length-1,d=0===e.row.index;n.setDrawColor(i[0],i[1],i[2]),n.setLineWidth(1),n.line(o,a,o,s),l&&n.line(r,a,r,s),d&&n.line(o,s,r,s),c&&n.line(o,a,r,a)}},e.cellEllipsisSpace=3,e}();t.PdfGanttTableDrawer=a},2449:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditTooltip=void 0;var i=n(750),o=function(){function e(e,t,n){this.parentElement=e,this.cultureInfo=n,this.tooltipSettings=t}return Object.defineProperty(e.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),e.prototype.destroyTemplate=function(e){this.tooltipSettings.destroyTemplate(e)},e.prototype.formatDate=function(e){return this.tooltipSettings.formatDate(e)},e.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},e.prototype.setDefaultTooltip=function(t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var n=document.createElement("DIV");n.className=e.CLASSNAMES.TASK_EDIT_TASK_TITLE;var i=document.createElement("SPAN");if(n.appendChild(i),this.defaultTooltip.appendChild(n),i.innerText=t.title,this.defaultTooltip.appendChild(this.getTimeContent(t.start,t.end)),!isNaN(t.progress)){var o=document.createElement("DIV");o.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),s=document.createElement("SPAN");o.appendChild(r),o.appendChild(s),this.defaultTooltip.appendChild(o),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",s.innerText=t.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},e.prototype.setDefaultProgressTooltip=function(t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=t+"%",this.baseElement.appendChild(this.defaultTooltip)},e.prototype.setDefaultTimeTooltip=function(t,n){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(t,n)),this.baseElement.appendChild(this.defaultTooltip)},e.prototype.showInfo=function(e,t,n){var i=this;void 0===n&&(n=0);var o=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),o?o(this.baseElement,e,function(){i.showTooltip(t,!1,n)}):(this.setDefaultTooltip(e),this.showTooltip(t,!1,n))},e.prototype.showProgress=function(e,t){var n=this,i=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),i?i(this.baseElement,{progress:e},function(){n.showTooltip(t)}):(this.setDefaultProgressTooltip(e),this.show(t))},e.prototype.showTime=function(e,t,n){var i=this,o=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),o?o(this.baseElement,{start:e,end:t},function(){i.showTooltip(n)}):(this.setDefaultTimeTooltip(e,t),this.show(n))},e.prototype.showTooltip=function(e,t,n){var i,o=this;if(void 0===t&&(t=!0),void 0===n&&(n=0),null===(i=this.baseElement)||void 0===i?void 0:i.innerHTML){var r=function(){o.show(e,t)};n?this.timerId=setTimeout(r,n):r()}},e.prototype.show=function(t,n){var i,o,r,s=this;void 0===n&&(n=!0),null===(i=this.defaultTooltip)||void 0===i||i.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),null===(o=this.defaultTooltip)||void 0===o||o.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var a=this.getLeftPosition(t),l=this.needToShowUnderParent(),c=this.getTopPosition(l),d=l?e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;null===(r=this.defaultTooltip)||void 0===r||r.classList.add(d),this.baseElement.style.left=a+"px",this.baseElement.style.top=c+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){s.hide()},1500))},e.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},e.prototype.getTimeContent=function(t,n){var i=document.createElement("TABLE");i.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var o=document.createElement("TBODY");i.appendChild(o);var r=document.createElement("TR"),s=document.createElement("TD"),a=document.createElement("TD"),l=document.createElement("TR"),c=document.createElement("TD"),d=document.createElement("TD");return r.appendChild(s),r.appendChild(a),l.appendChild(c),l.appendChild(d),o.appendChild(r),o.appendChild(l),s.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",a.innerText=this.formatDate(t),c.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",d.innerText=this.formatDate(n),i},e.prototype.getLeftPosition=function(t){var n=t-i.DomUtils.getAbsolutePositionX(this.parentElement)-2*e.defaultArrowHeight;if(this.taskAreaContainer){var o=i.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),r=t+this.baseElement.clientWidth-o;r>0&&(n-=r)}return n},e.prototype.getTopPosition=function(t){return t?this.parentElement.clientHeight+e.defaultArrowHeight:-this.baseElement.clientHeight-e.defaultArrowHeight},e.prototype.needToShowUnderParent=function(){var t,n=i.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-i.DomUtils.getDocumentScrollTop()-e.defaultHeightOffset,o=(null===(t=this.taskAreaContainer)||void 0===t?void 0:t.scrollTop)||0,r=this.parentElement.offsetTop-o;return this.baseElement.clientHeight>n||this.baseElement.clientHeight>r},e.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},e.defaultArrowHeight=5,e.defaultHeightOffset=15,e}();t.TaskEditTooltip=o},2528:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StripLinesRender=void 0;var i=n(1040),o=function(){function e(e){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=e}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(e){this._renderedStripLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._renderedStripLines=[]},e.prototype.recreateStripLines=function(){var e=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);i.RenderElementUtils.recreate(this.renderedStripLines,t,function(t){i.RenderElementUtils.remove(t,null,e.taskArea,e.stripLinesMap)},function(t){return i.RenderElementUtils.create(t,null,e.taskArea,e.stripLinesMap)}),this.renderedStripLines=t},e}();t.StripLinesRender=o},2578:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaStateController=void 0;var i=n(5327),o=n(750),r=n(8451),s=n(2792),a=n(9312),l=n(5617),c=n(5785),d=n(9091),u=n(349),p=n(6118),h=n(6211),g=n(8885),f=n(3266),m=function(){function e(e,t,n){var o=this;this.position=new i.Point(-1,-1),this._pointers={},this._listener=e,this._listener.setHandler(p.TaskAreaStateEventNames.STATE_EXIT,function(){o.switchToDefaultState()}),this._listener.setHandler(p.TaskAreaStateEventNames.GET_POINTERS_INFO,function(e){return o.getPointersInfo(e.triggerEvent)}),this._taskArea=t,this._cellSize=n,this.switchToDefaultState()}return e.prototype.onKeyDown=function(e){this._state.onKeyDown(e)},e.prototype.onScroll=function(e){this._state.onScroll(e)},e.prototype.onContextMenu=function(e){this._state.onContextMenu(e)},e.prototype.onMouseWheel=function(e){e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),this.switchState(h.TaskAreaZoomState)),this._state.onMouseWheel(e)},Object.defineProperty(e.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.onTaskPointerEnter=function(e){this._state.onTaskPointerEnter(e)},e.prototype.onTaskAreaPointerLeave=function(e){this._state.onTaskAreaLeave(e)},e.prototype.onDocumentPointerCancel=function(e){this._clearPointerInfo(e)},e.prototype.onDocumentPointerDown=function(e){this._updatePinterInfo(e),this.toggleStateOnPointerDown(e),this._state.onDocumentPointerDown(e)},e.prototype.onDocumentPointerMove=function(e){this._updatePinterInfo(e),this.toggleStateOnPointerMove(e),this._state.onDocumentPointerMove(e)},e.prototype.onDocumentPointerUp=function(e){this._clearPointerInfo(e),this._state.onDocumentPointerUp(e)},e.prototype.onTaskTouchStart=function(e){this._state.onTaskTouchStart(e)},e.prototype.onTouchStart=function(e){this.toggleStateOnPointerDown(e),this._state.onTouchStart(e)},e.prototype.onTouchEnd=function(e){this._state.onTouchEnd(e)},e.prototype.onTouchMove=function(e){this.toggleStateOnPointerMove(e),this._state.onTouchMove(e)},e.prototype.onClick=function(e){this._state.onClick(e)},e.prototype.onDblClick=function(e){this._state.onDblClick(e)},e.prototype.onTaskAreaMouseLeave=function(e){this._state.onTaskAreaLeave(e)},e.prototype.onTaskElementHover=function(e){this._state.onTaskHover(e)},e.prototype.onTaskElementLeave=function(e){this._state.onTaskLeave(e)},e.prototype.onMouseUp=function(e){this._state.onMouseUp(e)},e.prototype.onMouseMove=function(e){this._state.onMouseMove(e)},e.prototype.onMouseDown=function(e){switch(this.getTaskAreaEventSource(e)){case a.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(e);break;case a.TaskAreaEventSource.TaskEdit_Frame:this.switchState(f.TaskMoveState);break;case a.TaskAreaEventSource.TaskEdit_Progress:case a.TaskAreaEventSource.TaskEdit_Start:case a.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState);break;case a.TaskAreaEventSource.TaskEdit_DependencyStart:case a.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(c.TaskAreaDependencyState)}this._state.onMouseDown(e)},Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),e.prototype.switchToDefaultState=function(){this._state=new l.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},e.prototype.switchState=function(e){this._state instanceof e||(this._state&&this._state.finish(),this._state=new e(this._listener,this.taskArea,this._cellSize),this._state.start())},e.prototype.processMouseDownOnTaskArea=function(e){r.EvtUtils.isLeftButtonPressed(e)&&!d.TaskAreaDomHelper.isConnectorLine(e)&&this.switchState(u.TaskAreaScrollState)},e.prototype.toggleStateOnPointerDown=function(e){var t=this.toggleStateWhenMultiOrOutsideTouch(e);if(this.position=new i.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e)),!t&&this._canStartDrag(e))switch(this.getTaskAreaEventSource(e)){case a.TaskAreaEventSource.TaskEdit_DependencyStart:case a.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(c.TaskAreaDependencyState);break;case a.TaskAreaEventSource.TaskEdit_Progress:case a.TaskAreaEventSource.TaskEdit_Start:case a.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},e.prototype.toggleStateOnPointerMove=function(e){var t=this.toggleStateWhenMultiOrOutsideTouch(e),n=Math.abs(this.position.x-r.EvtUtils.getEventX(e))>1||Math.abs(this.position.y-r.EvtUtils.getEventY(e))>1;if(!t&&n&&this._canStartDrag(e)&&this._state instanceof l.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(e)){case a.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(e)?this.switchState(f.TaskMoveState):this.switchState(u.TaskAreaScrollState);break;case a.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(u.TaskAreaScrollState):this.switchState(f.TaskMoveState);break;case a.TaskAreaEventSource.TaskEdit_Progress:case a.TaskAreaEventSource.TaskEdit_Start:case a.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},e.prototype.toggleStateWhenMultiOrOutsideTouch=function(e){var t=this._getActivePointersCount(e),n=!this.isInTaskArea(e),i=t>=2||n;return t>2||n?this.switchState(l.TaskAreaDefaultState):2===t&&this.switchState(h.TaskAreaZoomState),i},e.prototype.checkEventInTaskEditFrameArea=function(e){var t,n,i=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!i)return!1;var o=(null==e?void 0:e.clientX)||(null===(t=null==e?void 0:e.touches[0])||void 0===t?void 0:t.clientX),r=(null==e?void 0:e.clientY)||(null===(n=null==e?void 0:e.touches[0])||void 0===n?void 0:n.clientY),s=i.getBoundingClientRect();return o>=s.left&&o<=s.left+s.width&&r>=s.top&&r<=s.top+s.height},e.prototype.isTaskUpdateDisabled=function(){return"false"===this._taskArea.getAttribute("task-edit-enabled")},e.prototype.isInTaskArea=function(e){return o.DomUtils.isItParent(this._taskArea,r.EvtUtils.getEventSource(e))},e.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},e.prototype._updatePinterInfo=function(e){var t=e.pointerId;this._pointers[t]={pageX:e.pageX,pageY:e.pageY,pointerType:e.pointerType}},e.prototype._clearPointerInfo=function(e){var t=e.pointerId;delete this._pointers[t]},e.prototype.isTouchEvent=function(e){return d.TaskAreaDomHelper.isTouchEvent(e)},e.prototype.isPointerEvent=function(e){return d.TaskAreaDomHelper.isPointerEvent(e)},e.prototype._getActivePointersCount=function(e){var t=this;return this.isTouchEvent(e)?e.touches.length:Object.keys(this._pointers).filter(function(n){return t._pointers[n].pointerType===e.pointerType}).length},e.prototype.getPointersInfo=function(e){var t=this,n=null==e?void 0:e.pointerType,i=Object.keys(this._pointers).map(function(e){return t._pointers[e]});return n&&(i=i.filter(function(e){return e.pointerType===n})),i},e.prototype._canStartDrag=function(e){return!(this._getActivePointersCount(e)>1)&&(!d.TaskAreaDomHelper.isMousePointer(e)||1===e.buttons)&&!d.TaskAreaDomHelper.isConnectorLine(e)},e.prototype.getTaskAreaEventSource=function(e){return d.TaskAreaDomHelper.getEventSource(r.EvtUtils.getEventSource(e))},e}();t.TaskAreaStateController=m},2615:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceCommand=void 0;var i=n(5215),o=n(3771),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this.control.viewModel.assignments.items.filter(function(t){return t.internalId===e})[0];return!(!t||!this.modelManipulator.dispatcher.fireResourceUnassigning(t))&&(this.history.addAndRedo(new o.DeassignResourceHistoryItem(this.modelManipulator,e)),!0)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(n(2112).ResourceCommandBase);t.DeassignResourceCommand=r},2631:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignment=void 0;var i=n(5215),o=n(961),r=function(e){function t(){var t=e.call(this)||this;return t.taskId="",t.resourceId="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){(0,o.isDefined)(t)&&(e.prototype.assignFromObject.call(this,t),this.taskId=String(t.taskId),this.resourceId=String(t.resourceId))},t}(n(5593).DataObject);t.ResourceAssignment=r},2684:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfObjectDrawer=void 0;var i=n(9312),o=n(70),r=n(9244),s=function(){function e(e,t){this._FONT_ROW_RATIO=1.15,this._info=t,this._pdfDoc=e}return e.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},e.prototype.drawTasks=function(){var e,t=this,n=null===(e=this._info)||void 0===e?void 0:e.tasks;n&&n.forEach(function(e){return t.drawTask(e)})},e.prototype.drawTask=function(e){var t=this._pdfDoc;t.setFillColor.apply(t,e.taskColor.getRBGColor()),t.setDrawColor.apply(t,e.taskColor.getRBGColor()),e.isMilestone?this.drawMilestone(e):this.drawRegularTask(e)},e.prototype.drawMilestone=function(e){var t=this._pdfDoc,n=e.sidePoints[0].x,i=e.sidePoints[0].y,o=e.sidePoints[1].x,r=e.sidePoints[1].y,s=e.sidePoints[2].x,a=e.sidePoints[2].y,l=e.sidePoints[3].x,c=e.sidePoints[3].y;t.triangle(n,i,o,r,s,a,"FD"),t.triangle(n,i,l,c,s,a,"FD")},e.prototype.drawRegularTask=function(e){var t=this._pdfDoc;t.rect(e.left,e.top,e.width,e.height,"FD"),e.isParent&&this.drawParentBorder(e),e.progressWidth&&(t.setFillColor.apply(t,e.progressColor.getRBGColor()),t.rect(e.left,e.top,e.progressWidth,e.height,"F")),e.text&&this.printTaskTitle(e)},e.prototype.drawParentBorder=function(e){var t=this._pdfDoc,n=e.sidePoints[0].x,i=e.sidePoints[1].y,o=e.sidePoints[3].y,r=e.sidePoints[2].x,s=e.sidePoints[3].y-e.sidePoints[1].y,a=e.progressWidth>s?e.progressColor.getRBGColor():e.taskColor.getRBGColor();t.setFillColor.apply(t,a),t.triangle(n,i,n,o,n+s,i,"FD"),t.setFillColor.apply(t,e.taskColor.getRBGColor()),t.triangle(r,i,r,o,r-s,i,"FD")},e.prototype.printTaskTitle=function(e){var t,n=this._pdfDoc,s=e.textStyle,a=s&&s.textColor.getRBGColor(),l=s&&s.fontSize;n.setTextColor.apply(n,a),n.setFontSize(l);var c=e.top+l*this._FONT_ROW_RATIO/n.internal.scaleFactor;e.isParent&&(c-=r.PdfTaskInfo.defaultParentHeightCorrection);var d=s&&s.cellPadding.left||0,u=s&&s.cellPadding.right||0;if(e.textPosition===i.TaskTitlePosition.Inside){var p=e.width-d-u;t=e.left+d,n.text(o.EllipsisHelper.limitPdfTextWithEllipsis(e.text,n,p),t,c)}else t=e.left-u,n.text(e.text,t,c,{align:"right"})},e.prototype.drawDependencies=function(){var e,t=this,n=null===(e=this._info)||void 0===e?void 0:e.dependencies;n&&n.forEach(function(e){return t.drawDependencyLine(e)})},e.prototype.drawDependencyLine=function(e){var t,n;if((t=this._pdfDoc).setFillColor.apply(t,e.fillColor.getRBGColor()),(n=this._pdfDoc).setDrawColor.apply(n,e.fillColor.getRBGColor()),e.arrowInfo)this.drawArrow(e);else{var i=e.points;this._pdfDoc.line(i[0].x,i[0].y,i[1].x,i[1].y)}},e.prototype.isValidLine=function(e){var t=e.points;return!(isNaN(t[0].x)||isNaN(t[0].y)||isNaN(t[1].x)||isNaN(t[1].y))},e.prototype.drawArrow=function(e){var t=e.arrowInfo.width||0,n=e.points[0].x,o=e.points[0].y;switch(e.arrowInfo.position){case i.Position.Left:this._pdfDoc.triangle(n,o+t,n+t,o,n+t,o+2*t,"FD");break;case i.Position.Right:this._pdfDoc.triangle(n,o,n,o+2*t,n+t,o+t,"FD");break;case i.Position.Top:this._pdfDoc.triangle(n,o+t,n+t,o,n+2*t,o+t,"FD");break;case i.Position.Bottom:this._pdfDoc.triangle(n,o,n+t,o+t,n+2*t,o,"FD")}},e.prototype.drawResources=function(){var e,t=this,n=this._pdfDoc,i=null===(e=this._info)||void 0===e?void 0:e.resources;i&&i.forEach(function(e){var i,o,r;n.setFontSize(null!==(i=e.style.fontSize)&&void 0!==i?i:11);var s=e.y+e.style.fontSize*t._FONT_ROW_RATIO/n.internal.scaleFactor,a=null!==(o=e.style.cellPadding.left)&&void 0!==o?o:0,l=null!==(r=e.style.cellPadding.right)&&void 0!==r?r:1,c=Math.max(e.style.cellWidth.getValue(),a+n.getTextWidth(e.text)+l);n.setFillColor.apply(n,e.style.fillColor.getRBGColor()),n.rect(e.x,e.y,c,e.style.minCellHeight,"F"),n.setTextColor.apply(n,e.style.textColor.getRBGColor()),n.text(e.text,e.x+a,s)})},e.prototype.drawTimeMarkers=function(){var e,t=this,n=null===(e=this._info)||void 0===e?void 0:e.timeMarkers;null==n||n.forEach(function(e){return t.drawTimeMarker(e)})},e.prototype.drawTimeMarker=function(e){var t,n,i=this._pdfDoc,o=e.size.width>1,r=e.start.x,s=e.start.y,a=e.size.width,l=e.size.height,c=e.isStripLine;o&&(i.setFillColor.apply(i,e.color.getRBGColor()),i.saveGraphicsState(),i.setGState(new i.GState({opacity:null!==(n=e.color.opacity)&&void 0!==n?n:1})),i.rect(r,s,a,l,"F"),i.restoreGraphicsState()),c&&(this._pdfDoc.setLineDashPattern([3]),(t=this._pdfDoc).setDrawColor.apply(t,e.lineColor.getRBGColor()),o&&this._pdfDoc.line(r+a,s,r+a,s+l,"S"),this._pdfDoc.line(r,s,r,s+l,"S"),this._pdfDoc.setLineDashPattern())},e}();t.PdfObjectDrawer=s},2698:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCollection=void 0;var i=n(5215),o=n(5675),r=n(2990),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Resource},t}(o.CollectionBase);t.ResourceCollection=s},2792:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditController=void 0;var i=n(9312),o=n(4414),r=n(750),s=n(8424),a=n(2449),l=n(5392),c=n(3227),d=function(){function e(e){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=e,this.createElements()}return Object.defineProperty(e.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),e.prototype.raiseTaskMoving=function(e,t,n,i){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(e,t,n,i)},Object.defineProperty(e.prototype,"tooltip",{get:function(){var e;return null!==(e=this._tooltip)&&void 0!==e||(this._tooltip=new a.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tooltipSettings",{get:function(){var e=this;return l.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(t){e.settings.destroyTemplate(t)},formatDate:function(t){return e.settings.formatDate(t)},getTaskAreaContainer:function(){return e.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),e.prototype.show=function(t){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=t,this.hide(),this.changeWrapInfo(),this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+e.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(e.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var n=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new o.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(n),this.displayProgressEdit(),this.displayStartEndEditElements()}},e.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},e.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},e.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},e.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},e.prototype.displayTaskEditBox=function(e){var t=this;void 0===e&&(e=0);var n=function(){t.renderHelper.taskArea.appendChild(t.baseElement),t.isTaskEditBoxShown=!0};e?this.timerId=setTimeout(n,e):n()},e.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},e.prototype.hide=function(){this.isTaskEditBoxShown=!1;var e=this.baseElement.parentNode;e&&e.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},e.prototype.cancel=function(){clearTimeout(this.timerId)},e.prototype.showTaskInfo=function(e,t){void 0===t&&(t=500),this.timerId&&(t=this.showInfoDelay),this.tooltip.showInfo(this.task,e,t)},e.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},e.prototype.isAllowedToConnectTasks=function(e){var t,n=this.viewModel.items[e];return this.validationController.canCreateDependency(this.taskId,null===(t=n.task)||void 0===t?void 0:t.internalId)},e.prototype.showDependencySuccessor=function(e){if(this.isAllowedToConnectTasks(e)){this.successorIndex=e;var t=this.getTaskWrapperElementInfo(e);t.assignPosition(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},e.prototype.hideDependencySuccessor=function(){var e=this.dependencySuccessorBaseElement.parentNode;e&&e.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},e.prototype.processProgress=function(e){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var t=e.x-this.wrapInfo.position.x,n=0;e.x>this.wrapInfo.position.x&&(n=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(t/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=n/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(n,r.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},e.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var e=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:e})}},e.prototype.processEnd=function(e){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var t=e.x>this.wrapInfo.position.x?e.x:this.wrapInfo.position.x,n=t-this.wrapInfo.position.x;this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.start,o=this.renderHelper.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o<i||n<1?this.taskDateRange.end.setTime(i.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,o),this.tooltip.showTime(i,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},e.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},e.prototype.processStart=function(e){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var t=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?e.x:this.wrapInfo.position.x+this.wrapInfo.size.width,n=this.wrapInfo.size.width-(t-this.wrapInfo.position.x);this.baseElement.style.left=t+"px",this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.end,o=this.renderHelper.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o>i||n<1?this.taskDateRange.start.setTime(i.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,o),this.tooltip.showTime(this.taskDateRange.start,i,r.DomUtils.getAbsolutePositionX(this.baseElement))}},e.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},e.prototype.processMove=function(e){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var t=this.baseElement.offsetLeft+e;this.baseElement.style.left=t+"px";var n=this.renderHelper.gridLayoutCalculator.getDateByPos(t);this.taskDateRange.start=this.getCorrectedDate(this.task.start,n);var i=c.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=c.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,i),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},e.prototype.onTaskMovingCallback=function(e,t){if(this.taskDateRange.start!==e||this.taskDateRange.end!==t){var n=this.renderHelper.gridLayoutCalculator,i=n.getPosByDate(e),o=n.getPosByDate(t)-i;this.baseElement.style.left=i+"px",this.baseElement.style.width=(o<1?0:o)+"px",this.taskDateRange.start=e,this.taskDateRange.end=t}},e.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},e.prototype.getCorrectedDate=function(e,t){if(this.ganttSettings.viewType>i.ViewType.SixHours){var n=t.getFullYear(),o=t.getMonth(),r=t.getDate(),s=this.ganttSettings.viewType===i.ViewType.Days?t.getHours():e.getHours(),a=e.getMinutes(),l=e.getSeconds(),c=e.getMilliseconds();return new Date(n,o,r,s,a,l,c)}return t},e.prototype.startDependency=function(t){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=t},e.prototype.processDependency=function(e){this.isEditingInProgress=!0,this.drawline(this.startPosition,e)},e.prototype.endDependency=function(e){this.isEditingInProgress=!1,null!=e&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,e);var t=this.dependencyLine.parentNode;t&&t.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},e.prototype.selectDependency=function(e){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=e)},e.prototype.isDependencySelected=function(e){return this.dependencyId&&this.dependencyId===e},e.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},e.prototype.getTaskWrapperElementInfo=function(e){var t=this.renderHelper.gridLayoutCalculator,n=t.getTaskWrapperElementInfo(e);return n.size.width=t.getTaskWidth(e),n.size.height=t.getTaskHeight(e),n},e.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=e.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=e.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=e.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=e.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new a.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},e.prototype.attachEvents=function(){this.onMouseLeaveHandler=function(){this.isEditingInProgress||this.hide()}.bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},e.prototype.drawline=function(e,t){if(e.x>t.x){var n=t;t=e,e=n}var i=Math.atan((e.y-t.y)/(t.x-e.x));i=-(i=180*i/Math.PI);var o=Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y));this.dependencyLine.style.left=e.x+"px",this.dependencyLine.style.top=e.y+"px",this.dependencyLine.style.width=o+"px",this.dependencyLine.style.transform="rotate("+i+"deg)"},e.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},e.prototype.isTaskUpdateAllowed=function(){var e=this.ganttSettings.editing;return e.enabled&&e.allowTaskUpdate},e.prototype.detachEvents=function(){var e;null===(e=this.baseElement)||void 0===e||e.removeEventListener("mouseleave",this.onMouseLeaveHandler)},e.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},e}();t.TaskEditController=d},2814:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditDialogShowingArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.TaskEditDialogShowingArguments=o},2892:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListUtils=void 0;var i=n(3196),o=n(3262),r=function(){function e(){}return e.remove=function(e,t){var n=e.indexOf(t,0);n>=0&&e.splice(n,1)},e.removeBy=function(e,t){for(var n=e.length,i=0;i<n;i++)if(t(e[i],i))return e.splice(i,1)[0];return null},e.shallowCopy=function(e){return e.slice()},e.deepCopy=function(t){return e.map(t,function(e){return e.clone()})},e.initByValue=function(e,t){for(var n=[];e>0;e--)n.push(t);return n},e.initByCallback=function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},e.forEachOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)t(i)},e.reverseForEachOnInterval=function(e,t){for(var n=e.start,i=e.end-1;i>=n;i--)t(i)},e.reducedMap=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var s=t(e[r],r);null!==s&&o.push(s)}return o},e.filter=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var s=e[r];t(s,r)&&o.push(s)}return o},e.map=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++)o.push(t(e[r],r));return o},e.indexBy=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return o;return-1},e.reverseIndexBy=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return o;return-1},e.elementBy=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.indexBy(t,n,i,o);return r<0?null:t[r]},e.reverseElementBy=function(t,n,i,o){void 0===i&&(i=t.length-1),void 0===o&&(o=0);var r=e.reverseIndexBy(t,n,i,o);return r<0?null:t[r]},e.last=function(e){return e[e.length-1]},e.setLast=function(e,t){return e[e.length-1]=t},e.incLast=function(e){return++e[e.length-1]},e.decLast=function(e){return--e[e.length-1]},e.equals=function(t,n){return t.length===n.length&&e.allOf2(t,n,function(e,t){return e.equals(t)})},e.equalsByReference=function(e,t){var n=e.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0},e.unique=function(t,n,i,o){void 0===i&&(i=n),void 0===o&&(o=function(){});var r=t.length;if(0===r)return[];var s=(t=t.sort(n))[0],a=e.reducedMap(t,function(e){return 0!==i(s,e)?(s=e,e):(o(e),null)},1,r);return a.unshift(t[0]),a},e.uniqueNumber=function(e){e=e.sort(o.Comparers.number);for(var t=Number.NaN,n=e.length-1;n>=0;n--)t===e[n]?e.splice(n,1):t=e[n];return e},e.forEach=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)t(e[o],o)},e.forEach2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)n(e[r],t[r],r)},e.reverseForEach=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)t(e[o],o)},e.reverseIndexOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(e[o]===t)return o;return-1},e.accumulate=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=t,s=i;s<o;s++)r=n(r,e[s],s);return r},e.accumulateNumber=function(e,t,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=n,s=i;s<o;s++)r+=t(e[s],s,r);return r},e.anyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return!0;return!1},e.unsafeAnyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++){var r=t(e[o],o);if(r)return r}return null},e.reverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return!0;return!1},e.unsafeReverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--){var r=t(e[o],o);if(r)return r}return null},e.anyOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(n(e[r],t[r],r))return!0;return!1},e.allOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(!t(e[o],o))return!1;return!0},e.allOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(!n(e[r],t[r],r))return!1;return!0},e.allOfOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)if(!t(i))return!1;return!0},e.addListOnTail=function(e,t){for(var n=0,i=void 0;i=t[n];n++)e.push(i);return e},e.joinLists=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.accumulate(n,[],function(n,i){return e.addListOnTail(n,t(i)),n})},e.push=function(e,t){return e.push(t),e},e.countIf=function(t,n){return e.accumulateNumber(t,function(e,t){return n(e,t)?1:0})},e.clear=function(e){e.splice(0)},e.merge=function(e,t,n,i,o,r){if(void 0===o&&(o=0),void 0===r&&(r=e.length),e=e.slice(o,r),r-o<2)return e;for(var s=(e=e.sort(t))[o],a=[s],l=o+1;l<r;l++){var c=e[l];n(s,c)?i(s,c):(s=c,a.push(s))}return a},e.min=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.minExtended(t,n,i,o);return r?r.minElement:null},e.max=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.maxExtended(t,n,i,o);return r?r.maxElement:null},e.minMax=function(t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=t.length);var s=e.minMaxExtended(t,n,o,r);return s?new i.MinMax(s.minElement,s.maxElement):null},e.minExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=t(r),a=n+1;a<o;a++){var l=e[a],c=t(l);c<s&&(s=c,r=l)}return new i.ExtendedMin(r,s)},e.maxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=t(r),a=n+1;a<o;a++){var l=e[a],c=t(l);c>s&&(s=c,r=l)}return new i.ExtendedMax(r,s)},e.minMaxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=r,a=t(r),l=a,c=n+1;c<o;c++){var d=e[c],u=t(d);u<a?(a=u,r=d):u>l&&(l=u,s=d)}return new i.ExtendedMinMax(r,a,s,l)},e.minByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var s=e[r];t(s,o)<0&&(o=s)}return o},e.maxByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var s=e[r];t(s,o)>0&&(o=s)}return o},e.minMaxByCmp=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=r,a=n+1;a<o;a++){var l=e[a],c=t(l,r);c>0?s=l:c<0&&(r=l)}return new i.MinMax(r,s)},e}();t.ListUtils=r},2920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditSettings=void 0;var i=n(5215),o=n(961),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.parse=function(e){var n=new t;return e&&((0,o.isDefined)(e.getCommandManager)&&(n.getCommandManager=e.getCommandManager),(0,o.isDefined)(e.getViewModel)&&(n.getViewModel=e.getViewModel),(0,o.isDefined)(e.getGanttSettings)&&(n.getGanttSettings=e.getGanttSettings),(0,o.isDefined)(e.getRenderHelper)&&(n.getRenderHelper=e.getRenderHelper),(0,o.isDefined)(e.destroyTemplate)&&(n.destroyTemplate=e.destroyTemplate),(0,o.isDefined)(e.formatDate)&&(n.formatDate=e.formatDate),(0,o.isDefined)(e.getModelManipulator)&&(n.getModelManipulator=e.getModelManipulator),(0,o.isDefined)(e.getValidationController)&&(n.getValidationController=e.getValidationController)),n},t}(n(5392).TooltipSettings);t.TaskEditSettings=r},2930:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfCustomFontSettings=void 0;var i=n(961),o=function(){function e(e){this.style="normal",e&&this.assign(e)}return e.prototype.assign=function(e){(0,i.isDefined)(e.fontObject)&&(this.fontObject=e.fontObject),(0,i.isDefined)(e.name)&&(this.name=e.name),(0,i.isDefined)(e.style)&&(this.style=e.style),(0,i.isDefined)(e.weight)&&(this.weight=e.weight)},e.prototype.applyToDoc=function(e){try{if(e&&this.fontObject&&this.name){var t=this.name+"-"+this.style+".ttf";e.addFileToVFS(t,this.fontObject),e.addFont(t,this.name,this.style,this.weight),e.setFont(this.name)}}catch(e){}},e}();t.PdfCustomFontSettings=o},2945:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StyleDef=void 0;var i=n(961),o=n(750),r=n(1922),s=n(6837),a=n(9523),l=n(4705),c=function(){function e(e){this._fillColor=new r.Color,this._textColor=new r.Color,this._lineColor=new r.Color,this._cellWidth=new l.Width,this._cellPadding=new a.Margin,e&&this.assign(e)}return Object.defineProperty(e.prototype,"font",{get:function(){return this._fontFamily},set:function(e){this._fontFamily=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.fontFamilies)||e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overflow",{get:function(){return this._overflow},set:function(e){this._overflow=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(e){this._horizontalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valign",{get:function(){return this._verticalAlign},set:function(e){this._verticalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(e){this._lineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(e){this._minCellWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(e){this._minCellHeight=e},enumerable:!1,configurable:!0}),e.prototype.assign=function(t){t&&(t instanceof e?((0,i.isDefined)(t.font)&&(this.font=t.font),(0,i.isDefined)(t.fontStyle)&&(this.fontStyle=t.fontStyle),(0,i.isDefined)(t.overflow)&&(this.overflow=t.overflow),(0,i.isDefined)(t.halign)&&(this.halign=t.halign),(0,i.isDefined)(t.valign)&&(this.valign=t.valign),(0,i.isDefined)(t.fontSize)&&(this.fontSize=t.fontSize),(0,i.isDefined)(t.lineWidth)&&(this.lineWidth=t.lineWidth),(0,i.isDefined)(t.minCellWidth)&&(this.minCellWidth=t.minCellWidth),(0,i.isDefined)(t.minCellHeight)&&(this.minCellHeight=t.minCellHeight),(0,i.isDefined)(t.fillColor)&&this.fillColor.assign(t.fillColor),(0,i.isDefined)(t.textColor)&&this.textColor.assign(t.textColor),(0,i.isDefined)(t.lineColor)&&this.lineColor.assign(t.lineColor),(0,i.isDefined)(t.cellWidth)&&this.cellWidth.assign(t.cellWidth),(0,i.isDefined)(t.cellPadding)&&this.cellPadding.assign(t.cellPadding)):this.assignFromCssStyle(t))},e.prototype.assignFromCssStyle=function(e){if(e.fontFamily&&(this.font=this.getPdfFontFamily(e)),this.fontStyle=this.getPdfFontStyle(e),(0,i.isDefined)(e.fontSize)&&(this.fontSize=this.getPfrFontSize(e.fontSize)),e.textAlign&&(this.halign=e.textAlign),e.verticalAlign&&(this.valign=e.verticalAlign),(0,i.isDefined)(e.borderWidth)&&(this.lineWidth=e.borderWidth),(0,i.isDefined)(e.cellWidth)&&this.cellWidth.assign(e.cellWidth),(0,i.isDefined)(e.width)&&(this.minCellWidth="number"==typeof e.width?e.width:o.DomUtils.pxToInt(e.width)),(0,i.isDefined)(e.height)&&(this.minCellHeight="number"==typeof e.height?e.height:o.DomUtils.pxToInt(e.height)),e.backgroundColor&&this.fillColor.assign(e.backgroundColor),e.color&&this.textColor.assign(e.color),e.borderColor&&this.lineColor.assign(e.borderColor),(0,i.isDefined)(e.width)&&this.cellWidth.assign(e.width),this.assignPaddingFromCss(e),(0,i.isDefined)(e.extraLeftPadding)){var t=this._cellPadding.left;this._cellPadding.left=t?t+e.extraLeftPadding:e.extraLeftPadding}},e.prototype.getPdfFontStyle=function(e){var t=e.fontWeight,n=parseInt(t),i="bold"===t||!isNaN(n)&&n>500,o=i?"bold":"normal";return"italic"===e.fontStyle&&(o=i?"bolditalic":"italic"),o},e.prototype.getPdfFontFamily=function(e){var t=e.fontFamily&&e.fontFamily.toLowerCase(),n="helvetica";return t.indexOf("times")>-1&&(n="times"),t.indexOf("courier")>-1&&(n="courier"),n},e.prototype.getPfrFontSize=function(e){var t=o.DomUtils.pxToInt(e);if(!isNaN(t))return Math.ceil(t/96*72)},e.prototype.assignPaddingFromCss=function(e){if(e.padding)this._cellPadding.assign(e.padding);else{var t={};e.paddingLeft&&(t.left=o.DomUtils.pxToInt(e.paddingLeft)),e.paddingTop&&(t.top=o.DomUtils.pxToInt(e.paddingTop)),e.paddingRight&&(t.right=o.DomUtils.pxToInt(e.paddingRight)),e.paddingBottom&&(t.bottom=o.DomUtils.pxToInt(e.paddingBottom)),this._cellPadding.assign(t)}},e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e=this,t={};return(0,i.isDefined)(this.font)&&(t.font=this.font),(0,i.isDefined)(this.fontStyle)&&(t.fontStyle=this.fontStyle),(0,i.isDefined)(this.fontSize)&&(t.fontSize=this.fontSize),(0,i.isDefined)(this.overflow)&&(t.overflow=this.overflow),(0,i.isDefined)(this.halign)&&(t.halign=this.halign),(0,i.isDefined)(this.valign)&&(t.valign=this.valign),(0,i.isDefined)(this.lineWidth)&&(t.lineWidth=this.lineWidth),(0,i.isDefined)(this.minCellWidth)&&(t.minCellWidth=this.minCellWidth),(0,i.isDefined)(this.minCellHeight)&&(t.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach(function(n){var i=e[n];i&&i.hasValue()&&(t[n]=i.getValue())}),t},e.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},e}();t.StyleDef=c},2990:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var i=n(5215),o=n(961),r=function(e){function t(){var t=e.call(this)||this;return t.text="",t.color="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){(0,o.isDefined)(t)&&(e.prototype.assignFromObject.call(this,t),this.text=t.text,(0,o.isDefined)(t.color)&&(this.color=t.color))},t}(n(5593).DataObject);t.Resource=r},3021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderHelper=void 0;var i=n(8111),o=n(9795),r=n(6626),s=n(4931),a=n(3402),l=n(7394),c=n(2345),d=n(171),u=n(2528),p=n(6875),h=n(9017),g=n(7648),f=n(4945),m=n(3844),y=n(1329),v=n(7105),T=function(){function e(e){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new r.EtalonSizeValues,this._gridLayoutCalculator=new a.GridLayoutCalculator,this._ganttView=e,this._connectorLinesRender=new i.ConnectorLinesRender(this),this._etalonsHelper=new o.EtalonsHelper(this),this._noWorkingIntervalRender=new l.NoWorkingIntervalRender(this),this._resourceRender=new c.ResourseRender(this),this._scaleRender=new d.ScaleRender(this),this._stripLinesRender=new u.StripLinesRender(this),this._taskAreaRender=new h.TaskAreaRender(this),this._taskRender=new g.TaskRender(this),this._mainElementsRender=new f.MainElementsRender}return e.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},e.prototype.createMainElement=function(e){this.mainElement=this._mainElementsRender.createMainElement(e),e.appendChild(this.mainElement)},e.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},e.prototype.init=function(e,t,n,i,o){void 0===o&&(o=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(e,t,n,i,o),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new p.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},e.prototype.initMarkup=function(e){this._elementTextHelper=new v.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(e),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},e.prototype.processScroll=function(e){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(e),e?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(e.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTextHeightKey",{get:function(){return s.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaManager",{get:function(){var e;return null!==(e=this._taskAreaManager)&&void 0!==e||(this._taskAreaManager=new p.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce(function(e,t){return e.concat(t)},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),e.prototype.setupHelpers=function(e,t,n,i,o){void 0===o&&(o=0);var r=new m.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),s=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(r,e,this.etalonSizeValues,t,i,n,s,o),this._elementTextHelper.setSettings(t.start.getTime(),n,i.items)},e.prototype.resetAndUpdate=function(e,t,n,i,o){void 0===o&&(o=0);var r=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(e,t,n,i,o),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(r)},e.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},e.prototype.getTargetDateByPos=function(e){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+e)},e.prototype.getExternalTaskAreaContainer=function(e){return this._ganttView.getExternalTaskAreaContainer(e)},e.prototype.prepareExternalTaskAreaContainer=function(e,t){return this._ganttView.prepareExternalTaskAreaContainer(e,t)},e.prototype.isAllowTaskAreaBorders=function(e){return this._ganttView.allowTaskAreaBorders(e)},e.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},e.prototype.getViewItem=function(e){return this._ganttView.getViewItem(e)},e.prototype.getTask=function(e){return this._ganttView.getTask(e)},e.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},e.prototype.destroyTemplate=function(e){this._ganttView.destroyTemplate(e)},e.prototype.getTaskDependencies=function(e){return this._ganttView.getTaskDependencies(e)},e.prototype.getTaskResources=function(e){return this._ganttView.getTaskResources(e)},e.prototype.isHighlightRowElementAllowed=function(e){return this._ganttView.isHighlightRowElementAllowed(e)},e.prototype.updateRenderedConnectorLinesId=function(e,t){this._connectorLinesRender.updateRenderedConnectorLinesId(e,t)},e.prototype.recreateConnectorLineElement=function(e,t){void 0===t&&(t=!1),this._connectorLinesRender.recreateConnectorLineElement(e,t)},e.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},e.prototype.setMainElementWidth=function(e){this.mainElement.style.width=e+"px"},e.prototype.setMainElementHeight=function(e){this.mainElement.style.height=e+"px"},e.prototype.createResources=function(e){this._resourceRender.createResourcesWrapperElement(e),this._resourceRender.createResources(e)},e.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},e.prototype.setTimeScaleContainerScrollLeft=function(e){this._scaleRender.setTimeScaleContainerScrollLeft(e)},e.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},e.prototype.createTaskArea=function(e){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),e.appendChild(this._taskArea)},e.prototype.isTaskUpdateAllowed=function(){var e=this.ganttViewSettings.editing;return e.enabled&&e.allowTaskUpdate},e.prototype.setSizeForTaskArea=function(){var e=this.getTaskAreaWidth(),t=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(e,t),this._ganttView.onTaskAreaSizeChanged({width:e,height:t})},e.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},e.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},e.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},e.prototype.setTaskAreaContainerScrollLeft=function(e){this._taskAreaRender.taskAreaContainer.scrollLeft=e},e.prototype.setTaskAreaContainerScrollLeftToDate=function(e,t){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(e))+t},e.prototype.getTaskAreaContainer=function(e){return new y.TaskAreaContainer(e,this._ganttView)},e.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},e.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},e.prototype.createHighlightRowElement=function(e){this._taskAreaRender.createHighlightRowElement(e)},e.prototype.getSmallTaskWidth=function(e){return this._taskRender.getSmallTaskWidth(e)},e.prototype.createTaskElement=function(e){this._taskRender.createTaskElement(e,this._ganttView.settings.taskContentTemplate)},e.prototype.removeTaskElement=function(e){this._taskRender.removeTaskElement(e)},e.prototype.recreateTaskElement=function(e){this._taskRender.recreateTaskElement(e)},e.prototype.createDefaultTaskElement=function(e){this._taskRender.createDefaultTaskElement(e)},e.prototype.getScaleItemText=function(e,t){var n=this._gridLayoutCalculator.getScaleItemStart(e,t);return this.getScaleItemTextByStart(n,t)},e.prototype.getScaleItemTextByStart=function(e,t){return this._elementTextHelper.getScaleItemText(e,t)},e.prototype.getTextWidth=function(e){return this._elementTextHelper.getTextWidth(e)},e.prototype.getTaskVisibility=function(e){return this.gridLayoutCalculator.isTaskInRenderedRange(e)&&this._elementTextHelper.getTaskVisibility(e)},e.prototype.getTaskResourcesVisibility=function(e){return this.getTaskVisibility(e)&&!this.gridLayoutCalculator.isTaskCutByRange(e)},e.prototype.getScaleItemTextTemplate=function(e){return this._elementTextHelper.getScaleItemTextTemplate(e)},e.prototype.getTaskText=function(e){return this._elementTextHelper.getTaskText(e)},e.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},e.prototype.attachEventsOnTask=function(e){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[e])},e.prototype.detachEventsOnTask=function(e){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[e])},e}();t.RenderHelper=T},3080:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveResourceHistoryItem=void 0;var i=n(5215),o=n(8133),r=n(5593),s=function(e){function t(t,n){var i=e.call(this)||this;return i.modelManipulator=t,i.resourceId=n,i}return i.__extends(t,e),t.prototype.redo=function(){e.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},t.prototype.undo=function(){var t=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){t.resource.color&&t.modelManipulator.resource.properties.color.setValue(t.resource.internalId,t.resource.color),window.setTimeout(function(){return e.prototype.undo.call(t)},0)})},t.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){}),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),e.prototype.undo.call(this)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:r.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(t){return e.resourceId=t}}]},enumerable:!1,configurable:!0}),t}(o.CompositionHistoryItem);t.RemoveResourceHistoryItem=s},3161:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseManipulator=void 0;var n=function(){function e(e,t){this.viewModel=e,this.dispatcher=t}return e.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(e.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),e}();t.BaseManipulator=n},3190:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfTimeMarkerInfo=void 0;var i=n(5327),o=n(3844),r=n(961),s=n(1922),a=function(){function e(e,t,n,a,l){this.lineColor=new s.Color,this.color=new s.Color,e&&(this.start=new i.Point(e.x,e.y)),t&&(this.size=new o.Size(t.width,t.height)),n&&this.color.assign(n),a&&this.lineColor.assign(a),(0,r.isDefined)(l)&&(this.isStripLine=l)}return e.prototype.assign=function(e){var t,n,r,s;e&&(this.start=new i.Point(null===(t=e.start)||void 0===t?void 0:t.x,null===(n=e.start)||void 0===n?void 0:n.y),this.size=new o.Size(null===(r=e.size)||void 0===r?void 0:r.width,null===(s=e.size)||void 0===s?void 0:s.height),this.isStripLine=e.isStripLine,this.color.assign(e.color),this.lineColor.assign(e.lineColor))},e}();t.PdfTimeMarkerInfo=a},3196:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedMinMax=t.ExtendedMax=t.ExtendedMin=t.MinMaxNumber=t.MinMax=void 0;var i=n(5215),o=function(e,t){this.minElement=e,this.maxElement=t};t.MinMax=o;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),t}(o);t.MinMaxNumber=r;var s=function(e,t){this.minElement=e,this.minValue=t};t.ExtendedMin=s;var a=function(e,t){this.maxElement=e,this.maxValue=t};t.ExtendedMax=a;var l=function(e){function t(t,n,i,o){var r=e.call(this,t,i)||this;return r.minValue=n,r.maxValue=o,r}return i.__extends(t,e),t}(o);t.ExtendedMinMax=l},3211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScalingHelper=void 0;var i=n(3820),o=function(){function e(e){this._doc=e}return Object.defineProperty(e.prototype,"_docScaleFactor",{get:function(){var e,t;return null===(t=null===(e=this._doc)||void 0===e?void 0:e.internal)||void 0===t?void 0:t.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-e._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),e.prototype.getScaledSize=function(t){return t*e._defaultScaleFactor/this._docScaleFactor},e.prototype.scalePageMargins=function(e){var t,n,i,o;this._correctScaleNeeded&&((null===(t=null==e?void 0:e.margins)||void 0===t?void 0:t.left)&&(e.margins.left=this.getScaledSize(e.margins.left)),(null===(n=null==e?void 0:e.margins)||void 0===n?void 0:n.right)&&(e.margins.right=this.getScaledSize(e.margins.right)),(null===(i=null==e?void 0:e.margins)||void 0===i?void 0:i.top)&&(e.margins.top=this.getScaledSize(e.margins.top)),(null===(o=null==e?void 0:e.margins)||void 0===o?void 0:o.bottom)&&(e.margins.bottom=this.getScaledSize(e.margins.bottom)))},e.prototype.scaleSizes=function(e){this._correctScaleNeeded&&(this.scaleTables(e),this.scaleObjects(e.objects))},e.prototype.scaleTables=function(e){(null==e?void 0:e.tables)&&(this.scaleTable(e.tables[i.PdfPageTableNames.treeListHeader]),this.scaleTable(e.tables[i.PdfPageTableNames.treeListMain]),this.scaleTable(e.tables[i.PdfPageTableNames.chartMain]),this.scaleTable(e.tables[i.PdfPageTableNames.chartScaleTop]),this.scaleTable(e.tables[i.PdfPageTableNames.chartScaleBottom]))},e.prototype.scaleTable=function(e){var t,n,i,o,r,s;if(e&&((null===(t=e.size)||void 0===t?void 0:t.width)&&(e.size.width=this.getScaledSize(e.size.width)),(null===(n=e.size)||void 0===n?void 0:n.height)&&(e.size.height=this.getScaledSize(e.size.height)),(null===(i=e.position)||void 0===i?void 0:i.x)&&(e.position.x=this.getScaledSize(e.position.x)),(null===(o=e.position)||void 0===o?void 0:o.y)&&(e.position.y=this.getScaledSize(e.position.y)),(null===(r=e.baseCellSize)||void 0===r?void 0:r.width)&&(e.baseCellSize.width=this.getScaledSize(e.baseCellSize.width)),(null===(s=e.baseCellSize)||void 0===s?void 0:s.height)&&(e.baseCellSize.height=this.getScaledSize(e.baseCellSize.height)),e.cells))for(var a=0;a<e.cells.length;a++)for(var l=e.cells[a],c=0;c<l.length;c++){var d=l[c];this.scaleStyle(d.styles)}},e.prototype.scaleObjects=function(e){this.scaleTasks(null==e?void 0:e.tasks),this.scaleDependencies(null==e?void 0:e.dependencies),this.scaleResources(null==e?void 0:e.resources),this.scaleTimeMarkers(null==e?void 0:e.timeMarkers)},e.prototype.scaleTasks=function(e){var t=this;null==e||e.forEach(function(e){t.scalePoints(e.sidePoints),e.progressWidth=t.getScaledSize(e.progressWidth),t.scaleStyle(e.textStyle)})},e.prototype.scaleDependencies=function(e){var t=this;null==e||e.forEach(function(e){var n;t.scalePoints(e.points),(null===(n=e.arrowInfo)||void 0===n?void 0:n.width)&&(e.arrowInfo.width=t.getScaledSize(e.arrowInfo.width))})},e.prototype.scaleResources=function(e){var t=this;null==e||e.forEach(function(e){e.x=t.getScaledSize(e.x),e.y=t.getScaledSize(e.y),t.scaleStyle(e.style)})},e.prototype.scaleTimeMarkers=function(e){var t=this;null==e||e.forEach(function(e){e.start.x=t.getScaledSize(e.start.x),e.start.y=t.getScaledSize(e.start.y),e.size.width=t.getScaledSize(e.size.width),e.size.height=t.getScaledSize(e.size.height)})},e.prototype.scaleStyle=function(e){var t,n,i,o;if(e){var r=e.cellWidth;if(null==r?void 0:r.hasValue()){var s=this.getScaledSize(Number(r.getValue()));r.assign(s)}e.minCellHeight&&(e.minCellHeight=this.getScaledSize(e.minCellHeight)),e.minCellWidth&&(e.minCellWidth=this.getScaledSize(e.minCellWidth)),(null===(t=e.cellPadding)||void 0===t?void 0:t.left)&&(e.cellPadding.left=this.getScaledSize(e.cellPadding.left)),(null===(n=e.cellPadding)||void 0===n?void 0:n.right)&&(e.cellPadding.right=this.getScaledSize(e.cellPadding.right)),(null===(i=e.cellPadding)||void 0===i?void 0:i.top)&&(e.cellPadding.top=this.getScaledSize(e.cellPadding.top)),(null===(o=e.cellPadding)||void 0===o?void 0:o.bottom)&&(e.cellPadding.bottom=this.getScaledSize(e.cellPadding.bottom))}},e.prototype.scalePoints=function(e){var t=this;null==e||e.forEach(function(e){e.x=t.getScaledSize(e.x),e.y=t.getScaledSize(e.y)})},e._defaultScaleFactor=.75,e}();t.ScalingHelper=o},3227:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateUtils=void 0;var i=n(9312),o=function(){function e(){}var t;return e.getDaysInQuarter=function(t){var n=3*Math.floor(t.getMonth()/3);return[n,n+1,n+2].reduce(function(n,i){return n+e.getDaysInMonth(i,t.getFullYear())},0)},e.getDaysInMonth=function(e,t){return new Date(t,e+1,0).getDate()},e.getOffsetInMonths=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},e.getOffsetInQuarters=function(e,t){return 4*(t.getFullYear()-e.getFullYear())+Math.floor(t.getMonth()/3)-Math.floor(e.getMonth()/3)},e.getNearestScaleTickDate=function(e,t,n,i){var o=new Date,r=t.start.getTime(),s=t.end.getTime();if(o.setTime(e.getTime()),e.getTime()<r)o.setTime(r);else if(e.getTime()>s)o.setTime(s);else if(this.needCorrectDate(e,r,n,i)){var a=this.getNearestLeftTickTime(e,r,n,i),l=this.getNextTickTime(a,n,i);Math.abs(e.getTime()-a)>Math.abs(e.getTime()-l)?o.setTime(l):o.setTime(a)}return o},e.needCorrectDate=function(e,t,n,o){return o==i.ViewType.Months?e.getTime()!==new Date(e.getFullYear(),e.getMonth(),1).getTime():(e.getTime()-t)%n!==0},e.getNearestLeftTickTime=function(e,t,n,o){return o==i.ViewType.Months?new Date(e.getFullYear(),e.getMonth(),1).getTime():t+Math.floor((e.getTime()-t)/n)*n},e.getNextTickTime=function(e,t,n){if(n==i.ViewType.Months){var o=new Date;return o.setTime(e),o.setMonth(o.getMonth()+1),o.getTime()}return e+t},e.adjustStartDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate());case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear(),0,1);default:return new Date}},e.adjustEndDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1);case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+7-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()+1,0,1);default:return new Date}},e.roundStartDate=function(e,t){switch(t){case i.ViewType.TenMinutes:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()-1);case i.ViewType.SixHours:case i.ViewType.Days:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case i.ViewType.Months:return new Date(e.getFullYear(),e.getMonth()-1);case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()-1,0,1);default:return new Date}},e.getTickTimeSpan=function(t){switch(t){case i.ViewType.TenMinutes:return e.msPerHour/6;case i.ViewType.Hours:return e.msPerHour;case i.ViewType.SixHours:return 6*e.msPerHour;case i.ViewType.Days:return e.msPerDay;case i.ViewType.Weeks:return e.msPerWeek;case i.ViewType.Months:return e.msPerMonth;case i.ViewType.Quarter:return 3*e.msPerMonth;case i.ViewType.Years:return e.msPerYear}},e.getRangeTickCount=function(t,n,o){return o===i.ViewType.Months?this.getRangeTickCountInMonthsViewType(t,n):o===i.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(t,n):e.getRangeMSPeriod(t,n)/e.getTickTimeSpan(o)},e.getRangeMSPeriod=function(t,n){return n.getTime()-e.getDSTTotalDelta(t,n)-t.getTime()},e.getRangeTickCountInMonthsViewType=function(t,n){var i=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(n.getFullYear(),n.getMonth(),1);return e.getOffsetInMonths(i,o)+(n.getTime()-o.getTime())/(e.getDaysInMonth(n.getMonth(),n.getFullYear())*e.msPerDay)-(t.getTime()-i.getTime())/(e.getDaysInMonth(t.getMonth(),t.getFullYear())*e.msPerDay)},e.getRangeTickCountInQuarterViewType=function(t,n){var i=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),o=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1);return e.getOffsetInQuarters(i,o)+(n.getTime()-o.getTime())/(e.getDaysInQuarter(o)*e.msPerDay)-(t.getTime()-i.getTime())/(e.getDaysInQuarter(i)*e.msPerDay)},e.parse=function(e){return"function"==typeof e?new Date(e()):new Date(e)},e.getOrCreateUTCDate=function(e){var t=e.getTimezoneOffset();return t?new Date(e.valueOf()+6e4*t):e},e.getTimezoneOffsetDiff=function(e,t){return t.getTimezoneOffset()-e.getTimezoneOffset()},e.getDSTDelta=function(t,n){var i=e.getTimezoneOffsetDiff(t,n)*e.msPerMinute;return i>0?i:0},e.getDSTTotalDelta=function(t,n){if(!e.hasDST())return 0;for(var i=t,o=0,r=i.getFullYear(),s=i.getMonth();i<n;){s>=5?(r++,s=0):s=5;var a=new Date(r,s,1);a>n&&(a=n),o+=e.getDSTDelta(i,a),i=a}return o},e.getDSTCorrectedTaskEnd=function(t,n){var i=t.getTime()+n,o=e.getDSTTotalDelta(t,new Date(i));return new Date(i+o)},e.hasDST=function(){var t=(new Date).getFullYear(),n=new Date(t,0,1),i=new Date(t,5,1);return 0!==e.getTimezoneOffsetDiff(n,i)},e.msPerMinute=6e4,e.msPerHour=36e5,e.msPerDay=24*e.msPerHour,e.msPerWeek=7*e.msPerDay,e.msPerMonth=30*e.msPerDay,e.msPerYear=365*e.msPerDay,e.ViewTypeToScaleMap=((t={})[i.ViewType.TenMinutes]=i.ViewType.Hours,t[i.ViewType.Hours]=i.ViewType.Days,t[i.ViewType.SixHours]=i.ViewType.Days,t[i.ViewType.Days]=i.ViewType.Weeks,t[i.ViewType.Weeks]=i.ViewType.Months,t[i.ViewType.Months]=i.ViewType.Years,t[i.ViewType.Quarter]=i.ViewType.Years,t[i.ViewType.Years]=i.ViewType.FiveYears,t),e}();t.DateUtils=o},3262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=t.Comparers=void 0;var n=function(){function e(){}return e.number=function(e,t){return e-t},e.string=function(e,t){return e===t?0:e>t?1:-1},e.stringIgnoreCase=function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:e>t?1:-1},e}();t.Comparers=n;var i=function(){function e(){}return e.simpleType=function(e,t){return e===t},e.object=function(e,t){return e&&t&&(e===t||e.equals(t))},e}();t.Equals=i},3266:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskMoveState=void 0;var i=n(5215),o=n(6118),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onEndInternal=function(e){this.raiseEvent(o.TaskAreaStateEventNames.TASK_END_MOVE,e)},t.prototype.onDragInternal=function(e){this.raiseEvent(o.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:e.x-this.currentPosition.x})||this.raiseEvent(o.TaskAreaStateEventNames.STATE_EXIT)},t}(n(7484).TaskDragBaseState);t.TaskMoveState=r},3282:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DialogParametersBase=void 0;var n=function(){};t.DialogParametersBase=n},3402:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayoutCalculator=void 0;var i=n(3844),o=n(4414),r=n(9312),s=n(7678),a=n(5327),l=n(3227),c=n(7140),d=n(8154),u=n(9912),p=n(961),h=function(){function e(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new u.ScaleCalculator}return e.prototype.setSettings=function(e,t,n,o,r,s,a,c){void 0===a&&(a=0),void 0===c&&(c=0),this.visibleTaskAreaSize=e,this.tickSize=t,this._viewType=s,this.range=o,this.verticalTickCount=r.itemCount,this.viewModel=r,this.elementSizeValues=n,this.taskHeight=n.taskHeight,this.parentTaskHeight=n.parentTaskHeight,this.milestoneWidth=n.milestoneWidth,this.scaleHeight=n.scaleItemHeight,this.arrowSize=new i.Size(n.connectorArrowWidth,n.connectorArrowWidth),this.lineThickness=n.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=l.DateUtils.getTickTimeSpan(s),this.scrollBarHeight=a,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(o,s,t,c),this.reset()},Object.defineProperty(e.prototype,"viewType",{get:function(){return this._viewType},set:function(e){this._viewType!==e&&(this._viewType=e,this._scaleCalculator.setViewType(e))},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},e.prototype.resetTaskInfo=function(e){delete this._taskWrapperPoints[e],delete this._taskElementInfoList[e]},e.prototype.getTaskAreaBorderInfo=function(e,t){var n=t?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(e,t,n)},e.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},e.prototype.getScaleBorderInfo=function(e,t){var n=new s.GridElementInfo,o=this._scaleCalculator;return n.setPosition(new a.Point(o.getScaleBorderPosition(e,t),void 0)),n.setSize(new i.Size(0,this.scaleHeight)),n.className="dx-gantt-vb",n},e.prototype.getGridBorderInfo=function(e,t,n){var i=new s.GridElementInfo;return i.setPosition(this.getGridBorderPosition(e,t)),n&&i.setSize(this.getGridBorderSize(t,n)),i.className=t?"dx-gantt-vb":"dx-gantt-hb",i},e.prototype.getGridBorderPosition=function(e,t){var n=new a.Point(void 0,void 0),i=this._scaleCalculator,o=t?i.getScaleBorderPosition(e,this.viewType):(e+1)*this.tickSize.height;return t?n.x=o:n.y=o,n},e.prototype.getGridBorderSize=function(e,t){var n=new i.Size(0,0);return e?n.height=t:n.width=t,n},e.prototype.getScaleElementInfo=function(e,t){var n=new s.GridElementInfo,i=this.getScaleItemInfo(e,t);if(i){n.setPosition(i.position),n.setSize(i.size),n.className=this.getScaleItemClassName(t,n,this.getRenderedNoWorkingIntervals(n.position.x));var r=this._scaleCalculator.getScaleItems(t);(0===e||e===r.length-1)&&(n.style.overflowX="hidden",n.style.textOverflow="ellipsis"),n.additionalInfo.range=new o.DateRange(i.start,i.end)}return n},e.prototype.getScaleItemStart=function(e,t){return this._scaleCalculator.getScaleItemAdjustedStart(e,t)},e.prototype.getScaleItemClassName=function(e,t,n){var i="dx-gantt-si";return e.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(t,n)&&(i+=" dx-gantt-holiday-scaleItem"),i},e.prototype.getScaleItemInfo=function(e,t){return this._scaleCalculator.getScaleItem(e,t)},e.prototype.getScaleRangesInArea=function(e,t){var n=l.DateUtils.ViewTypeToScaleMap[this.viewType],i=this._scaleCalculator,o=Math.max(i.getScaleIndexByPos(e,n),0),r=i.getScaleIndexByPos(t,n);-1===r&&(r=i.topScaleItems.length-1);var s=Math.max(i.getScaleIndexByPos(e),0),a=i.getScaleIndexByPos(t);return-1===a&&(a=i.bottomScaleItems.length-1),[[o,r],[s,a]]},e.prototype.isScaleItemInsideNoWorkingInterval=function(e,t){for(var n=e.position.x,i=e.position.x+e.size.width,o=0;o<t.length;o++){var r=t[o].position.x,s=t[o].position.x+t[o].size.width;if(n>=r&&i<=s)return!0}return!1},e.prototype.getScaleItemColSpan=function(e){return this._scaleCalculator.getScaleItemColSpan(e)},e.prototype.getTaskWrapperElementInfo=function(e){var t=new s.GridElementInfo;return t.className=this.getTaskWrapperClassName(e),t.setPosition(this.getTaskWrapperPoint(e)),t.setAttribute("task-index",e),t},e.prototype.getTaskWrapperClassName=function(e){var t="dx-gantt-taskWrapper",n=this.getViewItem(e);return n.task.isMilestone()&&(t="dx-gantt-milestoneWrapper"),n.selected&&(t+=" dx-gantt-selectedTask"),t},e.prototype.getTaskWrapperPoint=function(e){if(!(0,p.isDefined)(this._taskWrapperPoints[e])){var t=this.getViewItem(e),n=this.getTaskHeight(e),i=this.getTaskWidth(e),o=e*this.tickSize.height+(this.tickSize.height-n)/2,r=new a.Point(this.getPosByDate(t.task.start),o);t.task.isMilestone()&&(r.x-=i/2),this._taskWrapperPoints[e]=r}return this._taskWrapperPoints[e].clone()},e.prototype.getTaskElementInfo=function(e,t){if(void 0===t&&(t=!1),!(0,p.isDefined)(this._taskElementInfoList[e])){var n=new s.GridElementInfo,i=this.getTask(e),o=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(e);if(!i.isMilestone()){var r=this.getTaskWidth(e);n.size.width=this.getCorrectedTaskWidthByRange(e,r),n.size.width<r&&(n.additionalInfo.taskCut=!0),t&&(n.size.height=this.getTaskHeight(e))}n.className=this.getTaskClassName(e,n.size.width),i.color&&(n.style.backgroundColor=i.color,o&&(n.style.borderLeftColor=i.color,n.style.borderRightColor=i.color,n.style.borderTopColor=i.color)),this._taskElementInfoList[e]=n}return this._taskElementInfoList[e]},e.prototype.getTaskClassName=function(t,n){var i=e.taskClassName,o=this.getViewItem(t),r=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(t);return o.task.isMilestone()&&!o.isCustom?i+=" "+e.milestoneClassName:(n<=this.elementSizeValues.smallTaskWidth&&(i+=" "+e.smallTaskClassName),r&&(i+=this.getAutoCalcParentTaskClassName(o.task))),i},e.prototype.getAutoCalcParentTaskClassName=function(t){var n=" "+e.parentTaskClassName;return 0==t.progress&&(n+=" dx-gantt-noPrg"),t.progress>=100&&(n+=" dx-gantt-cmpl"),n},e.prototype.getTaskPoint=function(e){var t=this.getTaskWrapperPoint(e);return this.getTask(e).isMilestone()||(t.y+=this.elementSizeValues.taskWrapperTopPadding),t},e.prototype.getTaskSize=function(e){return new i.Size(this.getTaskWidth(e),this.getTaskHeight(e))},e.prototype.getTaskWidth=function(e){var t=this.getViewItem(e);return t.isCustom&&t.size.width?t.size.width:t.task.isMilestone()&&!t.isCustom?this.getTaskHeight(e):Math.max(this.getWidthByDateRange(t.task.start,t.task.end),this.minTaskWidth)},e.prototype.getTaskHeight=function(e){var t=this.getViewItem(e);return t.task.isMilestone()&&!t.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(t.task.internalId)?this.parentTaskHeight:t.isCustom&&t.size.height?t.size.height:this.taskHeight},e.prototype.getTask=function(e){var t=this.getViewItem(e);return null==t?void 0:t.task},e.prototype.getViewItem=function(e){return this.viewModel.items[e]},e.prototype.getTaskProgressElementInfo=function(t){var n=new s.GridElementInfo;return n.className=e.taskProgressClassName,n.setSize(this.getTaskProgressSize(t)),n},e.prototype.getTaskProgressSize=function(e){var t=this.getTaskProgressWidth(e);return this.isTaskCutByRange(e)&&(t=this.getCorrectedTaskWidthByRange(e,t)),new i.Size(t,0)},e.prototype.getTaskProgressWidth=function(e){return this.getTaskWidth(e)*this.getTask(e).normalizedProgress/100},e.prototype.getTaskTextElementInfo=function(e,t){var n=new s.GridElementInfo;if(n.className=this.getTaskTextElementClassName(t),!t){var i=this.getTaskPoint(e).x;if(i<this.elementSizeValues.outsideTaskTextDefaultWidth){var o=Math.max(i,0);n.size.width=o,o>0?n.margins.left=-o:n.additionalInfo.hidden=!0}}return n},e.prototype.getTaskTextElementClassName=function(t){return e.taskTitleClassName.concat(" ",t?e.titleInClassName:e.titleOutClassName)},e.prototype.getTaskResourcesWrapperElementInfo=function(e){var t=new s.GridElementInfo,n=this.getTaskSize(e).width;return t.className="dx-gantt-taskResWrapper",t.setPosition(this.getTaskWrapperPoint(e)),t.position.x=t.position.x+n,t},e.prototype.getTaskResourceElementInfo=function(){var t=new s.GridElementInfo;return t.className=e.taskResourceClassName,t},e.prototype.getSelectionElementInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-sel")},e.prototype.getSelectionPosition=function(e){var t=new a.Point(void 0,void 0);return t.y=e*this.tickSize.height,t},e.prototype.getSelectionSize=function(){return new i.Size(this.getTotalWidth(),this.tickSize.height)},e.prototype.getHighlightRowInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-altRow")},e.prototype.getRowElementInfo=function(e,t){var n=new s.GridElementInfo;return n.className=t,n.setPosition(this.getSelectionPosition(e)),n.setSize(this.getSelectionSize()),n},e.prototype.getNoWorkingIntervalInfo=function(e){var t=new s.GridElementInfo;return t.className="dx-gantt-nwi",t.setPosition(this.getNoWorkingIntervalPosition(e.start)),t.setSize(this.getNoWorkingIntervalSize(e)),t},e.prototype.getNoWorkingIntervalPosition=function(e){var t=new a.Point(void 0,void 0);return t.x=this.getPosByDate(e),t},e.prototype.getNoWorkingIntervalSize=function(e){return new i.Size(this.getWidthByDateRange(e.start,e.end),this.getVerticalGridLineHeight())},e.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},e.prototype.getConnectorInfo=function(e,t,n,i){for(var o=new Array,r=this.getConnectorPoints(t,n,i),s=0;s<r.length-1;s++)o.push(this.getConnectorLineInfo(e,r[s],r[s+1],0==s||s==r.length-2));return o.push(this.getArrowInfo(e,r,o,t,n)),this.checkAndCorrectConnectorLinesByRange(o),o.filter(function(e){return!!e})},e.prototype.getConnectorLineInfo=function(e,t,n,i){var o=new s.GridElementInfo,r=t.x==n.x;return o.className=this.getConnectorClassName(r),o.setPosition(this.getConnectorPosition(t,n)),o.setSize(this.getConnectorSize(t,n,r,i)),o.setAttribute("dependency-id",e),o},e.prototype.getConnectorClassName=function(t){return t?e.CLASSNAMES.CONNECTOR_VERTICAL:e.CLASSNAMES.CONNECTOR_HORIZONTAL},e.prototype.getConnectorPosition=function(e,t){return new a.Point(Math.min(e.x,t.x),Math.min(e.y,t.y))},e.prototype.getConnectorSize=function(e,t,n,o){var r=new i.Size(0,0),s=o?0:1;return n?r.height=Math.abs(t.y-e.y)+s:r.width=Math.abs(t.x-e.x)+s,r},e.prototype.getArrowInfo=function(e,t,n,i,o){var r=new s.GridElementInfo,a=this.findArrowLineInfo(n,i,o),l=this.getArrowPosition(t,i,o);return r.className=this.getArrowClassName(l),r.setPosition(this.getArrowPoint(a,l)),r.setAttribute("dependency-id",e),r},e.prototype.findArrowLineInfo=function(e,t,n){return e[t<n?e.length-1:0]},e.prototype.getArrowPosition=function(e,t,n){var i=e[t<n?e.length-2:1],o=e[t<n?e.length-1:0];return i.x==o.x?i.y>o.y?r.Position.Top:r.Position.Bottom:i.x>o.x?r.Position.Left:r.Position.Right},e.prototype.getArrowClassName=function(t){var n=e.arrowClassName;switch(t){case r.Position.Left:n=n.concat(" ",e.leftArrowClassName);break;case r.Position.Top:n=n.concat(" ",e.topArrowClassName);break;case r.Position.Right:n=n.concat(" ",e.rightArrowClassName);break;case r.Position.Bottom:n=n.concat(" ",e.bottomArrowClassName)}return n},e.prototype.getArrowPositionByClassName=function(t){return t.indexOf(e.leftArrowClassName)>-1?r.Position.Left:t.indexOf(e.topArrowClassName)>-1?r.Position.Top:t.indexOf(e.rightArrowClassName)>-1?r.Position.Right:t.indexOf(e.bottomArrowClassName)>-1?r.Position.Bottom:void 0},e.prototype.getArrowPoint=function(e,t){return new a.Point(this.getArrowX(e,t),this.getArrowY(e,t))},e.prototype.getArrowX=function(e,t){switch(t){case r.Position.Left:return e.position.x-this.arrowSize.width/2;case r.Position.Right:return e.position.x+e.size.width-this.arrowSize.width/2;case r.Position.Top:case r.Position.Bottom:return e.position.x-(this.arrowSize.width-this.lineThickness)/2}},e.prototype.getArrowY=function(e,t){switch(t){case r.Position.Top:return e.position.y-this.arrowSize.height/2;case r.Position.Bottom:return e.position.y+e.size.height-this.arrowSize.height/2;case r.Position.Left:case r.Position.Right:return e.position.y-(this.arrowSize.height-this.lineThickness)/2}},e.prototype.getPosByDate=function(e){return this.getWidthByDateRange(this.range.start,e)},e.prototype.getWidthByDateRange=function(e,t){return l.DateUtils.getRangeTickCount(e,t,this.viewType)*this.tickSize.width},e.prototype.getDateByPos=function(e){if(this.viewType===r.ViewType.Months||this.viewType===r.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(e);var t=e/this.tickSize.width,n=new Date(this.range.start);return l.DateUtils.getDSTCorrectedTaskEnd(n,t*this.tickTimeSpan)},e.prototype.getDateByPosInMonthBasedViewTypes=function(e){return this._scaleCalculator.getDateInScale(e)},e.prototype.getConnectorPoints=function(e,t,n){switch(n){case d.DependencyType.FS:return this.getFinishToStartConnectorPoints(e,t);case d.DependencyType.SF:return this.getStartToFinishConnectorPoints(e,t);case d.DependencyType.SS:return this.getStartToStartConnectorPoints(e,t);case d.DependencyType.FF:return this.getFinishToFinishConnectorPoints(e,t);default:return new Array}},e.prototype.getFinishToStartConnectorPoints=function(e,t){return e<t?this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(e,t,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(e,t,!1):this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(t,e,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(t,e,!0)},e.prototype.getFinishToFinishConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(e,t):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(t,e)},e.prototype.getStartToStartConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(e,t):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(t,e)},e.prototype.getStartToFinishConnectorPoints=function(e,t){return e<t?this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(e,t,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(e,t,!1):this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(t,e,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(t,e,!0)},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(o,e),l=this.getTask(t).isMilestone(),c=this.getTaskTopCenter(r,t),d=this.getHorizontalIndentFromTaskEdge(t,n);return i.push(new a.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new a.Point(Math.floor(l?c.x:r.x+d),Math.floor(i[0].y))),i.push(new a.Point(Math.floor(i[1].x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskRightCenter(i,e),s=this.getTaskRightCenter(o,t);return n.push(new a.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new a.Point(Math.floor(Math.max(r.x,s.x)+this.minLineLength),Math.floor(n[0].y))),n.push(new a.Point(Math.floor(n[1].x),Math.floor(s.y))),n.push(new a.Point(Math.floor(s.x),Math.floor(s.y))),n},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(o,e),l=this.getTaskBottomCenter(o,e),c=this.getTaskLeftCenter(r,t),d=this.getTaskTopCenter(r,t),u=n?this.getViewItem(e):this.getViewItem(t),p=u.isCustom?(this.tickSize.height-u.size.height)/2:this.minConnectorSpaceFromTask;return i.push(new a.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new a.Point(Math.floor(i[0].x+this.minLineLength),Math.floor(i[0].y))),i.push(new a.Point(Math.floor(i[1].x),Math.floor(n?l.y+p:d.y-p))),i.push(new a.Point(Math.floor(c.x-this.minLineLength),Math.floor(i[2].y))),i.push(new a.Point(Math.floor(i[3].x),Math.floor(c.y))),i.push(new a.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(o,e),l=this.getTask(e).isMilestone(),c=this.getTaskRightCenter(r,t),d=this.getHorizontalIndentFromTaskEdge(e,n);return i.push(new a.Point(Math.floor(l?s.x:o.x+d),Math.floor(s.y))),i.push(new a.Point(Math.floor(i[0].x),Math.floor(c.y))),i.push(new a.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(o,e),l=this.getTask(e).isMilestone(),c=this.getTaskLeftCenter(r,t),d=this.getHorizontalIndentFromTaskEdge(e,n);return i.push(new a.Point(Math.floor(l?s.x:o.x+d),Math.floor(s.y))),i.push(new a.Point(Math.floor(i[0].x),Math.floor(c.y))),i.push(new a.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(o,e),l=this.getTaskTopCenter(r,t),c=this.getTask(t).isMilestone(),d=this.getHorizontalIndentFromTaskEdge(t,n);return i.push(new a.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new a.Point(Math.floor(c?l.x:r.x+d),Math.floor(i[0].y))),i.push(new a.Point(Math.floor(i[1].x),Math.floor(l.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(o,e),l=this.getTaskBottomCenter(o,e),c=this.getTaskRightCenter(r,t),d=this.getTaskTopCenter(r,t),u=n?this.getViewItem(e):this.getViewItem(t),p=u.isCustom?(this.tickSize.height-u.size.height)/2:this.minConnectorSpaceFromTask;return i.push(new a.Point(Math.floor(s.x),s.y)),i.push(new a.Point(Math.floor(i[0].x-this.minLineLength),i[0].y)),i.push(new a.Point(Math.floor(i[1].x),Math.floor(n?l.y+p:d.y-p))),i.push(new a.Point(Math.floor(c.x+this.minLineLength),Math.floor(i[2].y))),i.push(new a.Point(Math.floor(i[3].x),Math.floor(c.y))),i.push(new a.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskLeftCenter(i,e),s=this.getTaskLeftCenter(o,t);return n.push(new a.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new a.Point(Math.floor(Math.min(r.x,s.x)-this.minLineLength),Math.floor(n[0].y))),n.push(new a.Point(Math.floor(n[1].x),Math.floor(s.y))),n.push(new a.Point(Math.floor(s.x),Math.floor(s.y))),n},e.prototype.getTaskSidePoints=function(e){var t=this.getTaskPoint(e);return[this.getTaskLeftCenter(t,e),this.getTaskTopCenter(t,e),this.getTaskRightCenter(t,e),this.getTaskBottomCenter(t,e)]},e.prototype.getTaskLeftCenter=function(e,t){return new a.Point(e.x-this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskRightCenter=function(e,t){return new a.Point(e.x+this.getTaskWidth(t)+this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskTopCenter=function(e,t){return new a.Point(e.x+this.getTaskWidth(t)/2,e.y-this.getTaskEdgeCorrection(t))},e.prototype.getTaskBottomCenter=function(e,t){return new a.Point(e.x+this.getTaskWidth(t)/2,e.y+this.getTaskHeight(t)+this.getTaskEdgeCorrection(t))},e.prototype.getTaskEdgeCorrection=function(e){var t=this.getViewItem(e);return t.task.isMilestone()&&!t.isCustom?this.getTaskHeight(e)*(Math.sqrt(2)-1)/2:0},e.prototype.getHorizontalIndentFromTaskEdge=function(e,t){void 0===t&&(t=!1);var n=this.getTaskWidth(e),i=this.minLineLength<n/3?this.minLineLength:.2*n;return t?n-i:i},e.prototype.getRenderedRowColumnIndices=function(e,t){for(var n=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,i=t?this.getFirstVisibleGridCellIndex(e,this.tickSize.height):this.getFirstScaleVisibleIndex(e),o=t?this.getLastVisibleGridCellIndex(e,this.tickSize.height,n,this.verticalTickCount):this.getLastScaleVisibleIndex(e),r=new Array,s=i;s<=o;s++)r.push(s);return r},e.prototype.getRenderedScaleItemIndices=function(e,t){for(var n=e===this.viewType,i=this._scaleCalculator,o=t[0],r=t[t.length-1],s=n?o:i.getTopScaleIndexByBottomIndex(o),a=n?r:i.getTopScaleIndexByBottomIndex(r),l=new Array,c=s;c<=a;c++)l.push(c);return l},e.prototype.getFirstScaleVisibleIndex=function(e){return this._scaleCalculator.getFirstScaleIndexForRender(e)},e.prototype.getLastScaleVisibleIndex=function(e){return this._scaleCalculator.getLastScaleIndexForRender(e+this.visibleTaskAreaSize.width)},e.prototype.getFirstVisibleGridCellIndex=function(e,t){var n=Math.floor(e/t);return Math.max(n-10,0)},e.prototype.getLastVisibleGridCellIndex=function(e,t,n,i){var o=Math.floor((e+n)/t);return Math.min(o+10,i-1)},e.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var e=0;e<this.viewModel.items.length;e++)for(var t=0;t<this.viewModel.items[e].dependencies.length;t++)this.createConnecotInfo(this.viewModel.items[e].dependencies[t],this.viewModel.items[e].visibleIndex)},e.prototype.updateTileToConnectorLinesMap=function(e){this.tileToDependencyMap.forEach(function(t,n,i){i[n]=t.filter(function(t){return t.attr["dependency-id"]!=e})});var t=[],n=this.viewModel.items.filter(function(t){return t.dependencies.filter(function(t){return t.id==e}).length>0})[0];if(n){var i=n.dependencies.filter(function(t){return t.id===e})[0];t=this.createConnecotInfo(i,n.visibleIndex)}return t},e.prototype.createConnecotInfo=function(e,t){var n=this,i=e.predecessor.visibleIndex,o=e.type,r=e.id,s=this.getConnectorInfo(r,i,t,o);return s.forEach(function(e){n.addElementInfoToTileMap(e,n.tileToDependencyMap,!0)}),s},e.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var e=0;e<this.viewModel.noWorkingIntervals.length;e++){var t=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[e]);if(t){var n=this.getNoWorkingIntervalInfo(t);this.addElementInfoToTileMap(n,this.tileToNoWorkingIntervalsMap,!1)}}},e.prototype.getAdjustedNoWorkingInterval=function(e){return e.end.getTime()-e.start.getTime()<this.tickTimeSpan-1?null:new o.DateRange(l.DateUtils.getNearestScaleTickDate(e.start,this.range,this.tickTimeSpan,this.viewType),l.DateUtils.getNearestScaleTickDate(e.end,this.range,this.tickTimeSpan,this.viewType))},e.prototype.addElementInfoToTileMap=function(e,t,n){var i=n?e.position.y:e.position.x,o=n?e.size.height:e.size.width,r=2*(n?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(r>0)for(var s=Math.floor(i/r),a=Math.floor((i+o)/r),l=s;l<=a;l++)t[l]||(t[l]=new Array),t[l].push(e)},e.prototype.getRenderedConnectorLines=function(e){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,e)},e.prototype.getRenderedNoWorkingIntervals=function(e){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,e)},e.prototype.getRenderedStripLines=function(e){var t=new Array,n=e.stripLines.map(function(e){return e.clone()});e.showCurrentTime&&n.push(new c.StripLine(new Date,null,e.currentTimeTitle,e.currentTimeCssClass,!0));for(var i=0,o=void 0;o=n[i];i++){var r=l.DateUtils.parse(o.start),a=o.end?l.DateUtils.parse(o.end):null;if(r>=this.range.start&&r<=this.range.end||a&&a>=this.range.start&&a<=this.range.end){var d=r>this.range.start?r:this.range.start,u=new s.GridElementInfo;u.size.height=this.getVerticalGridLineHeight(),u.position.x=this.getPosByDate(d),u.size.width=a?this.getWidthByDateRange(d,a<this.range.end?a:this.range.end):0,u.className=o.isCurrent?"dx-gantt-tc":a?"dx-gantt-ti":"dx-gantt-tm",u.className+=o.cssClass?" "+o.cssClass:"",u.attr.title=o.title,t.push(u)}}return t},e.prototype.getElementsInRenderedTiles=function(e,t,n){var i=new Array,o=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(o>0)for(var r=Math.floor(n/(2*o)),s=Math.floor((n+o)/(2*o)),a=r;a<=s;a++)e[a]&&e[a].forEach(function(e){-1===i.indexOf(e)&&i.push(e)});return i},e.prototype.isTaskInRenderedRange=function(e){var t=this.getViewItem(e),n=this.getTaskPoint(e);return t.task.isMilestone()?n.x+this.getTaskWidth(e)<this.getTotalWidth():n.x<this.getTotalWidth()},e.prototype.isTaskCutByRange=function(e){return!!this.getTaskElementInfo(e).additionalInfo.taskCut},e.prototype.checkAndCorrectElementDisplayByRange=function(e){e.parentElement.offsetLeft+e.offsetLeft+e.offsetWidth>this.getTotalWidth()&&(e.style.display="none")},e.prototype.checkAndCorrectArrowElementDisplayByRange=function(e){e.offsetLeft+e.offsetWidth>this.getTotalWidth()&&(e.style.display="none")},e.prototype.checkAndCorrectConnectorLinesByRange=function(e){if(null==e?void 0:e.length)for(var t=this.getTotalWidth(),n=0;n<e.length;n++){var i=e[n],o=!i.size.width;i.position.x>t?delete e[n]:!o&&i.position.x+i.size.width>t&&(i.size.width=t-i.position.x)}},e.prototype.getCorrectedTaskWidthByRange=function(e,t){var n=this.getTotalWidth()-this.getTaskPoint(e).x;return Math.min(n,t)},e.dxGanttPrefix="dx-gantt-",e.taskClassName=e.dxGanttPrefix+"task",e.milestoneClassName=e.dxGanttPrefix+"milestone",e.smallTaskClassName=e.dxGanttPrefix+"smallTask",e.parentTaskClassName=e.dxGanttPrefix+"parent",e.taskProgressClassName=e.dxGanttPrefix+"tPrg",e.taskTitleClassName=e.dxGanttPrefix+"taskTitle",e.titleInClassName=e.dxGanttPrefix+"titleIn",e.titleOutClassName=e.dxGanttPrefix+"titleOut",e.taskResourceClassName=e.dxGanttPrefix+"taskRes",e.arrowClassName=e.dxGanttPrefix+"arrow",e.leftArrowClassName=e.dxGanttPrefix+"LA",e.topArrowClassName=e.dxGanttPrefix+"TA",e.rightArrowClassName=e.dxGanttPrefix+"RA",e.bottomArrowClassName=e.dxGanttPrefix+"BA",e.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},e}();t.GridLayoutCalculator=h},3448:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyInsertingArguments=void 0;var i=n(5215),o=function(e){function t(t,n,i){var o=e.call(this,null)||this;return o.values={predecessorId:t,successorId:n,type:i},o}return i.__extends(t,e),Object.defineProperty(t.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),t}(n(1237).BaseArguments);t.DependencyInsertingArguments=o},3509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUtils=void 0;var i=n(3726),o=n(3693),r=n(961),s=n(4414),a=n(9873),l=function(){function e(){}return e.compareDates=function(e,t){return e&&t?t.getTime()-e.getTime():-1},e.areDatesEqual=function(e,t){return 0==this.compareDates(e,t)},e.getMaxDate=function(e,t){return e||t?e?t&&this.compareDates(e,t)>0?t:e:t:null},e.getMinDate=function(e,t){return e||t?e?t?this.compareDates(e,t)>0?e:t:e:t:null},e.getDaysBetween=function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/this.msInDay)},e.getWeeksBetween=function(e,t){var n=this.getDaysBetween(e,t),i=Math.floor(n/7);return e.getDay()>t.getDay()&&i++,i},e.getMonthsDifference=function(e,t){var n=this.compareDates(e,t),i=n>=0?e:t,o=n>=0?t:e;return 12*(o.getFullYear()-i.getFullYear())+(o.getMonth()-i.getMonth())},e.getYearsDifference=function(e,t){return Math.abs(t.getFullYear()-e.getFullYear())},e.getDayNumber=function(e){return Math.ceil(e.getTime()/this.msInDay)},e.getDateByDayNumber=function(e){var t=new Date(e*this.msInDay);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},e.addDays=function(e,t){return new Date(e.getTime()+t*this.msInDay)},e.checkDayOfMonth=function(e,t){return e==t.getDate()},e.checkDayOfWeek=function(e,t){return e==t.getDay()},e.checkMonth=function(e,t){return e==t.getMonth()},e.checkYear=function(e,t){return e==t.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(e,t,n){var i=this.getSpecificDayOfWeekInMonthDates(t,e.getFullYear(),e.getMonth());return n==a.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(e,i[i.length-1]):this.areDatesEqual(e,i[n])},e.getFirstDayOfWeekInMonth=function(e,t){return new Date(e,t,1).getDay()},e.getSpecificDayOfWeekInMonthDates=function(e,t,n){for(var i=this.getFirstDayOfWeekInMonth(t,n),o=e>=i?e-i:e+7-i,r=new Array,s=new Date(t,n,o+1);s.getMonth()==n;)r.push(s),s=this.addDays(s,7);return r},e.getSpecificDayOfWeekInMonthDate=function(e,t,n,i){var o=this.getSpecificDayOfWeekInMonthDates(e,t,n);return i==a.DayOfWeekMonthlyOccurrence.Last?o[o.length-1]:o[i]},e.checkValidDayInMonth=function(e,t,n){return!(n<1||n>31||new Date(e,t,n).getMonth()!=t)},e.getNextMonth=function(e,t){return void 0===t&&(t=1),(e+t)%12},e.convertToDate=function(e){if(e instanceof Date)return new Date(e);var t=Date.parse(e);return isNaN(t)?null:new Date(t)},e.convertTimeRangeToDateRange=function(e,t){var n=this.getDateByDayNumber(t),i=n.getFullYear(),o=n.getMonth(),r=n.getDate(),a=e.start,l=new Date(i,o,r,a.hour,a.min,a.sec,a.msec),c=e.end,d=new Date(i,o,r,c.hour,c.min,c.sec,c.msec);return new s.DateRange(l,d)},e.convertToTimeRanges=function(e){var t=this;return e instanceof Array?e.map(function(e){return t.convertToTimeRange(e)}):this.parseTimeRanges(e)},e.convertToTimeRange=function(e){return e?e instanceof o.TimeRange?e:(0,r.isDefined)(e.start)&&(0,r.isDefined)(e.end)?new o.TimeRange(this.convertToTime(e.start),this.convertToTime(e.end)):this.parseTimeRange(e):null},e.convertToTime=function(e){return e?e instanceof i.Time?e:e instanceof Date?this.getTimeGromJsDate(e):this.parseTime(e):null},e.parseTimeRanges=function(e){var t=this;return e?e.split(/;|,/).map(function(e){return t.parseTimeRange(e)}).filter(function(e){return!!e}):null},e.parseTimeRange=function(e){if(!e)return null;var t=e.split("-"),n=t[0],i=t[1];return(0,r.isDefined)(n)&&(0,r.isDefined)(i)?new o.TimeRange(this.parseTime(n),this.parseTime(i)):null},e.parseTime=function(e){if(!e)return null;var t=e.split(":"),n=parseInt(t[0])||0,o=parseInt(t[1])||0,r=parseInt(t[2])||0,s=parseInt(t[3])||0;return new i.Time(n,o,r,s)},e.getTimeGromJsDate=function(e){if(!e)return null;var t=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),r=e.getMilliseconds();return new i.Time(t,n,o,r)},e.caclTimeDifference=function(e,t){return t.getTimeInMilleconds()-e.getTimeInMilleconds()},e.areTimesEqual=function(e,t){return 0==this.caclTimeDifference(e,t)},e.getMaxTime=function(e,t){return e||t?e?t&&this.caclTimeDifference(e,t)>0?t:e:t:null},e.getMinTime=function(e,t){return e||t?e?t?this.caclTimeDifference(e,t)>0?e:t:e:t:null},e.getLastTimeOfDay=function(){return new i.Time(23,59,59,999)},e.msInDay=864e5,e}();t.DateTimeUtils=l},3550:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateTaskHistoryItem=void 0;var i=n(5215),o=n(594),r=n(5593),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.data=n,i}return i.__extends(t,e),t.prototype.redo=function(){var e;null!==(e=this.insertedKey)&&void 0!==e||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},t.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e,t=this,n=[{objectType:r.GanttDataObjectNames.task,getKey:function(){return t.insertedKey},updateKey:function(e){return t.insertedKey=e}}];return(null===(e=this.data)||void 0===e?void 0:e.parentId)&&n.push({objectType:r.GanttDataObjectNames.task,getKey:function(){var e;return null===(e=t.data)||void 0===e?void 0:e.parentId},updateKey:function(e){return t.data.parentId=e}}),n},enumerable:!1,configurable:!0}),t}(n(9105).HistoryItem);t.CreateTaskHistoryItem=s},3569:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModel=void 0;var i=n(2698),o=n(8471),r=n(7283),s=n(6187),a=n(773),l=n(7999),c=n(8077),d=n(961),u=n(5593),p=n(4055),h=n(2990),g=n(2631),f=function(){function e(e,t,n,a,l,d,u){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=e,this.tasks=new o.TaskCollection,this.tasks.importFromObject(t),this.dependencies=new r.DependencyCollection,this.dependencies.importFromObject(n),this.resources=new i.ResourceCollection,this.resources.importFromObject(a),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(l),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new c.WorkingTimeCalculator(d,u),this.updateModel(!0)}return Object.defineProperty(e.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),e.prototype.updateModel=function(e){this._itemList.splice(0,this._itemList.length);for(var t=this.tasks.items,n=0;n<t.length;n++){var i=t[n];i&&this._itemList.push(new a.ViewVisualModelItem(i,this.getAssignedResources(i)))}this.createHierarchy(e),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},e.prototype.createHierarchy=function(e){var t=this;this.root=new a.ViewVisualModelItem(null,null);for(var n=this._itemList,i=n.reduce(function(e,t){var n,i=null===(n=t.task)||void 0===n?void 0:n.internalId;return(0,d.isDefined)(i)&&(e[i]=t),e},{}),o=this.requireFirstLoadParentAutoCalc&&e,r=0;r<n.length;r++){var s=n[r],l=i[s.task.parentId]||this.root;s.parent=l,l.addChild(s),o&&this.owner.validationController.recalculateParents(s,function(e){if((0,d.isDefined)(e.id)){var n=t.tasks.getItemById(e.id);(0,d.isDefined)(e.start)&&(n.start=e.start),(0,d.isDefined)(e.end)&&(n.end=e.end),(0,d.isDefined)(e.progress)&&(n.progress=e.progress)}})}o&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},e.prototype.getCurrentTaskData=function(){var e=this;return this.tasks.items.map(function(t){return e.getTaskObjectForDataSource(t)})},e.prototype.getTaskObjectForDataSource=function(e){var t=e.parentId&&this.tasks.getItemById(e.parentId),n=this.getRootTaskId(),i=n&&e.parentId===n?this.getRootRawValue():null==t?void 0:t.id;return{id:e.id,start:e.isValidStart()?e.start:null,end:e.isValidEnd()?e.end:null,duration:e.duration,description:e.description,parentId:i,progress:e.progress,color:e.color,taskType:e.taskType,title:e.title,customFields:e.customFields,expanded:e.expanded}},e.prototype.getDependencyObjectForDataSource=function(e){var t=e instanceof p.Dependency?e:this.getItemByPublicId("dependency",e);if(t){var n=this.convertInternalToPublicKey("task",t.predecessorId),i=this.convertInternalToPublicKey("task",t.successorId);return{id:t.id,predecessorId:(0,d.isDefined)(n)?n:t.predecessorId,successorId:(0,d.isDefined)(i)?i:t.successorId,type:t.type}}return null},e.prototype.getResourceObjectForDataSource=function(e){var t=e instanceof h.Resource?e:this.getItemByPublicId("resource",e);return t?{id:t.id,text:t.text,color:t.color}:null},e.prototype.getResourceAssignmentObjectForDataSource=function(e){var t=e instanceof g.ResourceAssignment?e:this.getItemByPublicId("assignment",e);if(t){var n=this.convertInternalToPublicKey("task",t.taskId),i=this.convertInternalToPublicKey("resource",t.resourceId);return{id:t.id,taskId:(0,d.isDefined)(n)?n:t.taskId,resourceId:(0,d.isDefined)(i)?i:t.resourceId}}return null},e.prototype.getRootRawValue=function(){var e,t,n;return null!==(n=null===(t=null===(e=this.root.children[0])||void 0===e?void 0:e.task)||void 0===t?void 0:t.rawParentId)&&void 0!==n?n:null},e.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},e.prototype.populateVisibleItems=function(e){var t=this,n=e===this.root;e&&(e.task||n)&&(n||(this._viewItemList.push(e),e.visibleIndex=this._viewItemList.length-1),(e.getExpanded()||e===this.root)&&e.children.forEach(function(e){return t.populateVisibleItems(e)}))},e.prototype.updateVisibleItemDependencies=function(){for(var e=this._viewItemList,t=0;t<e.length;t++){var n=e[t],i=this.getTasVisibleDependencies(n.task);n.setDependencies(i)}},e.prototype.getAssignedResources=function(e){var t=this,n=new i.ResourceCollection;return this.assignments.items.filter(function(t){return t.taskId==e.internalId}).forEach(function(e){n.add(t.resources.getItemById(e.resourceId))}),n},e.prototype.getTasVisibleDependencies=function(e){for(var t=new Array,n=e.internalId,i=this.dependencies.items.filter(function(e){return e.successorId==n}),o=0;o<i.length;o++){var r=i[o],s=this.findItem(r.predecessorId);s&&s.getVisible()&&t.push(new l.ViewVisualModelDependencyInfo(r.internalId,s,r.type))}return t},e.prototype.changeTaskExpanded=function(e,t){var n=this.tasks.getItemById(String(e));n&&(n.expanded=t,this.changed())},e.prototype.changeTaskVisibility=function(e,t){var n=this.findItem(e);n&&(n.visible=t,this.changed())},e.prototype.changeTaskSelected=function(e,t){var n=this._itemList.filter(function(t){return t.task&&t.task.internalId===e})[0];if(n){n.selected=t;var i=this.findItem(e),o=i&&i.visibleIndex;o>-1&&this.renderHelper.recreateTaskElement(o)}},e.prototype.beginUpdate=function(){this._fLockCount++},e.prototype.endUpdate=function(){this._fLockCount--,0==this._fLockCount&&this.changed()},e.prototype.compareTaskOrder=function(e){var t=new o.TaskCollection;t.importFromObject(e);var n=t.items,i=this.tasks.items;if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var s=n[r],a=i[r];if(s.id!==a.id)return!1}return!0},e.prototype.refreshTaskDataIfRequires=function(e){var t=!this.lockChangesProcessing&&!this.compareTaskOrder(e);if(t){var n=this.saveTaskInternalIds();this.tasks.importFromObject(e),this.restoreTaskInternalIds(n),this.updateModel()}return t},e.prototype.saveTaskInternalIds=function(){var e={};return this.tasks.items.map(function(t){return e[t.id]=t.internalId}),e},e.prototype.restoreTaskInternalIds=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=this.tasks.getItemByPublicId(t);n&&(n.internalId=e[t])}},e.prototype.canCreateDependency=function(e,t){if(!e||!t||e===t)return!1;var n=!1;if(this.enableDependencyValidation){var i=this.getDependentTasksHash();n=this.parentAutoCalc?this.checkTasksInterdependence(e,t,i)||this.checkParent(e,t)||this.checkParent(t,e):this.checkDependencyChain([e],[t],i,[])}return!n},e.prototype.checkParent=function(e,t){return this.getTaskTreeLine(e).indexOf(t)>-1},e.prototype.getTaskTreeLine=function(e){var t=[e],n=this.findItem(e);if(n)for(n=n.parent;null==n?void 0:n.task;)t.push(null==n?void 0:n.task.internalId),n=n.parent;else for(var i=this.tasks.getItemById(e),o=this.tasks.getItemById(null==i?void 0:i.parentId);o;)t.push(o.id),o=this.tasks.getItemById(o.parentId);return t},e.prototype.getDependentTasksHash=function(){var e={};return this.dependencies.items.forEach(function(t){var n,i,o=t.predecessorId,r=t.successorId;null!==(n=e[o])&&void 0!==n||(e[o]=[]),e[o].indexOf(r)<0&&e[o].push(r),null!==(i=e[r])&&void 0!==i||(e[r]=[]),e[r].indexOf(o)<0&&e[r].push(o)}),e},e.prototype.checkTasksInterdependence=function(e,t,n){for(var i,o,r=this.getTaskTreeLine(e).reverse(),s=this.getTaskTreeLine(t).reverse(),a=0;a<r.length-1;a++){var l=r[a],c=s.indexOf(l);c>-1&&(i=r[a+1],o=s[c+1])}return i||o||(i=r[0],o=s[0]),this.checkDependencyChain(this.getBranchIds(i),this.getBranchIds(o),n,[])},e.prototype.checkDependencyChain=function(e,t,n,i){if(e.some(function(e){return t.indexOf(e)>-1}))return!0;i.push.apply(i,e);for(var o=0;o<e.length;o++){var r=n[e[o]];if(r&&this.checkDependencyChain(r.filter(function(e){return-1===i.indexOf(e)}),t,n,i))return!0}return!1},e.prototype.getBranchIds=function(e){var t=this,n=[e],i=this.findItem(e),o=null==i?void 0:i.children;return o&&o.forEach(function(e){var i,o=null===(i=e.task)||void 0===i?void 0:i.internalId;o&&(n=n.concat(t.getBranchIds(o)))}),n},e.prototype.getTasksExpandedState=function(){var e=this.tasks.items,t={};return e.forEach(function(e){return t[e.id]=e.expanded}),t},e.prototype.applyTasksExpandedState=function(e){if(e){for(var t in this.beginUpdate(),e)Object.prototype.hasOwnProperty.call(e,t)&&this.changeTaskExpanded(t,e[t]);this.endUpdate()}},e.prototype.changed=function(){0===this._fLockCount&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},e.prototype.findItem=function(e){return this._viewItemList.filter(function(t){return t.task&&t.task.internalId===e})[0]},Object.defineProperty(e.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),e.prototype.getTaskVisibility=function(e){var t=this.findItem(e);return!!t&&t.getVisible()},e.prototype.getTaskSelected=function(e){var t=this.findItem(e);return!!t&&t.selected},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._workTimeCalculator.updateRange(e)},e.prototype.taskHasChildrenByIndex=function(e){return this._viewItemList[e].children.length>0},e.prototype.taskHasChildren=function(e){var t=this.findItem(e);return t&&t.children.length>0},Object.defineProperty(e.prototype,"enableDependencyValidation",{get:function(){var e,t=this.owner&&this.owner.settings;return null===(e=null==t?void 0:t.validation)||void 0===e?void 0:e.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentAutoCalc",{get:function(){var e=this.owner&&this.owner.settings;return e&&e.validation&&e.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enablePredecessorGap",{get:function(){var e=this.owner&&this.owner.settings;return e&&e.validation&&e.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),e.prototype.isTaskToCalculateByChildren=function(e){return this.parentAutoCalc&&this.taskHasChildren(e)},e.prototype.hasTasks=function(){return this.tasks.length>0},e.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},e.prototype.convertPublicToInternalKey=function(e,t){var n=this.getItemByPublicId(e,t);return n&&n.internalId},e.prototype.convertInternalToPublicKey=function(e,t){var n=this.getItemByInternalId(e,t);return n&&n.id},e.prototype.getItemByPublicId=function(e,t){var n=t.toString();switch(e){case"task":return this.tasks.getItemByPublicId(n);case"dependency":return this.dependencies.getItemByPublicId(n);case"resource":return this.resources.getItemByPublicId(n);case"assignment":return this.assignments.getItemByPublicId(n)}return null},e.prototype.getItemByInternalId=function(e,t){switch(e){case"task":return this.tasks.getItemById(t);case"dependency":return this.dependencies.getItemById(t);case"resource":return this.resources.getItemById(t);case"assignment":return this.assignments.getItemById(t)}return null},e.prototype.findAssignment=function(e,t){var n=this.convertPublicToInternalKey("resource",e),i=this.convertPublicToInternalKey("task",t);return this.assignments.items.filter(function(e){return e.resourceId===n&&e.taskId===i})[0]},e.prototype.findAllTaskAssignments=function(e){return this.assignments.items.filter(function(t){return t.taskId===e})},e.prototype.getAllVisibleTaskIndices=function(e,t){var n,i=[];null!=e||(e=0),null!=t||(t=this._viewItemList.length-1);for(var o=e;o<=t;o++){var r=this._viewItemList[o];(null==r?void 0:r.getVisible())&&(null===(n=null==r?void 0:r.task)||void 0===n?void 0:n.isValid())&&i.push(o)}return i},e.prototype.getVisibleTasks=function(){var e=this;return this.tasks.items.filter(function(t){return t&&e.getTaskVisibility(t.internalId)&&t.isValid()})},e.prototype.getVisibleDependencies=function(){var e=this.getVisibleTasks().map(function(e){return e.internalId});return this.dependencies.items.filter(function(t){return t&&e.indexOf(t.successorId)>-1&&e.indexOf(t.predecessorId)>-1})},e.prototype.getVisibleResourceAssignments=function(){var e=this.getVisibleTasks().map(function(e){return e.internalId});return this.assignments.items.filter(function(t){return t&&e.indexOf(t.taskId)>-1})},e.prototype.getVisibleResources=function(){for(var e=[],t=this.getVisibleResourceAssignments(),n=0;n<t.length;n++){var i=this.getItemByInternalId("resource",t[n].resourceId);i&&-1===e.indexOf(i)&&e.push(i)}return e},e.prototype.getRootTaskId=function(){var e;return null!==(e=this.rootTaskId)&&void 0!==e||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},e.prototype.calculateRootTaskId=function(){var e=this.items[0];if(!e)return null;for(;e.parent&&e.task;)e=e.parent;return e.children[0].task.parentId},e.prototype.getTaskMinStart=function(){var e=this.owner.dataRange.start;return this.tasks.items.forEach(function(t){t.isValid()&&t.start.getTime()<e.getTime()&&(e=t.start)}),e},e.prototype.getTaskMaxEnd=function(){var e=this.owner.dataRange.end;return this.tasks.items.forEach(function(t){t.isValid()&&t.end.getTime()>e.getTime()&&(e=t.end)}),e},e.prototype.processServerInsertedKey=function(e,t,n){var i;n===u.GanttDataObjectNames.task&&this.tasks.invalidate(),n===u.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),n===u.GanttDataObjectNames.resource&&this.resources.invalidate(),n===u.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),null===(i=this.owner)||void 0===i||i.updateHistoryObsoleteInsertedKey(e,t,n)},e.prototype.onBeginDataObjectCreate=function(){var e,t;null===(t=(e=this.owner).lockUpdateWithReload)||void 0===t||t.call(e)},e.prototype.onEndDataObjectCreate=function(){var e,t;null===(t=(e=this.owner).unlockUpdateWithReload)||void 0===t||t.call(e)},e}();t.ViewVisualModel=f},3634:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertyManipulator=void 0;var i=n(5215),o=n(1820),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.setValue=function(e,t){var n=this,i=this.viewModel.resources.getItemById(e),r=new o.HistoryItemState(e,this.getPropertyValue(i));return this.setPropertyValue(i,t),this.viewModel.assignments.items.filter(function(e){return e.resourceId===i.internalId}).forEach(function(e){var t=n.viewModel.findItem(e.taskId).visibleIndex;n.renderHelper.recreateTaskElement(t)}),r},t.prototype.restoreValue=function(e){var t=this;if(e){var n=e.value,i=this.viewModel.resources.getItemById(e.id);this.setPropertyValue(i,n),this.viewModel.assignments.items.filter(function(e){return e.resourceId===i.internalId}).forEach(function(e){var n=t.viewModel.findItem(e.taskId).visibleIndex;t.renderHelper.recreateTaskElement(n)})}},t}(n(3161).BaseManipulator);t.ResourcePropertyManipulator=r},3655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateDependencyCommand=void 0;var i=n(5215),o=n(8154),r=n(3448),s=n(3793),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){return e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(e,t,n){if(this.control.viewModel.dependencies.items.filter(function(n){return n.predecessorId===e&&n.successorId===t||n.successorId===e&&n.predecessorId===t}).length)return!1;var i=new r.DependencyInsertingArguments(e,t,n);if(this.modelManipulator.dispatcher.notifyDependencyInserting(i),i.cancel)return!1;if(e=i.predecessorId,t=i.successorId,n=i.type,this.control.history.beginTransaction(),this.history.addAndRedo(new s.InsertDependencyHistoryItem(this.modelManipulator,e,t,n)),this.control.isValidateDependenciesRequired()){var a=this.control.viewModel.tasks.getItemById(e);n===o.DependencyType.SF||n===o.DependencyType.SS?this.control.validationController.moveStartDependTasks(e,a.start):this.control.validationController.moveEndDependTasks(e,a.end)}return this.control.history.endTransaction(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},t}(n(2318).DependencyCommandBase);t.CreateDependencyCommand=a},3693:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeRange=void 0;var i=n(3509),o=function(){function e(e,t){i.DateTimeUtils.caclTimeDifference(e,t)>=0?(this._start=e,this._end=t):(this._start=t,this._end=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0&&(this._start=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&(this._end=e)},enumerable:!1,configurable:!0}),e.prototype.isTimeInRange=function(e){return i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0},e.prototype.hasIntersect=function(e){return this.isTimeInRange(e.start)||this.isTimeInRange(e.end)||e.isTimeInRange(this.start)||e.isTimeInRange(this.end)},e.prototype.concatWith=function(e){return!!this.hasIntersect(e)&&(this.start=i.DateTimeUtils.getMinTime(this.start,e.start),this.end=i.DateTimeUtils.getMaxTime(this.end,e.end),!0)},e}();t.TimeRange=o},3726:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var n=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=e,this.min=t,this.sec=n,this.msec=i}return Object.defineProperty(e.prototype,"hour",{get:function(){return this._hour},set:function(e){e>=0&&e<24&&(this._hour=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){e>=0&&e<60&&(this._min=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sec",{get:function(){return this._sec},set:function(e){e>=0&&e<60&&(this._sec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"msec",{get:function(){return this._msec},set:function(e){e>=0&&e<1e3&&(this._msec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),e.prototype.updateFullMilleconds=function(){var e=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*e+this._msec},e.prototype.getTimeInMilleconds=function(){return this._fullmsec},e}();t.Time=n},3734:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfDependencyLineInfo=void 0;var i=n(5327),o=n(1922),r=function(){function e(){}return e.prototype.assign=function(e){var t;this._copyPoints(e.points),this.arrowInfo=e.arrowInfo,null!==(t=this.fillColor)&&void 0!==t||(this.fillColor=new o.Color),this.fillColor.assign(e.fillColor)},e.prototype._copyPoints=function(e){var t=this;this.points=new Array,null==e||e.forEach(function(e){return t.points.push(new i.Point(e.x,e.y))})},e}();t.PdfDependencyLineInfo=r},3771:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceHistoryItem=void 0;var i=n(5215),o=n(9105),r=n(5593),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.assignmentId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},t.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:r.GanttDataObjectNames.resourceAssignment,getKey:function(){return e.assignmentId},updateKey:function(t){return e.assignmentId=t}},{objectType:r.GanttDataObjectNames.task,getKey:function(){var t;return null===(t=e.assignment)||void 0===t?void 0:t.taskId},updateKey:function(t){return e.assignment.taskId=t}},{objectType:r.GanttDataObjectNames.resource,getKey:function(){var t;return null===(t=e.assignment)||void 0===t?void 0:t.resourceId},updateKey:function(t){return e.assignment.resourceId=t}}]},enumerable:!1,configurable:!0}),t}(o.HistoryItem);t.DeassignResourceHistoryItem=s},3793:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InsertDependencyHistoryItem=void 0;var i=n(5215),o=n(594),r=n(5593),s=function(e){function t(t,n,i,o){var r=e.call(this,t)||this;return r.predecessorId=n,r.successorId=i,r.type=o,r}return i.__extends(t,e),t.prototype.redo=function(){var e;null!==(e=this.insertedKey)&&void 0!==e||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},t.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:r.GanttDataObjectNames.dependency,getKey:function(){return e.insertedKey},updateKey:function(t){return e.insertedKey=t}},{objectType:r.GanttDataObjectNames.task,getKey:function(){return e.predecessorId},updateKey:function(t){return e.predecessorId=t}},{objectType:r.GanttDataObjectNames.task,getKey:function(){return e.successorId},updateKey:function(t){return e.successorId=t}}]},enumerable:!1,configurable:!0}),t}(n(9105).HistoryItem);t.InsertDependencyHistoryItem=s},3820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfPageTableNames=void 0;var n=function(){function e(){}return e.treeListHeader="treeListHeader",e.treeListMain="treeListMain",e.chartMain="chartMain",e.chartScaleTop="chartScaleTop",e.chartScaleBottom="chartScaleBottom",e}();t.PdfPageTableNames=n},3844:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Size=void 0;var n=function(){function e(e,t){this.width=e,this.height=t}return e.empty=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.initByCommonAction=function(t){var n=function(e){return e.width},i=function(e){return e.height};return new e(t(n,i),t(i,n))},e.prototype.isEmpty=function(){return 0===this.width&&0===this.height},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},e.prototype.offset=function(e,t){return this.width=this.width+e,this.height=this.height+t,this},e.prototype.multiply=function(e,t){return this.width*=e,this.height*=t,this},e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.copyFrom=function(e){this.width=e.width,this.height=e.height},e.prototype.applyConverter=function(e){return this.width=e(this.width),this.height=e(this.height),this},e.equals=function(e,t){return e.width===t.width&&e.height===t.height},e}();t.Size=n},3857:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EditingSettings=void 0;var i=n(961),o=function(){function e(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.enabled)&&(n.enabled=t.enabled),(0,i.isDefined)(t.allowDependencyDelete)&&(n.allowDependencyDelete=t.allowDependencyDelete),(0,i.isDefined)(t.allowDependencyInsert)&&(n.allowDependencyInsert=t.allowDependencyInsert),(0,i.isDefined)(t.allowTaskDelete)&&(n.allowTaskDelete=t.allowTaskDelete),(0,i.isDefined)(t.allowTaskInsert)&&(n.allowTaskInsert=t.allowTaskInsert),(0,i.isDefined)(t.allowTaskUpdate)&&(n.allowTaskUpdate=t.allowTaskUpdate),(0,i.isDefined)(t.allowResourceDelete)&&(n.allowResourceDelete=t.allowResourceDelete),(0,i.isDefined)(t.allowResourceInsert)&&(n.allowResourceInsert=t.allowResourceInsert),(0,i.isDefined)(t.allowResourceUpdate)&&(n.allowResourceUpdate=t.allowResourceUpdate),(0,i.isDefined)(t.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=t.allowTaskResourceUpdate),(0,i.isDefined)(t.taskHoverDelay)&&(n.taskHoverDelay=t.taskHoverDelay)),n},e.prototype.equal=function(e){var t=!0;return(t=(t=(t=(t=(t=(t=(t=(t=(t=t&&this.enabled===e.enabled)&&this.allowDependencyDelete===e.allowDependencyDelete)&&this.allowDependencyInsert===e.allowDependencyInsert)&&this.allowTaskDelete===e.allowTaskDelete)&&this.allowTaskInsert===e.allowTaskInsert)&&this.allowTaskUpdate===e.allowTaskUpdate)&&this.allowResourceDelete===e.allowResourceDelete)&&this.allowResourceInsert===e.allowResourceInsert)&&this.allowResourceUpdate===e.allowResourceUpdate)&&this.allowTaskResourceUpdate===e.allowTaskResourceUpdate},e}();t.EditingSettings=o},3887:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AttrUtils=void 0;var i=n(8424),o=function(){function e(){}return e.setElementAttribute=function(e,t,n){e.setAttribute&&(i.Browser.IE&&i.Browser.MajorVersion>=11&&"src"===t.toLowerCase()&&e.setAttribute(t,""),e.setAttribute(t,n))},e.setStyleAttribute=function(e,t,n){e.setProperty&&e.setProperty(t,n,"")},e.getElementAttribute=function(e,t){return e.getAttribute(t)},e.getStyleAttribute=function(e,t){if(e.getPropertyValue){if(i.Browser.Firefox)try{return e.getPropertyValue(t)}catch(n){return e[t]}return e.getPropertyValue(t)}return null},e.removeElementAttribute=function(e,t){e.removeAttribute&&e.removeAttribute(t)},e.removeStyleAttribute=function(e,t){e.removeProperty&&e.removeProperty(t)},e.changeElementStyleAttribute=function(t,n,i){e.saveStyleAttributeInElement(t,n),e.setStyleAttribute(t.style,n,i)},e.restoreElementStyleAttribute=function(t,n){var i="dxwu_saved"+n,o=t.style;if(e.isExistsAttributeInElement(t,i)){var r=e.getElementAttribute(t,i);return r===e.emptyObject||null===r?e.removeStyleAttribute(o,n):e.setStyleAttribute(o,n,r),e.removeElementAttribute(t,i),!0}return!1},e.saveStyleAttributeInElement=function(t,n){var i="dxwu_saved"+n,o=t.style;if(!e.isExistsAttributeInElement(t,i)){var r=e.getStyleAttribute(o,n);e.setElementAttribute(t,i,e.isAttributeExists(r)?r:e.emptyObject)}},e.isExistsAttributeInElement=function(t,n){var i=e.getElementAttribute(t,n);return e.isAttributeExists(i)},e.isAttributeExists=function(e){return null!==e&&""!==e},e.emptyObject="DxEmptyValue",e}();t.AttrUtils=o},3898:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttViewApi=void 0;var n=function(){function e(e){this.maxZoom=3,this._ganttView=e}return Object.defineProperty(e.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(e){this._ganttView.currentZoom=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),e.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},e.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(e.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),e.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},e.prototype.scrollToDateCore=function(e,t){this._ganttView.scrollToDateCore(e,t)},Object.defineProperty(e.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),e.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(e.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),e.prototype.calculateAutoViewType=function(e,t){return this._ganttView.calculateAutoViewType(e,t)},e.prototype.zoomIn=function(e){void 0===e&&(e=this.getTaskAreaContainerWidth()/2);var t=this.renderHelper.getTargetDateByPos(e),n=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>n&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(t,-e)},e.prototype.zoomOut=function(e){void 0===e&&(e=this.renderHelper.getTaskAreaContainerWidth()/2);var t=this.renderHelper.getTargetDateByPos(e),n=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<n&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(t,-e)},e.prototype.setViewType=function(e,t){void 0===t&&(t=!0),null==e&&(e=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==e&&(this.settings.viewType=e,this.updateTickSizeWidth(),this.resetAndUpdate(),t&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(e))},e.prototype.setViewTypeRange=function(e,t){void 0!==e&&(this.settings.viewTypeRange.min=Math.min(e,t)),void 0!==t&&(this.settings.viewTypeRange.max=Math.max(e,t));var n=this.settings.viewTypeRange.min,i=this.settings.viewTypeRange.max,o=this.settings.viewType;n>o?this.setViewType(n):i<o&&this.setViewType(i)},e}();t.GanttViewApi=n},4055:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dependency=void 0;var i=n(5215),o=n(961),r=n(5593),s=n(8154),a=function(e){function t(){var t=e.call(this)||this;return t.predecessorId="",t.successorId="",t.type=null,t}return i.__extends(t,e),Object.defineProperty(t.prototype,"isStartDependency",{get:function(){return this.type===s.DependencyType.SS||this.type===s.DependencyType.SF},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(t){(0,o.isDefined)(t)&&(e.prototype.assignFromObject.call(this,t),this.predecessorId=String(t.predecessorId),this.successorId=String(t.successorId),this.type=this.parseType(t.type))},t.prototype.parseType=function(e){if(!(0,o.isDefined)(e))return s.DependencyType.FS;switch(e.toString().toUpperCase()){case"SS":case"1":return s.DependencyType.SS;case"FF":case"2":return s.DependencyType.FF;case"SF":case"3":return s.DependencyType.SF;default:return s.DependencyType.FS}},t}(r.DataObject);t.Dependency=a},4076:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSettings=void 0;var i=n(961),o=function(){function e(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.validateDependencies)&&(n.validateDependencies=t.validateDependencies),(0,i.isDefined)(t.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=t.autoUpdateParentTasks),(0,i.isDefined)(t.enablePredecessorGap)&&(n.enablePredecessorGap=t.enablePredecessorGap)),n},e.prototype.equal=function(e){var t=!0;return(t=(t=t&&this.validateDependencies===e.validateDependencies)&&this.autoUpdateParentTasks===e.autoUpdateParentTasks)&&this.enablePredecessorGap===e.enablePredecessorGap},e}();t.ValidationSettings=o},4104:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenHelperSettings=void 0;var i=n(961),o=function(){function e(){}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.getMainElement)&&(n.getMainElement=t.getMainElement),(0,i.isDefined)(t.adjustControl)&&(n.adjustControl=t.adjustControl)),n},e}();t.FullScreenHelperSettings=o},4130:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCommandBase=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isApiCall=!1,t}return i.__extends(t,e),t.prototype.getState=function(){var e=new r.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},t.prototype.updateParent=function(e){this.validationController._parentAutoCalc&&e&&e.children.length>0&&this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId)},t}(o.CommandBase);t.TaskCommandBase=s},4187:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttClientCommand=void 0,function(e){e[e.CreateTask=0]="CreateTask",e[e.CreateSubTask=1]="CreateSubTask",e[e.RemoveTask=2]="RemoveTask",e[e.RemoveDependency=3]="RemoveDependency",e[e.TaskInformation=4]="TaskInformation",e[e.TaskAddContextItem=5]="TaskAddContextItem",e[e.Undo=6]="Undo",e[e.Redo=7]="Redo",e[e.ZoomIn=8]="ZoomIn",e[e.ZoomOut=9]="ZoomOut",e[e.FullScreen=10]="FullScreen",e[e.CollapseAll=11]="CollapseAll",e[e.ExpandAll=12]="ExpandAll",e[e.ResourceManager=13]="ResourceManager",e[e.ToggleResources=14]="ToggleResources",e[e.ToggleDependencies=15]="ToggleDependencies"}(t.GanttClientCommand||(t.GanttClientCommand={}))},4219:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Monthly=void 0;var i=n(5215),o=n(6711),r=n(3509),s=n(7861),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getMonthsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.start,n=r.DateTimeUtils.getMonthsDifference(t,e),i=Math.floor(n/this.interval)*this.interval,o=new s.MonthInfo(t.getMonth(),t.getFullYear());o.addMonths(i);var a=this.getSpecDayInMonth(o.year,o.month);return r.DateTimeUtils.compareDates(a,e)>=0&&(o.addMonths(this.interval),a=this.getSpecDayInMonth(o.year,o.month)),a},t.prototype.calculateNearestPoint=function(e){var t=e.getMonth(),n=e.getFullYear(),i=this.getSpecDayInMonth(n,t);if(r.DateTimeUtils.compareDates(i,e)>=0){var o=new s.MonthInfo(t,n);o.addMonths(1),i=this.getSpecDayInMonth(o.year,o.month)}return i},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Monthly=a},4339:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommandBase=void 0;var n=function(){function e(e){this.control=e}return Object.defineProperty(e.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.state.enabled)return!1;var n=this.executeInternal.apply(this,e);return n&&this.control.barManager.updateItemsState([]),n},e.prototype.isEnabled=function(){return this.control.settings.editing.enabled},e.prototype.executeInternal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Not implemented")},e}();t.CommandBase=n},4414:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var n=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.equal=function(e){var t=!0;return(t=t&&this.start.getTime()===e.start.getTime())&&this.end.getTime()===e.end.getTime()},e}();t.DateRange=n},4486:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditParameters=void 0;var i=n(5215),o=n(2698),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enableEdit=!0,t.enableRangeEdit=!0,t.isValidationRequired=!1,t.hiddenFields=[],t.readOnlyFields=[],t}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.id=this.id,e.title=this.title,e.progress=this.progress,e.start=this.start,e.end=this.end,e.assigned=new o.ResourceCollection,e.assigned.addRange(this.assigned.items),e.resources=new o.ResourceCollection,e.resources.addRange(this.resources.items),e.showResourcesDialogCommand=this.showResourcesDialogCommand,e.showTaskEditDialogCommand=this.showTaskEditDialogCommand,e.enableEdit=this.enableEdit,e.enableRangeEdit=this.enableRangeEdit,e.hiddenFields=this.hiddenFields.slice(),e.readOnlyFields=this.readOnlyFields.slice(),e.isValidationRequired=this.isValidationRequired,e.getCorrectDateRange=this.getCorrectDateRange,e},t}(n(3282).DialogParametersBase);t.TaskEditParameters=r},4496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=void 0;var n=function(){function e(){}return e.euclideanDistance=function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},e.manhattanDistance=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},e}();t.Metrics=n},4507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;var n=function(e,t){void 0===t&&(t=!1),this.dependencyId=e,this.critical=t};t.ValidationError=n},4680:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskInsertingArguments=void 0;var i=n(5215),o=function(e){function t(t,n){var i=e.call(this,t)||this;return i.values=null!=n?n:{},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),t}(n(1237).BaseArguments);t.TaskInsertingArguments=o},4705:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Width=void 0;var i=n(6837),o=n(750),r=function(){function e(e){this.assign(e)}return e.prototype.assign=function(t){if(t instanceof e)this._widthInternal=t._widthInternal;else{var n="number"==typeof t?t:parseInt(t);isNaN(n)?this.assignFromString(t):this._widthInternal=n}},e.prototype.assignFromString=function(e){if(e){var t=o.DomUtils.pxToInt(e);this._widthInternal=t||i.PredefinedStyles.getPredefinedStringOrUndefined(e,i.PredefinedStyles.width)}},e.prototype.hasValue=function(){return!!this._widthInternal},e.prototype.getValue=function(){return this._widthInternal},e}();t.Width=r},4707:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyCommand=void 0;var i=n(5215),o=n(6172),r=n(338),s=n(7184),a=n(2254),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this;return void 0===n&&(n=!0),n?(this.control.commandManager.showConfirmationDialog.execute(new r.ConfirmationDialogParameters(o.ConfirmationType.DependencyDelete,function(){i.executeInternal(t)})),!1):e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){if(null!=(e=e||this.control.taskEditController.dependencyId)){var t=this.control.viewModel.dependencies.items.filter(function(t){return t.internalId===e})[0];if(t){var n=new s.DependencyRemovingArguments(t);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(n),!n.cancel)return this.history.addAndRedo(new a.RemoveDependencyHistoryItem(this.modelManipulator,e)),e===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.enabled&&null!=this.control.taskEditController.dependencyId,t},t}(n(2318).DependencyCommandBase);t.RemoveDependencyCommand=l},4931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttView=void 0;var i=n(2301),o=n(8424),r=n(5031),s=n(3550),a=n(4414),l=n(3509),c=n(3227),d=n(4104),u=n(7302),p=n(672),h=n(397),g=n(961),f=n(2376),m=n(6347),y=n(261),v=n(3021),T=n(6131),_=n(3844),k=n(7086),b=n(2792),w=n(2920),S=n(8053),C=n(5362),D=n(9312),I=n(3569),E=n(3898),A=n(8451),M=n(750),P=n(5327),x=n(5107),O=n(6533),R=n(5593),L=function(){function e(e,t,n){var o=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new _.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=t,this.settings=T.Settings.parse(n),this.initValidationController(),this.renderHelper=new v.RenderHelper(this),this.renderHelper.initMarkup(e),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new r.CommandManager(this),this.barManager=new i.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new h.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout(function(){o.scrollLeftByViewType()},0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return e.prototype.initGanttViewApi=function(){this.ganttViewApi=new E.GanttViewApi(this)},e.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},e.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},e.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},e.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},e.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,0===this._updateWithModelReloadLockedCounter&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},e.prototype.initValidationController=function(){var e=this,t=C.ValidationControllerSettings.parse({getViewModel:function(){return e.viewModel},getHistory:function(){return e.history},getModelManipulator:function(){return e.modelManipulator},getRange:function(){return e.range},getValidationSettings:function(){return e.settings.validation},updateOwnerInAutoParentMode:function(){e.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return e.isValidateDependenciesRequired()}});this.validationController=new S.ValidationController(t)},e.prototype.initTaskEditController=function(){var e=this,t=w.TaskEditSettings.parse({destroyTemplate:function(t){e.destroyTemplate(t)},formatDate:function(t){return e.getDateFormat(t)},getRenderHelper:function(){return e.renderHelper},getGanttSettings:function(){return e.settings},getViewModel:function(){return e.viewModel},getCommandManager:function(){return e.commandManager},getModelManipulator:function(){return e.modelManipulator},getValidationController:function(){return e.validationController}});this.taskEditController=new b.TaskEditController(t)},Object.defineProperty(e.prototype,"taskAreaEventsListener",{get:function(){var e;return null!==(e=this._taskAreaEventsListener)&&void 0!==e||(this._taskAreaEventsListener=new x.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),e.prototype.initFullScreenModeHelper=function(){var e=this,t=d.FullScreenHelperSettings.parse({getMainElement:function(){return e.getOwnerControlMainElement()},adjustControl:function(){e.adjustOwnerControl()}});this.fullScreenModeHelper=new u.FullScreenModeHelper(t)},e.prototype.getDateRange=function(e,t){var n=this.getVisibleAreaTime(),i=this.settings.startDateRange||c.DateUtils.adjustStartDateByViewType(new Date(e.getTime()-n),this.settings.viewType,this.settings.firstDayOfWeek),o=this.settings.endDateRange||c.DateUtils.adjustEndDateByViewType(new Date(t.getTime()+n),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&i>o?o=i:this.settings.endDateRange&&i>o&&(i=o),new a.DateRange(i,o)},e.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*c.DateUtils.getTickTimeSpan(this.settings.viewType)},e.prototype.zoomIn=function(e){void 0===e&&(e=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(e)},e.prototype.zoomOut=function(e){void 0===e&&(e=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(e)},e.prototype.scrollToDate=function(e){if(e){var t=e instanceof Date?c.DateUtils.getOrCreateUTCDate(e):c.DateUtils.parse(e);this.scrollToDateCore(t,0)}},e.prototype.showDialog=function(e,t,n,i){this.ganttOwner.showDialog(e,t,n,i)},e.prototype.showPopupMenu=function(e){this.ganttOwner.showPopupMenu(e)},e.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},e.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},e.prototype.expandAll=function(){this.ganttOwner.expandAll()},e.prototype.onGanttViewContextMenu=function(e,t,n){return this.ganttOwner.onGanttViewContextMenu(e,t,n)},e.prototype.changeGanttTaskSelection=function(e,t){this.ganttOwner.changeGanttTaskSelection(e,t)},e.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},e.prototype.scrollLeftByViewType=function(){var e=c.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(e,1)},e.prototype.scrollToDateCore=function(e,t){this.renderHelper.setTaskAreaContainerScrollLeftToDate(e,t)},e.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},e.prototype.initializeStripLinesUpdater=function(){var e=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval(function(){e.renderHelper.recreateStripLines()},Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},e.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},e.prototype.getGanttViewStartDate=function(e){if(!e)return new Date;var t=e.map(function(e){return"string"==typeof e.start?new Date(e.start):e.start}).filter(function(e){return(0,g.isDefined)(e)});return t.length>0?t.reduce(function(e,t){return t<e?t:e},t[0]):new Date},e.prototype.getGanttViewEndDate=function(e){if(!e)return new Date;var t=e.map(function(e){return"string"==typeof e.end?new Date(e.end):e.end}).filter(function(e){return(0,g.isDefined)(e)});return t.length>0?t.reduce(function(e,t){return t>e?t:e},t[0]):new Date},e.prototype.getTask=function(e){var t=this.getViewItem(e);return null==t?void 0:t.task},e.prototype.getViewItem=function(e){var t;return null===(t=this.viewModel)||void 0===t?void 0:t.items[e]},e.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},e.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},e.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},e.prototype.onBeginUpdateView=function(){this[e.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[e.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},e.prototype.onEndUpdateView=function(){delete this[e.taskAreaScrollTopKey],delete this[e.taskAreaScrollLeftKey],delete this[e.taskTextHeightKey]},Object.defineProperty(e.prototype,"taskAreaContainerScrollTop",{get:function(){var t;return null!==(t=this[e.taskAreaScrollTopKey])&&void 0!==t?t:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollLeft",{get:function(){var t;return null!==(t=this[e.taskAreaScrollLeftKey])&&void 0!==t?t:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),e.prototype.processScroll=function(e){this.hideTaskEditControl(),this.renderHelper.processScroll(e)},e.prototype.allowTaskAreaBorders=function(e){return e?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},e.prototype.getScaleItemText=function(e,t){return this.renderHelper.getScaleItemText(e,t)},e.prototype.getTaskText=function(e){return this.renderHelper.getTaskText(e)},e.prototype.rowHasChildren=function(e){var t=this.getViewItem(e);return(null==t?void 0:t.children.length)>0},e.prototype.rowHasSelection=function(e){var t=this.getViewItem(e);return null==t?void 0:t.selected},e.prototype.getAllVisibleTaskIndices=function(e,t){return this.viewModel.getAllVisibleTaskIndices(e,t)},e.prototype.getVisibleDependencyKeysByTaskRange=function(e){if(!this.settings.showDependencies)return[];var t=this.viewModel,n=e.map(function(e){return t.tasks.items[e].internalId});return t.dependencies.items.filter(function(e){return n.indexOf(e.successorId)>-1||n.indexOf(e.predecessorId)>-1}).map(function(e){return e.internalId})},e.prototype.getTreeListTableStyle=function(){var e,t;return null===(t=(e=this.ganttOwner).getTreeListTableStyle)||void 0===t?void 0:t.call(e)},e.prototype.getTreeListColCount=function(){var e,t;return null===(t=(e=this.ganttOwner).getTreeListColCount)||void 0===t?void 0:t.call(e)},e.prototype.getTreeListHeaderInfo=function(e){var t,n;return null===(n=(t=this.ganttOwner).getTreeListHeaderInfo)||void 0===n?void 0:n.call(t,e)},e.prototype.getTreeListCellInfo=function(e,t,n){var i,o;return null===(o=(i=this.ganttOwner).getTreeListCellInfo)||void 0===o?void 0:o.call(i,e,t,n)},e.prototype.getTreeListEmptyDataCellInfo=function(){var e,t;return null===(t=(e=this.ganttOwner).getTreeListEmptyDataCellInfo)||void 0===t?void 0:t.call(e)},e.prototype.exportToPdf=function(e){var t;return null!==(t=e.docCreateMethod)&&void 0!==t||(e.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new y.PdfGanttExporter(new p.GanttExportCalculator(this,e)).export()},e.prototype.getDefaultPdfDocCreateMethod=function(){var e;return null===(e=window.jspdf)||void 0===e?void 0:e.jsPDF},e.prototype.getTaskDependencies=function(e){return this.viewModel.dependencies.items.filter(function(t){return t.predecessorId==e||t.successorId==e})},e.prototype.isHighlightRowElementAllowed=function(e){var t=this.getViewItem(e);return e%2!=0&&this.settings.areAlternateRowsEnabled||(null==t?void 0:t.children.length)>0},e.prototype.calculateAutoViewType=function(e,t){var n=(t.getTime()-e.getTime())/36e5;return n>8760?D.ViewType.Years:n>720?D.ViewType.Months:n>168?D.ViewType.Weeks:n>24?D.ViewType.Days:n>6?D.ViewType.SixHours:n>1?D.ViewType.Hours:D.ViewType.TenMinutes},e.prototype.getExternalTaskAreaContainer=function(e){return this.ganttOwner.getExternalTaskAreaContainer(e)},e.prototype.prepareExternalTaskAreaContainer=function(e,t){return this.ganttOwner.prepareExternalTaskAreaContainer(e,t)},e.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},e.prototype.changeTaskExpanded=function(e,t){var n=this.getTaskByPublicId(e);n&&this.viewModel.changeTaskExpanded(n.internalId,t)},e.prototype.expandTask=function(e){this.viewModel.changeTaskExpanded(e,!0)},e.prototype.collapseTask=function(e){this.viewModel.changeTaskExpanded(e,!1)},e.prototype.showTask=function(e){this.viewModel.changeTaskVisibility(e,!0)},e.prototype.hideTask=function(e){this.viewModel.changeTaskVisibility(e,!1)},e.prototype.getTaskVisibility=function(e){return this.viewModel.getTaskVisibility(e)},e.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},e.prototype.getTaskSelected=function(e){return this.viewModel.getTaskSelected(e)},e.prototype.setViewType=function(e,t){void 0===t&&(t=!0),this.ganttViewApi.setViewType(e,t)},e.prototype.setViewTypeRange=function(e,t){this.ganttViewApi.setViewTypeRange(e,t)},e.prototype.setTaskTitlePosition=function(e){this.settings.taskTitlePosition!==e&&(this.settings.taskTitlePosition=e,this.resetAndUpdate())},e.prototype.setShowResources=function(e){this.settings.showResources!==e&&(this.settings.showResources=e,this.resetAndUpdate())},e.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},e.prototype.setShowDependencies=function(e){this.settings.showDependencies!==e&&(this.settings.showDependencies=e,this.resetAndUpdate())},e.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},e.prototype.setFirstDayOfWeek=function(e){this.settings.firstDayOfWeek!==e&&(this.settings.firstDayOfWeek=e,this.resetAndUpdate())},e.prototype.setStartDateRange=function(e){l.DateTimeUtils.areDatesEqual(this.settings.startDateRange,e)||(this.settings.startDateRange=new Date(e),this.resetAndUpdate())},e.prototype.setEndDateRange=function(e){l.DateTimeUtils.areDatesEqual(this.settings.endDateRange,e)||(this.settings.endDateRange=new Date(e),this.resetAndUpdate())},e.prototype.loadOptionsFromGanttOwner=function(){var e,t=this;this.tickSize.height=this.ganttOwner.getRowHeight();var n=this.ganttOwner.getGanttTasksData();this.dataRange=new a.DateRange(this.getGanttViewStartDate(n),this.getGanttViewEndDate(n)),null==this.settings.viewType&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new f.ModelChangesDispatcher;var i=this.ganttOwner.getModelChangesListener();i&&this.dispatcher.onModelChanged.add(i),this.viewModel=new I.ViewVisualModel(this,n,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new m.ModelManipulator(this.viewModel,this.dispatcher),null===(e=this.history)||void 0===e||e.historyItems.forEach(function(e){return e.setModelManipulator(t.modelManipulator)})},e.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),o.Browser.IE&&this.taskEditController.createElements(),this.updateView()},e.prototype.cleanMarkup=function(){this.setNormalScreenMode(),this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},e.prototype.checkAndProcessModelChanges=function(){var e=this.ganttOwner.getGanttTasksData(),t=this.viewModel.refreshTaskDataIfRequires(e);return t&&this.resetAndUpdate(),t},e.prototype.updateHistoryObsoleteInsertedKey=function(e,t,n){var i;null===(i=this.history)||void 0===i||i.updateObsoleteInsertedKey(e,t,n),n===R.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(e,t)},e.prototype.updateRowHeights=function(e){if(this.tickSize.height!==e){this.tickSize.height=e;var t=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(t)}},e.prototype.selectTask=function(e){this.selectDependency(null),this.viewModel.changeTaskSelected(e,!0),this.currentSelectedTaskID=e,this.updateBarManager()},e.prototype.unselectTask=function(e){this.viewModel.changeTaskSelected(e,!1),this.updateBarManager()},e.prototype.selectTaskById=function(e){this.unselectCurrentSelectedTask();var t=this.getTaskByPublicId(e);t&&this.selectTask(t.internalId)},e.prototype.selectDependency=function(e){this.taskEditController.selectDependency(e),this.renderHelper.createConnectorLines()},e.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},e.prototype.setWidth=function(e){this.renderHelper.setMainElementWidth(e)},e.prototype.setHeight=function(e){this.renderHelper.setMainElementHeight(e)},e.prototype.setAllowSelection=function(e){this.settings.allowSelectTask=e},e.prototype.setEditingSettings=function(e){this.settings.editing=e,this.updateBarManager()},e.prototype.setValidationSettings=function(e){this.settings.validation=e},e.prototype.setRowLinesVisible=function(e){this.settings.areHorizontalBordersEnabled=e,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},e.prototype.setStripLines=function(e){this.settings.stripLines=k.StripLineSettings.parse(e),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},e.prototype.deleteTask=function(e){var t=this.getTaskByPublicId(e.toString());t&&this.commandManager.removeTaskCommand.execute(t.internalId,!1,!0)},e.prototype.insertTask=function(e){if(e){var t=null!=e.parentId?String(e.parentId):null,n=this.getTaskByPublicId(t),i=this.viewModel.getRootTaskId(),o="string"==typeof e.start?new Date(e.start):e.start,r="string"==typeof e.end?new Date(e.end):e.end,s={parentId:i&&t===i?t:null==n?void 0:n.internalId,title:e.title,start:o,end:r,progress:parseInt(e.progress)||0,color:e.color};if(this.commandManager.createTaskCommand.execute(s))return this.getLastInsertedTaskId()}return""},e.prototype.updateTask=function(e,t){var n=this.getTaskByPublicId(e.toString()),i=this._getTaskDataForUpdate(t,n);i&&this.commandManager.updateTaskCommand.execute(n.internalId,i)},e.prototype.getTaskData=function(e){var t=this.getTaskByPublicId(e.toString());if(t)return this.viewModel.getTaskObjectForDataSource(t)},e.prototype.insertDependency=function(e){if(e){var t=String(e.predecessorId),n=this.getTaskByPublicId(t),i=String(e.successorId),o=this.getTaskByPublicId(i),r=e.type;n&&o&&this.validationController.canCreateDependency(t,i)&&this.commandManager.createDependencyCommand.execute(n.internalId,o.internalId,r)}},e.prototype.deleteDependency=function(e){var t=this.viewModel.convertPublicToInternalKey("dependency",e);(0,g.isDefined)(t)&&this.commandManager.removeDependencyCommand.execute(t)},e.prototype.getDependencyData=function(e){return this.viewModel.getDependencyObjectForDataSource(e)},e.prototype.insertResource=function(e,t){var n=this;e&&this.commandManager.createResourceCommand.execute(String(e.text),e.color&&String(e.color),function(e){if((0,g.isDefined)(t))for(var i=0;i<t.length;i++)n.assignResourceToTask(e,t[i])})},e.prototype.deleteResource=function(e){var t=this.viewModel.convertPublicToInternalKey("resource",e);(0,g.isDefined)(t)&&this.commandManager.removeResourceCommand.execute(t)},e.prototype.assignResourceToTask=function(e,t){var n=this.viewModel.convertPublicToInternalKey("resource",e),i=this.viewModel.convertPublicToInternalKey("task",t);(0,g.isDefined)(n)&&(0,g.isDefined)(i)&&this.commandManager.assignResourceCommand.execute(n,i)},e.prototype.unassignResourceFromTask=function(e,t){var n=this.viewModel.findAssignment(e,t);n&&this.commandManager.deassignResourceCommand.execute(n.internalId)},e.prototype.unassignAllResourcesFromTask=function(e){var t=this,n=this.viewModel.convertPublicToInternalKey("task",e);this.viewModel.findAllTaskAssignments(n).forEach(function(e){return t.commandManager.deassignResourceCommand.execute(e.internalId)})},e.prototype.getResourceData=function(e){return this.viewModel.getResourceObjectForDataSource(e)},e.prototype.getResourceAssignmentData=function(e){return this.viewModel.getResourceAssignmentObjectForDataSource(e)},e.prototype.getTaskResources=function(e){var t=this.viewModel,n=t.getItemByPublicId("task",e);return n&&t.getAssignedResources(n).items||[]},e.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map(function(e){return e.id})},e.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map(function(e){return e.id})},e.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map(function(e){return e.id})},e.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map(function(e){return e.id})},e.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},e.prototype.applyTasksExpandedState=function(e){this.viewModel.applyTasksExpandedState(e)},e.prototype.updateWithDataReload=function(e){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:e};else{var t=e&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),e?this.applyTasksExpandedState(t):this.resetAndUpdate();var n=O.DialogBase.activeInstance;n&&n.canRefresh&&"TaskEdit"===n.getDialogName()&&n.refresh(),this.dispatcher.notifyGanttViewUpdated()}},e.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},e.prototype.getTaskTreeLine=function(e){return this.viewModel.getTaskTreeLine(e).reverse()},e.prototype.isInFullScreenMode=function(){var e;return!!(null===(e=this.fullScreenModeHelper)||void 0===e?void 0:e.isInFullScreenMode)},e.prototype.setFullScreenMode=function(){this.isInFullScreenMode()||this.fullScreenModeHelper.toggle()},e.prototype.setNormalScreenMode=function(){this.isInFullScreenMode()&&this.fullScreenModeHelper.toggle()},e.prototype.setTaskValue=function(e,t,n){var i=this.commandManager.updateTaskCommand,o=this.getTaskByPublicId(e),r={};return o&&("title"===t&&(r[t]=n||""),"progress"===t&&(r[t]=n),"start"===t&&(r[t]=l.DateTimeUtils.getMinDate(n,o.end)),"end"===t&&(r[t]=l.DateTimeUtils.getMaxDate(n,o.start))),Object.keys(r).length>0&&i.execute(o.internalId,r)},e.prototype.getLastInsertedTaskId=function(){var e=this.history.historyItems.filter(function(e){return e instanceof s.CreateTaskHistoryItem}),t=e[e.length-1];return t&&t.insertedKey},e.prototype.getTaskByPublicId=function(e){return this.viewModel.tasks.getItemByPublicId(e)},e.prototype.getPrevTask=function(e){var t=this.viewModel.findItem(e);if(!t)return null;var n=(t.parent||this.viewModel.root).children.indexOf(t)-1;return n>-1?t.parent.children[n].task:t.parent.task},e.prototype.getTaskIdByInternalId=function(e){var t=this.viewModel.findItem(e),n=t&&t.task;return n?n.id:null},e.prototype.isTaskHasChildren=function(e){var t=this.viewModel.findItem(e);return t&&t.children.length>0},e.prototype.requireFirstLoadParentAutoCalc=function(){var e=this.ganttOwner;return e.getRequireFirstLoadParentAutoCalc&&e.getRequireFirstLoadParentAutoCalc()},e.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},e.prototype.getOwnerControlMainElement=function(){var e=this.ganttOwner;return e.getMainElement&&e.getMainElement()},e.prototype.adjustOwnerControl=function(){var e=this.ganttOwner;e.adjustControl&&e.adjustControl()},e.prototype.applySettings=function(e,t){void 0===t&&(t=!1);var n=T.Settings.parse(e),i=t||this.settings.equal(n);this.settings=n,i||this.resetAndUpdate()},e.prototype.getDataUpdateErrorCallback=function(){var e=this,t=this.history,n=t.getCurrentProcessingItemInfo();return function(){e.dispatcher.lock(),t.rollBackAndRemove(n),e.dispatcher.unlock(),e.updateBarManager()}},e.prototype.setTaskTooltipContentTemplate=function(e){this.settings.taskTooltipContentTemplate=e},e.prototype.setTaskProgressTooltipContentTemplate=function(e){this.settings.taskProgressTooltipContentTemplate=e},e.prototype.setTaskTimeTooltipContentTemplate=function(e){this.settings.taskTimeTooltipContentTemplate=e},e.prototype.setTaskContentTemplate=function(e){this.settings.taskContentTemplate=e},e.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},e.prototype.onTaskAreaClick=function(e,t){var n,i=this.viewModel.items[e];return i&&this.onTaskClick(null===(n=i.task)||void 0===n?void 0:n.id,t)},e.prototype.onTaskAreaDblClick=function(e,t){var n=this.viewModel.items[e];n&&this.onTaskDblClick(n.task.id,t)&&this.commandManager.showTaskEditDialog.execute(n.task)},e.prototype.onTaskAreaContextMenu=function(e,t,n){var i,o,r="dependency"===n,s=t,a=this.viewModel,l=r?a.convertInternalToPublicKey("dependency",A.EvtUtils.getEventSource(t).getAttribute("dependency-id")):null===(o=null===(i=a.items[e])||void 0===i?void 0:i.task)||void 0===o?void 0:o.id;if(this.onGanttViewContextMenu(t,l,n)){var c={event:t,type:n,key:l,position:new P.Point(A.EvtUtils.getEventX(s),A.EvtUtils.getEventY(s))};this.showPopupMenu(c)}},e.prototype.onTaskSelectionChanged=function(e,t){var n=this,i=this.viewModel.items[e];this.isFocus=M.DomUtils.isItParent(this.renderHelper.taskArea,A.EvtUtils.getEventSource(t)),i&&this.isFocus&&this.settings.allowSelectTask&&setTimeout(function(){n.changeGanttTaskSelection(i.task.id,!0)},0)},e.prototype.onTaskClick=function(e,t){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(e,t)},e.prototype.onTaskDblClick=function(e,t){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(e,t)},e.prototype.getDateFormat=function(e){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(e):this.getDefaultDateFormat(e)},e.prototype.getDefaultDateFormat=function(e){return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},e.prototype.destroyTemplate=function(e){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(e):e.innerHTML=""},e.prototype.onTaskAreaSizeChanged=function(e){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(e)},e.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},e.prototype.showTaskDetailsDialog=function(e){var t=this.getTaskByPublicId(e);t&&this.commandManager.showTaskEditDialog.execute(t,!0)},e.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},e.prototype.getCommandByKey=function(e){return this.commandManager.getCommand(e)},e.prototype._getTaskDataForUpdate=function(e,t){var n={};return t&&e&&((0,g.isDefined)(e.title)&&e.title!==t.title&&(n.title=e.title),(0,g.isDefined)(e.progress)&&e.progress!==t.progress&&(n.progress=e.progress),(0,g.isDefined)(e.start)&&e.start!==t.start&&(n.start=e.start),(0,g.isDefined)(e.end)&&e.end!==t.end&&(n.end=e.end),(0,g.isDefined)(e.color)&&e.color!==t.color&&(n.color=e.color)),Object.keys(n).length>0?n:null},e.prototype.updateViewDataRange=function(){var e=this.viewModel,t=e.getTaskMinStart(),n=e.getTaskMaxEnd(),i=t.getTime()<this.dataRange.start.getTime(),o=n.getTime()>this.dataRange.end.getTime();i&&(this.dataRange.start=t),o&&(this.dataRange.end=n),(i||o)&&this.resetAndUpdate()},e.cachedPrefix="cached_",e.taskAreaScrollLeftKey=e.cachedPrefix+"taskAreaScrollLeft",e.taskAreaScrollTopKey=e.cachedPrefix+"taskAreaScrollTop",e.taskTextHeightKey=e.cachedPrefix+"taskTextHeight",e}();t.GanttView=L},4945:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainElementsRender=void 0;var n=function(){function e(){}return e.prototype.createMainElement=function(e){var t=document.createElement("DIV");return t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px",t},e.prototype.createHeader=function(){var e=document.createElement("DIV");return e.className="dx-gantt-header",e},e}();t.MainElementsRender=n},4977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaEventArgs=void 0;var i=n(961),o=function(e,t,n,o){this.rowIndex=-1,this.info={},this.eventName=e,this.triggerEvent=t,(0,i.isDefined)(n)&&(this.rowIndex=n),o&&(this.info=o)};t.TaskAreaEventArgs=o},4989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;var n=function(){function e(){}return e.isAlpha=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.isDigit=function(e){return e>="0"&&e<="9"},e.stringHashCode=function(e){var t=0;if(0===e.length)return t;for(var n=e.length,i=0;i<n;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t},e.endsAt=function(e,t){var n=e.length-1,i=t.length-1,o=n-i;if(o<0)return!1;for(;n>=o;n--,i--)if(e[n]!==t[i])return!1;return!0},e.startsAt=function(e,t){return e.substr(0,t.length)===t},e.stringInLowerCase=function(e){return e.toLowerCase()===e},e.stringInUpperCase=function(e){return e.toUpperCase()===e},e.atLeastOneSymbolInUpperCase=function(t){for(var n=0,i=void 0;i=t[n];n++)if(e.stringInUpperCase(i)&&!e.stringInLowerCase(i))return!0;return!1},e.getSymbolFromEnd=function(e,t){return e[e.length-t]},e.trim=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!0);var i=n.join("");return t.replace(new RegExp("(^["+i+"]*)|(["+i+"]*$)","g"),"")},e.trimStart=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!1);var i=n.join("");return t.replace(new RegExp("^["+i+"]*","g"),"")},e.trimEnd=function(t,n){if(void 0===n)return e.trimInternal(t,!1,!0);var i=n.join("");return t.replace(new RegExp("["+i+"]*$","g"),"")},e.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},e.repeat=function(e,t){return new Array(t<=0?0:t+1).join(e)},e.isNullOrEmpty=function(e){return!e||!e.length},e.padLeft=function(t,n,i){return e.repeat(i,Math.max(0,n-t.length))+t},e.trimInternal=function(e,t,n){var i=e.length;if(!i)return e;if(i<764833){var o=e;return t&&(o=o.replace(/^\s+/,"")),n&&(o=o.replace(/\s+$/,"")),o}var r=0;if(n)for(;i>0&&/\s/.test(e[i-1]);)i--;if(t&&i>0)for(;r<i&&/\s/.test(e[r]);)r++;return e.substring(r,i)},e}();t.StringUtils=n},5031:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;var i=n(7141),o=n(516),r=n(1323),s=n(1657),a=n(4187),l=n(7520),c=n(6735),d=n(3655),u=n(4707),p=n(1140),h=n(6931),g=n(7509),f=n(8179),m=n(938),y=n(1181),v=n(2615),T=n(7122),_=n(1833),k=n(122),b=n(8789),w=n(2307),S=n(7364),C=n(9119),D=n(8100),I=n(7646),E=n(1477),A=function(){function e(e){this.control=e,this.commands={},this.createCommand(a.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(a.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(a.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(a.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(a.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(a.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(a.GanttClientCommand.TaskAddContextItem,new D.TaskAddContextItemCommand(this.control)),this.createCommand(a.GanttClientCommand.Undo,new f.UndoCommand(this.control)),this.createCommand(a.GanttClientCommand.Redo,new g.RedoCommand(this.control)),this.createCommand(a.GanttClientCommand.ZoomIn,new I.ZoomInCommand(this.control)),this.createCommand(a.GanttClientCommand.ZoomOut,new E.ZoomOutCommand(this.control)),this.createCommand(a.GanttClientCommand.FullScreen,new h.ToggleFullScreenCommand(this.control)),this.createCommand(a.GanttClientCommand.CollapseAll,new l.CollapseAllCommand(this.control)),this.createCommand(a.GanttClientCommand.ExpandAll,new c.ExpandAllCommand(this.control)),this.createCommand(a.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(a.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(e.prototype,"createTaskCommand",{get:function(){return new w.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createSubTaskCommand",{get:function(){return new b.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeTaskCommand",{get:function(){return new C.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateTaskCommand",{get:function(){return new S.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createDependencyCommand",{get:function(){return new d.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeDependencyCommand",{get:function(){return new u.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createResourceCommand",{get:function(){return new y.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeResourceCommand",{get:function(){return new _.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignResourceCommand",{get:function(){return new m.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deassignResourceCommand",{get:function(){return new v.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeResourceColorCommand",{get:function(){return new T.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showTaskEditDialog",{get:function(){return new s.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConstraintViolationDialog",{get:function(){return new o.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConfirmationDialog",{get:function(){return new i.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showResourcesDialog",{get:function(){return new r.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toggleResources",{get:function(){return new k.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toggleDependencies",{get:function(){return new p.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),e.prototype.getCommand=function(e){return this.commands[e]},e.prototype.createCommand=function(e,t){this.commands[e]=t},e}();t.CommandManager=A},5107:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaEventsListener=void 0;var i=n(5327),o=n(961),r=n(750),s=n(8451),a=n(6537),l=n(7368),c=n(6118),d=function(){function e(e){this._owner=e}return Object.defineProperty(e.prototype,"taskEditController",{get:function(){var e;return null===(e=this._owner)||void 0===e?void 0:e.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderHelper",{get:function(){var e;return null===(e=this._owner)||void 0===e?void 0:e.renderHelper},enumerable:!1,configurable:!0}),e.prototype.getHandler=function(e){return this.handlers[e]},e.prototype.setHandler=function(e,t){this.handlers[e]=t},Object.defineProperty(e.prototype,"handlers",{get:function(){var e;return null!==(e=this._handlers)&&void 0!==e||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),e.prototype.createTaskAreaEventHandlers=function(){var e={};return e[c.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),e[c.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),e[c.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),e[c.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),e[c.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),e[c.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),e[c.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),e[c.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),e[c.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),e[c.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),e[c.TaskAreaStateEventNames.STATE_EXIT]=function(){},e},e.prototype.taskAreaClickHandler=function(e){return this._owner.onTaskAreaClick(e.rowIndex,e.triggerEvent)},e.prototype.taskAreaDblClickHandler=function(e){this._owner.onTaskAreaDblClick(e.rowIndex,e.triggerEvent)},e.prototype.taskSelectionHandler=function(e){this._owner.onTaskSelectionChanged(e.rowIndex,e.triggerEvent)},e.prototype.taskAreaContextMenuShowHandler=function(e){this._owner.onTaskAreaContextMenu(e.rowIndex,e.triggerEvent,e.info.type)},e.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},e.prototype.taskAreaScrollHandler=function(e){this._owner.updateView()},e.prototype.dependencySelectionHandler=function(e){var t=e.info.key,n=this.taskEditController.dependencyId;(t!==n||!t&&(0,o.isDefined)(n))&&this._owner.selectDependency(t)},Object.defineProperty(e.prototype,"ganttMovingHelper",{get:function(){var e;return null!==(e=this._ganttMovingHelper)&&void 0!==e||(this._ganttMovingHelper=new l.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),e.prototype.taskAreaStartMoveHandler=function(e){this.ganttMovingHelper.startMoving(e.triggerEvent)},e.prototype.taskAreaProcessMoveHandler=function(e){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(e.triggerEvent),e.triggerEvent.preventDefault())},e.prototype.taskAreaEndMoveHandler=function(e){this.ganttMovingHelper.onMouseUp(e.triggerEvent)},e.prototype.taskAreaZoomInHandler=function(e){this._owner.zoomIn(e.info.leftPos)},e.prototype.taskAreaZoomOutHandler=function(e){this._owner.zoomOut(e.info.leftPos)},e.prototype.getCoordinatesRefPoint=function(e){var t=r.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),n=r.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new i.Point(t,n)},e.prototype.taskEditStartHandler=function(e){this.taskEditController.show(e.rowIndex),this.taskEditController.showTaskInfo(s.EvtUtils.getEventX(e.triggerEvent))},e.prototype.taskLeaveHandler=function(e){this.taskEditController.cancel()},e.prototype.taskEditEndHandler=function(e){this.taskEditController.endEditing()},e.prototype.taskEndMoveHandler=function(e){this.taskEditController.confirmMove()},e.prototype.taskProcessMoveHandler=function(e){var t;return this.taskEditController.processMove(null!==(t=e.info.delta)&&void 0!==t?t:0)},e.prototype.taskEndProgressHandler=function(e){this.taskEditController.confirmProgress()},e.prototype.taskProcessProgressHandler=function(e){this.taskEditController.processProgress(e.info.position)},e.prototype.taskProcessStartHandler=function(e){this.taskEditController.processStart(e.info.position)},e.prototype.taskConfirmStartHandler=function(e){this.taskEditController.confirmStart()},e.prototype.taskProcessEndHandler=function(e){this.taskEditController.processEnd(e.info.position)},e.prototype.taskConfirmEndHandler=function(e){this.taskEditController.confirmEnd()},e.prototype.getDependencyPoints=function(e){var t={};return t.successorStart=new i.Point(r.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),t.successorFinish=new i.Point(r.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),t},e.prototype.dependencyStartHandler=function(e){this.taskEditController.startDependency(e.info.pos)},e.prototype.dependencyEndHandler=function(e){this.taskEditController.endDependency(e.info.type)},e.prototype.dependencyProcessHandler=function(e){this.taskEditController.processDependency(e.info.pos),this._owner.viewModel.tasks.items[e.rowIndex]&&this.taskEditController.showDependencySuccessor(e.rowIndex)},e.prototype.onTaskAreaKeyDown=function(e){var t=e.info.code;t==(a.ModifierKey.Ctrl|a.KeyCode.Key_z)&&this._owner.history.undo(),t==(a.ModifierKey.Ctrl|a.KeyCode.Key_y)&&this._owner.history.redo(),t==a.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},e}();t.TaskAreaEventsListener=d},5215:(e,t,n)=>{n.r(t),n.d(t,{__assign:()=>r,__asyncDelegator:()=>k,__asyncGenerator:()=>_,__asyncValues:()=>b,__await:()=>T,__awaiter:()=>d,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>E,__createBinding:()=>p,__decorate:()=>a,__exportStar:()=>h,__extends:()=>o,__generator:()=>u,__importDefault:()=>D,__importStar:()=>C,__makeTemplateObject:()=>w,__metadata:()=>c,__param:()=>l,__read:()=>f,__rest:()=>s,__spread:()=>m,__spreadArray:()=>v,__spreadArrays:()=>y,__values:()=>g});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function a(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})}function u(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}var p=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||p(t,e,n)}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function v(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){o[e]&&(i[e]=function(t){return new Promise(function(n,i){r.push([e,t,n,i])>1||a(e,t)})})}function a(e,t){try{(n=o[e](t)).value instanceof T?Promise.resolve(n.value.v).then(l,c):d(r[0][2],n)}catch(e){d(r[0][3],e)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function k(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:T(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,o){(function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)})(i,o,(t=e[n](t)).done,t.value)})}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&p(t,e,n);return S(t,e),t}function D(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function E(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n}},5226:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Margins=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.empty=function(){return new t(0,0,0,0)},t.prototype.clone=function(){return new t(this.left,this.right,this.top,this.bottom)},t}(n(8601).Offsets);t.Margins=o},5327:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var n=function(){function e(e,t){this.x=e,this.y=t}return e.zero=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.prototype.isZero=function(){return 0===this.x&&0===this.y},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.prototype.offset=function(e,t){return this.x+=e,this.y+=t,this},e.prototype.offsetByPoint=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.multiply=function(e,t){return this.x*=e,this.y*=t,this},e.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},e.prototype.applyConverter=function(e){return this.x=e(this.x),this.y=e(this.y),this},e.plus=function(t,n){return new e(t.x+n.x,t.y+n.y)},e.minus=function(t,n){return new e(t.x-n.x,t.y-n.y)},e.xComparer=function(e,t){return e.x-t.x},e.yComparer=function(e,t){return e.y-t.y},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e}();t.Point=n},5362:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationControllerSettings=void 0;var i=n(961),o=function(){function e(){}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.getViewModel)&&(n.getViewModel=t.getViewModel),(0,i.isDefined)(t.getHistory)&&(n.getHistory=t.getHistory),(0,i.isDefined)(t.getModelManipulator)&&(n.getModelManipulator=t.getModelManipulator),(0,i.isDefined)(t.getRange)&&(n.getRange=t.getRange),(0,i.isDefined)(t.getValidationSettings)&&(n.getValidationSettings=t.getValidationSettings),(0,i.isDefined)(t.updateOwnerInAutoParentMode)&&(n.updateOwnerInAutoParentMode=t.updateOwnerInAutoParentMode),(0,i.isDefined)(t.getIsValidateDependenciesRequired)&&(n.getIsValidateDependenciesRequired=t.getIsValidateDependenciesRequired)),n},e}();t.ValidationControllerSettings=o},5392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipSettings=void 0;var i=n(961),o=function(){function e(){}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.getHeaderHeight)&&(n.getHeaderHeight=t.getHeaderHeight),(0,i.isDefined)(t.getTaskTooltipContentTemplate)&&(n.getTaskTooltipContentTemplate=t.getTaskTooltipContentTemplate),(0,i.isDefined)(t.getTaskProgressTooltipContentTemplate)&&(n.getTaskProgressTooltipContentTemplate=t.getTaskProgressTooltipContentTemplate),(0,i.isDefined)(t.getTaskTimeTooltipContentTemplate)&&(n.getTaskTimeTooltipContentTemplate=t.getTaskTimeTooltipContentTemplate),(0,i.isDefined)(t.destroyTemplate)&&(n.destroyTemplate=t.destroyTemplate),(0,i.isDefined)(t.formatDate)&&(n.formatDate=t.formatDate),(0,i.isDefined)(t.getTaskAreaContainer)&&(n.getTaskAreaContainer=t.getTaskAreaContainer)),n},e}();t.TooltipSettings=o},5575:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfDataRange=void 0;var i=n(961),o=function(){function e(e,t,n,i){var o=!e||e instanceof Date?{startDate:e,endDate:t,startIndex:n,endIndex:i}:e;o&&this.assign(o)}return e.prototype.assign=function(e){(0,i.isDefined)(e.startDate)&&(this.startDate=e.startDate instanceof Date?e.startDate:new Date(e.startDate)),(0,i.isDefined)(e.endDate)&&(this.endDate=e.endDate instanceof Date?e.endDate:new Date(e.endDate)),(0,i.isDefined)(e.startIndex)&&(this.startIndex=parseInt(e.startIndex)),(0,i.isDefined)(e.endIndex)&&(this.endIndex=parseInt(e.endIndex))},e}();t.PdfDataRange=o},5593:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttDataObjectNames=t.DataObject=void 0;var i=n(961),o=n(594),r=function(){function e(){this.internalId=o.MathUtils.generateGuid()}return e.prototype.assignFromObject=function(e){(0,i.isDefined)(e)&&(0,i.isDefined)(e.id)&&this.updateId(e.id)},e.prototype.updateId=function(e){this.id=e,this.internalId=String(e)},e}();t.DataObject=r,t.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},5617:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaDefaultState=void 0;var i=n(5215),o=n(8451),r=n(9091),s=n(8211),a=n(6118),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.finish=function(){this.clearTimers(),this.raiseEvent(a.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},t.prototype.onMouseDownInternal=function(e){this.onPointerDownBase(e)},t.prototype.onDocumentPointerDownInternal=function(e){this.onPointerDownBase(e)},t.prototype.onDocumentPointerUpInternal=function(e){this.onPointerUpBase(e)},t.prototype.onDocumentPointerMoveInternal=function(e){this.clearTimers()},t.prototype.onTouchStartInternal=function(e){this.onPointerDownBase(e)},t.prototype.onTouchEndInternal=function(e){this.onPointerUpBase(e)},t.prototype.onTouchMoveInternal=function(e){this.clearTimers()},t.prototype.onPointerDownBase=function(e){var n=this;e.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(e),(this.isPointerEvent(e)?r.TaskAreaDomHelper.isMousePointer(e):this.isMouseEvent(e))?this.changeSelectionOnTouchDown(e):(setTimeout(function(){r.TaskAreaDomHelper.isMousePointer(e)||n.raiseEvent(a.TaskAreaStateEventNames.CONTEXTMENU_HIDE,e),n.changeSelectionOnTouchDown(e)},0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout(function(){return n.showContextMenuOnTouchDown(e)},t.defaultContextMenuTimeout))},t.prototype.onPointerUpBase=function(e){var n=this;if(clearTimeout(this._contextMenuTimer),e.preventDefault(),this.canToEmulateClick(e)){var i=this.getClickedRowIndex(e),o=new Date;if(this._lastEmulatedClickTime)o.getTime()-this._lastEmulatedClickTime.getTime()<t.defaultDblClickTimeout&&(this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,e,i),delete this._lastEmulatedClickTime);else{var s=!this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_CLICK,e,i);clearTimeout(this._dblClickClearTimer),r.TaskAreaDomHelper.isMousePointer(e)&&this.raiseEvent(a.TaskAreaStateEventNames.CONTEXTMENU_HIDE,e),s||(this._lastEmulatedClickTime=o,this._dblClickClearTimer=setTimeout(function(){delete n._lastEmulatedClickTime},t.defaultDblClickClearTimeout))}}},t.prototype.canToEmulateClick=function(e){var t=!r.TaskAreaDomHelper.isConnectorLine(e)&&this.getClickedRowIndex(e)===this._lastTouchRowIndex;return t&&r.TaskAreaDomHelper.isMousePointer(e)&&t&&(t=2!==e.button),t},t.prototype.changeSelectionOnTouchDown=function(e){var t=r.TaskAreaDomHelper.isConnectorLine(e);t||this.raiseTaskSelection(e,this.getClickedRowIndex(e)),this.raiseDependencySelection(e,t?o.EvtUtils.getEventSource(e).getAttribute("dependency-id"):null)},t.prototype.showContextMenuOnTouchDown=function(e){var t=r.TaskAreaDomHelper.isConnectorLine(e);this.raiseEvent(a.TaskAreaStateEventNames.CONTEXTMENU_SHOW,e,this.getClickedRowIndex(e),{type:t?"dependency":"task"})},t.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},t.defaultContextMenuTimeout=3e3,t.defaultDblClickTimeout=500,t.defaultDblClickClearTimeout=t.defaultDblClickTimeout+100,t}(s.TaskAreaStateBase);t.TaskAreaDefaultState=l},5675:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionBase=void 0;var i=n(961),o=n(9895),r=function(){function e(){this._items=new Array,this._isGanttCollection=!0}return e.prototype.add=function(e){if((0,i.isDefined)(e)){if(this.getItemById(e.internalId))throw"The collection item with id ='"+e.internalId+"' already exists.";this._addItem(e)}},e.prototype.addRange=function(e){for(var t=0;t<e.length;t++)this.add(e[t])},e.prototype.remove=function(e){var t=this._items.indexOf(e);t>-1&&t<this._items.length&&this._removeItems(t,1)},e.prototype.clear=function(){this._removeItems(0,this._items.length)},e.prototype.invalidate=function(){delete this._invertedItems},e.prototype._addItem=function(e){this._items.push(e),delete this._invertedItems},e.prototype._removeItems=function(e,t){this._items.splice(e,t),delete this._invertedItems},Object.defineProperty(e.prototype,"items",{get:function(){return this._items.slice()},set:function(e){e&&(this._items=e.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),e.prototype.getItem=function(e){return e>-1&&e<this._items.length?this._items[e]:null},Object.defineProperty(e.prototype,"invertedItems",{get:function(){var e;return null!==(e=this._invertedItems)&&void 0!==e||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),e.prototype._createInvertedItems=function(){for(var e={},t=0;t<this._items.length;t++){var n=this._items[t];e[n.internalId]=n}return e},e.prototype.getItemById=function(e){return this.invertedItems[e]},e.prototype.getItemByPublicId=function(e){return this._items.filter(function(t){return t.id===e||t.id.toString()===e})[0]},e.prototype.assign=function(e){(0,i.isDefined)(e)&&(this.items=e.items)},e.prototype.importFromObject=function(e){(0,i.isDefined)(e)&&(this.clear(),e._isGanttCollection?this.assign(e):e instanceof Array?this.importFromArray(e):this.createItemFromObjectAndAdd(e))},e.prototype.createItemFromObjectAndAdd=function(e){if((0,i.isDefined)(e)&&Object.keys(e).length>0){var t=this.createItem();t.assignFromObject(e),this.add(t)}},e.prototype.importFromArray=function(e){for(var t=0;t<e.length;t++)this.createItemFromObjectAndAdd(e[t])},e.prototype.importFromJSON=function(e){this.importFromObject(o.GanttJsonUtils.parseJson(e))},e}();t.CollectionBase=r},5698:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceInsertingArguments=void 0;var i=n(5215),o=function(e){function t(t,n){void 0===n&&(n="");var i=e.call(this,null)||this;return i.values={text:t,color:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),t}(n(1237).BaseArguments);t.ResourceInsertingArguments=o},5766:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellDef=void 0;var i=n(961),o=n(2945),r=function(){function e(e,t,n){this.content="","string"==typeof e?(this.content=e,this.colSpan=t,n&&this.appendStyles(n)):e&&this.assign(e)}return Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles||(this._styles=new o.StyleDef),this._styles},enumerable:!1,configurable:!0}),e.prototype.assign=function(e){(0,i.isDefined)(e.content)&&(this.content=e.content),(0,i.isDefined)(e.colSpan)&&(this.colSpan=e.colSpan),e.styles&&this.appendStyles(e.styles)},e.prototype.appendStyles=function(e){e&&this.styles.assign(e)},e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e={};return e.content=this.content,this.colSpan>1&&(e.colSpan=this.colSpan),this._styles&&(e.styles=this._styles.getValue()),e},e}();t.CellDef=r},5785:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaDependencyState=t.dependencyMap=void 0;var i=n(5215),o=n(5327),r=n(750),s=n(8451),a=n(8154),l=n(9312),c=n(9091),d=n(8211),u=n(6118);t.dependencyMap=[],t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart]=[],t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart][l.TaskAreaEventSource.Successor_DependencyStart]=a.DependencyType.SS,t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyStart][l.TaskAreaEventSource.Successor_DependencyFinish]=a.DependencyType.SF,t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish][l.TaskAreaEventSource.Successor_DependencyStart]=a.DependencyType.FS,t.dependencyMap[l.TaskAreaEventSource.TaskEdit_DependencyFinish][l.TaskAreaEventSource.Successor_DependencyFinish]=a.DependencyType.FF;var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(n,e),n.prototype.onMouseUp=function(e){this.onDependencyEndByMouse(e)},n.prototype.onMouseDownInternal=function(e){this.onDependencyStart(e)},n.prototype.onMouseMoveInternal=function(e){this.onDependencyMoveStep(e)},n.prototype.onTouchStartInternal=function(e){this.onDependencyStart(e)},n.prototype.onTouchEndInternal=function(e){this.onDependencyEndByTouch(e)},n.prototype.onTouchMoveInternal=function(e){this.onDependencyMoveStep(e)},n.prototype.onDocumentPointerDownInternal=function(e){this.onDependencyStart(e)},n.prototype.onDocumentPointerUpInternal=function(e){this.onDependencyEndByTouch(e)},n.prototype.onDocumentPointerMoveInternal=function(e){this.onDependencyMoveStep(e)},n.prototype.onDependencyStart=function(e){var t=s.EvtUtils.getEventSource(e);this.source=c.TaskAreaDomHelper.getEventSource(t);var n=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,r.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.raiseEvent(u.TaskAreaStateEventNames.DEPENDENCY_START,e,null,{pos:n})},n.prototype.onDependencyMoveStep=function(e){e.preventDefault();var t=this.getRelativePos(new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e)));this.raiseEvent(u.TaskAreaStateEventNames.DEPENDENCY_PROCESS,e,this.getClickedRowIndex(e),{pos:t})},n.prototype.onDependencyEndByMouse=function(e){var n=c.TaskAreaDomHelper.getEventSource(s.EvtUtils.getEventSource(e)),i=n===l.TaskAreaEventSource.Successor_DependencyStart||n===l.TaskAreaEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][n]:null;this.processEndDependency(e,i)},n.prototype.onDependencyEndByTouch=function(e){var n=this.raiseEvent(u.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,e),i=this.getRelativePos(n.successorStart),r=this.getRelativePos(n.successorFinish),a=this.getRelativePos(new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e))),c=this.isTouchNearby(a,i)?l.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(a,r)?l.TaskAreaEventSource.Successor_DependencyFinish:null,d=c===l.TaskAreaEventSource.Successor_DependencyStart||c===l.TaskAreaEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][c]:null;this.processEndDependency(e,d)},n.prototype.onTaskAreaLeaveInternal=function(e){this.processEndDependency(e,null)},n.prototype.processEndDependency=function(e,t){this.raiseEvent(u.TaskAreaStateEventNames.DEPENDENCY_END,e,null,{type:t}),this.raiseEvent(u.TaskAreaStateEventNames.STATE_EXIT,e)},n.prototype.isTouchNearby=function(e,t){return Math.abs(t.x-e.x)<=20&&Math.abs(t.y-e.y)<=20},n}(d.TaskAreaStateBase);t.TaskAreaDependencyState=p},5891:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfTaskResourcesInfo=void 0;var i=n(961),o=n(2945),r=function(){function e(e,t,n,r){e&&(this.text=e),t&&(this.style=new o.StyleDef(t)),(0,i.isDefined)(n)&&(this.x=n),(0,i.isDefined)(r)&&(this.y=r)}return e.prototype.assign=function(e){this.text=e.text,this.style=new o.StyleDef(e.style),this.x=e.x,this.y=e.y},e}();t.PdfTaskResourcesInfo=r},5929:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskManipulator=void 0;var i=n(5215),o=n(961),r=n(5593),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.create=function(e,t,n){var i=this,o=this.viewModel;o.onBeginDataObjectCreate();var s=o.tasks.createItem();s.start=e.start,s.end=e.end,s.title=e.title,s.progress=e.progress,e.color&&(s.color=e.color);var a=o.tasks.getItemById(e.parentId);return a&&(a.expanded=!0),s.parentId=e.parentId,t&&(s.internalId=t),s.id=s.internalId,o.tasks.add(s),o.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(s),function(e){var t=s.internalId;if(s.updateId(e),o.processServerInsertedKey(t,s.internalId,r.GanttDataObjectNames.task),n&&n(),i.viewModel.requireFirstLoadParentAutoCalc){var a=o.getCurrentTaskData().map(function(e){return""===e.parentId&&(e.parentId=null),e});i.dispatcher.notifyParentDataRecalculated(a)}},this.getErrorCallback()),o.onEndDataObjectCreate(),o.owner.resetAndUpdate(),s},t.prototype.remove=function(e){var t=this.viewModel.tasks.getItemById(e);if(!t)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter(function(t){return t.predecessorId==e||t.successorId==e}).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter(function(t){return t.taskId==e}).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(t),this.dispatcher.notifyTaskRemoved(t.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(t)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.update=function(e,t){var n=this.viewModel.tasks.getItemById(e),i={};Object.keys(t).forEach(function(e){(0,o.isDefined)(n[e])&&(i[e]=n[e],n[e]=t[e])});var r=this.viewModel.findItem(e);return r&&this.renderHelper.recreateTaskElement(r.visibleIndex),this.dispatcher.notifyTaskUpdated(n.id,t,this.getErrorCallback()),i},t.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},t}(n(3161).BaseManipulator);t.TaskManipulator=s},6100:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataExportMode=t.ExportMode=void 0,function(e){e[e.all=0]="all",e[e.treeList=1]="treeList",e[e.chart=2]="chart"}(t.ExportMode||(t.ExportMode={})),function(e){e[e.all=0]="all",e[e.visible=1]="visible"}(t.DataExportMode||(t.DataExportMode={}))},6118:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaStateEventNames=void 0;var n=function(){function e(){}return e.TASK_AREA_CLICK="taskAreaClick",e.TASK_AREA_DBLCLICK="taskAreaDblClick",e.TASK_AREA_SCROLL="taskAreaScroll",e.TASK_AREA_START_MOVE="taskAreaStartMove",e.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",e.TASK_AREA_END_MOVE="taskAreaEndMove",e.TASK_AREA_ZOOM_IN="taskAreaZoomIn",e.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",e.CONTEXTMENU_SHOW="contextMenuShow",e.CONTEXTMENU_HIDE="contextMenuHide",e.DEPENDENCY_SELECTION="dependencySelection",e.STATE_EXIT="stateExit",e.TASK_SELECTION="taskSelection",e.TASK_EDIT_START="taskEditStart",e.TASK_EDIT_END="taskEditEnd",e.TASK_LEAVE="taskLeave",e.TASK_PROCESS_MOVE="taskProcessMove",e.TASK_END_MOVE="taskEndMove",e.TASK_PROCESS_PROGRESS="taskProcessProgress",e.TASK_END_PROGRESS="taskEndProgress",e.TASK_PROCESS_START="taskProcessStart",e.TASK_CONFIRM_START="taskConfirmStart",e.TASK_PROCESS_END="taskProcessEnd",e.TASK_CONFIRM_END="taskConfirmEnd",e.GET_DEPENDENCY_POINTS="getDependencyPoints",e.DEPENDENCY_START="dependencyStart",e.DEPENDENCY_PROCESS="dependencyProcess",e.DEPENDENCY_END="dependencyEnd",e.TASK_AREA_KEY_DOWN="taskAreaKeyDown",e.GET_POINTERS_INFO="getPointersInfo",e.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",e}();t.TaskAreaStateEventNames=n},6131:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var i=n(961),o=n(3509),r=n(9312),s=n(3857),a=n(7086),l=n(4076),c=n(1478),d=function(){function e(){this.viewType=void 0,this.taskTitlePosition=r.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new s.EditingSettings,this.validation=new l.ValidationSettings,this.stripLines=new a.StripLineSettings,this.viewTypeRange=new c.ViewTypeRangeSettings}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.viewType)&&(n.viewType=t.viewType),(0,i.isDefined)(t.taskTitlePosition)&&(n.taskTitlePosition=t.taskTitlePosition),(0,i.isDefined)(t.showResources)&&(n.showResources=t.showResources),(0,i.isDefined)(t.showDependencies)&&(n.showDependencies=t.showDependencies),(0,i.isDefined)(t.areHorizontalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),(0,i.isDefined)(t.areVerticalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),(0,i.isDefined)(t.areAlternateRowsEnabled)&&(n.areAlternateRowsEnabled=t.areAlternateRowsEnabled),(0,i.isDefined)(t.allowSelectTask)&&(n.allowSelectTask=t.allowSelectTask),(0,i.isDefined)(t.firstDayOfWeek)&&(n.firstDayOfWeek=t.firstDayOfWeek),(0,i.isDefined)(t.startDateRange)&&(n.startDateRange=new Date(t.startDateRange)),(0,i.isDefined)(t.endDateRange)&&(n.endDateRange=new Date(t.endDateRange)),(0,i.isDefined)(t.editing)&&(n.editing=s.EditingSettings.parse(t.editing)),(0,i.isDefined)(t.validation)&&(n.validation=l.ValidationSettings.parse(t.validation)),(0,i.isDefined)(t.stripLines)&&(n.stripLines=a.StripLineSettings.parse(t.stripLines)),(0,i.isDefined)(t.viewTypeRange)&&(n.viewTypeRange=c.ViewTypeRangeSettings.parse(t.viewTypeRange)),(0,i.isDefined)(t.taskTooltipContentTemplate)&&(n.taskTooltipContentTemplate=t.taskTooltipContentTemplate),(0,i.isDefined)(t.taskProgressTooltipContentTemplate)&&(n.taskProgressTooltipContentTemplate=t.taskProgressTooltipContentTemplate),(0,i.isDefined)(t.taskTimeTooltipContentTemplate)&&(n.taskTimeTooltipContentTemplate=t.taskTimeTooltipContentTemplate),(0,i.isDefined)(t.taskContentTemplate)&&(n.taskContentTemplate=t.taskContentTemplate),(0,i.isDefined)(t.cultureInfo)&&(n.cultureInfo=t.cultureInfo)),n},e.prototype.equal=function(e){var t=!0;return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t&&this.viewType===e.viewType)&&this.taskTitlePosition===e.taskTitlePosition)&&this.showResources===e.showResources)&&this.showDependencies===e.showDependencies)&&this.areHorizontalBordersEnabled===e.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===e.areAlternateRowsEnabled)&&this.allowSelectTask===e.allowSelectTask)&&this.editing.equal(e.editing))&&this.validation.equal(e.validation))&&this.stripLines.equal(e.stripLines))&&o.DateTimeUtils.areDatesEqual(this.startDateRange,e.startDateRange))&&o.DateTimeUtils.areDatesEqual(this.endDateRange,e.endDateRange)},e}();t.Settings=d},6172:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintViolationOption=t.ConfirmationType=void 0,function(e){e[e.TaskDelete=0]="TaskDelete",e[e.DependencyDelete=1]="DependencyDelete",e[e.ResourcesDelete=2]="ResourcesDelete"}(t.ConfirmationType||(t.ConfirmationType={})),function(e){e[e.DoNothing=0]="DoNothing",e[e.RemoveDependency=1]="RemoveDependency",e[e.KeepDependency=2]="KeepDependency"}(t.ConstraintViolationOption||(t.ConstraintViolationOption={}))},6187:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignmentCollection=void 0;var i=n(5215),o=n(5675),r=n(2631),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.ResourceAssignment},t}(o.CollectionBase);t.ResourceAssignmentCollection=s},6204:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeek=void 0,function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(t.DayOfWeek||(t.DayOfWeek={}))},6211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaZoomState=void 0;var i=n(5215),o=n(5327),r=n(8451),s=n(4496),a=n(8211),l=n(6118),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isInZooming=!1,t}return i.__extends(t,e),t.prototype.onMouseWheel=function(e){e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),this._isInZooming||this.processZoom(e,r.EvtUtils.getWheelDelta(e)>0,50))},t.prototype.onDocumentPointerUpInternal=function(e){this.onEndZoom(e)},t.prototype.onDocumentPointerMoveInternal=function(e){this.onTouchZoom(e)},t.prototype.onTouchEndInternal=function(e){this.onEndZoom(e)},t.prototype.onTouchMoveInternal=function(e){this.onTouchZoom(e)},t.prototype.onTouchZoom=function(e){var t;if(e.stopPropagation(),e.preventDefault(),!this._isInZooming){var n=this.getTouchDistance(e);null!==(t=this.prevDistance)&&void 0!==t||(this.prevDistance=n);var i=this.prevDistance-n;Math.abs(i)>3&&(this.processZoom(e,i>0,1e3),this.prevDistance=n)}},t.prototype.processZoom=function(e,t,n){var i=this;this._isInZooming=!0,setTimeout(function(){i._isInZooming=!1},n);var o=t?l.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:l.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(o,e,null,{leftPos:this.getLeftPosition(e)})},t.prototype.onEndZoom=function(e){this.prevDistance=null,this.raiseEvent(l.TaskAreaStateEventNames.STATE_EXIT,e)},t.prototype.getTouchDistance=function(e){var t=this.GetTouchPoints(e);return this.getDistance(t[0],t[1])},t.prototype.GetTouchPoints=function(e){var t,n,i,r;if(this.isTouchEvent(e)){var s=e.touches;return[new o.Point(s[0].pageX,s[0].pageY),new o.Point(s[1].pageX,s[1].pageY)]}var a=this.raiseEvent(l.TaskAreaStateEventNames.GET_POINTERS_INFO,e);return[new o.Point(null===(t=a[0])||void 0===t?void 0:t.pageX,null===(n=a[0])||void 0===n?void 0:n.pageY),new o.Point(null===(i=a[1])||void 0===i?void 0:i.pageX,null===(r=a[1])||void 0===r?void 0:r.pageY)]},t.prototype.getDistance=function(e,t){return s.Metrics.euclideanDistance(e,t)},t.prototype.getLeftPosition=function(e){var t=0;return this.isTouchEvent(e)||this.isPointerEvent(e)?t=this.getZoomMiddlePoint(e).x:this.isMouseEvent(e)&&(t=this.getMouseZoomLeftPos(e)),t},t.prototype.getMouseZoomLeftPos=function(e){var t=this.raiseEvent(l.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return r.EvtUtils.getEventX(e)-t.x},t.prototype.getZoomMiddlePoint=function(e){var t=this.raiseEvent(l.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),n=this.GetTouchPoints(e),i=this.convertScreenToChartCoordinates(n[0],t),r=this.convertScreenToChartCoordinates(n[1],t);return new o.Point((i.x+r.x)/2,(i.y+r.y)/2)},t.prototype.convertScreenToChartCoordinates=function(e,t){return new o.Point(e.x-t.x,e.y-t.y)},t}(a.TaskAreaStateBase);t.TaskAreaZoomState=c},6272:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskRemovingArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.TaskRemovingArguments=o},6347:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModelManipulator=void 0;var i=n(8185),o=n(9392),r=n(5929),s=function(e,t){this.task=new r.TaskManipulator(e,t),this.dependency=new i.TaskDependencyManipulator(e,t),this.resource=new o.ResourcesManipulator(e,t),this.dispatcher=t};t.ModelManipulator=s},6483:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorHistoryItem=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},t}(n(7612).ResourcePropertiesHistoryItemBase);t.ResourceColorHistoryItem=o},6533:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DialogBase=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isApiCall=!1,t._canRefresh=!0,t}return i.__extends(t,e),t.prototype.execute=function(t,n){return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.isApiCall=n,e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){return this.options=e,this.showDialog(e)},Object.defineProperty(t.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){this.showDialog(this.options)},t.prototype.showDialog=function(e){var n=this,i=this.createParameters(e),o=i.clone();return!!this.onBeforeDialogShow(i)&&(t.activeInstance=this,this.control.showDialog(this.getDialogName(),i,function(e){e&&(n._canRefresh=!1,n.applyParameters(e,o),n._canRefresh=!0)},function(){delete t.activeInstance,n.afterClosing()}),!0)},t.prototype.onBeforeDialogShow=function(e){return!0},t.prototype.applyParameters=function(e,t){return!1},t.prototype.afterClosing=function(){},t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t.activeInstance=null,t}(o.CommandBase);t.DialogBase=s},6537:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCode=t.ModifierKey=t.KeyUtils=void 0;var i,o,r=n(8424),s=n(9030),a=n(4989),l=function(){function e(){}return e.getKeyModifiers=function(e){var t=0;return e.altKey&&(t|=i.Alt),e.ctrlKey&&(t|=i.Ctrl),e.shiftKey&&(t|=i.Shift),e.metaKey&&(t|=i.Meta),t},e.getShortcutCode=function(e,t,n,o,r){var s=e;return s|=t?i.Ctrl:0,s|=n?i.Shift:0,s|=o?i.Alt:0,s|(r?i.Meta:0)},e.getShortcutCodeByEvent=function(t){return e.getShortcutCode(e.getEventKeyCode(t),t.ctrlKey,t.shiftKey,t.altKey,!!r.Browser.MacOSPlatform&&t.metaKey)},e.getEventKeyCode=function(e){return r.Browser.NetscapeFamily||r.Browser.Opera?e.which:e.keyCode},e.parseShortcutString=function(t){if(!t)return 0;var n=!1,i=!1,r=!1,l=!1,c=null,d=t.toString().split("+");if(d.length>0)for(var u=0;u<d.length;u++){var p=a.StringUtils.trim(d[u].toUpperCase());switch(p){case"CONTROL":case"CONTROLKEY":case"CTRL":n=!0;break;case"SHIFT":case"SHIFTKEY":i=!0;break;case"ALT":r=!0;break;case"CMD":l=!0;break;case"F1":c=o.F1;break;case"F2":c=o.F2;break;case"F3":c=o.F3;break;case"F4":c=o.F4;break;case"F5":c=o.F5;break;case"F6":c=o.F6;break;case"F7":c=o.F7;break;case"F8":c=o.F8;break;case"F9":c=o.F9;break;case"F10":c=o.F10;break;case"F11":c=o.F11;break;case"F12":c=o.F12;break;case"RETURN":case"ENTER":c=o.Enter;break;case"HOME":c=o.Home;break;case"END":c=o.End;break;case"LEFT":c=o.Left;break;case"RIGHT":c=o.Right;break;case"UP":c=o.Up;break;case"DOWN":c=o.Down;break;case"PAGEUP":c=o.PageUp;break;case"PAGEDOWN":c=o.PageDown;break;case"SPACE":c=o.Space;break;case"TAB":c=o.Tab;break;case"BACKSPACE":case"BACK":c=o.Backspace;break;case"CONTEXT":c=o.ContextMenu;break;case"ESCAPE":case"ESC":c=o.Esc;break;case"DELETE":case"DEL":c=o.Delete;break;case"INSERT":case"INS":c=o.Insert;break;case"PLUS":c="+".charCodeAt(0);break;default:c=p.charCodeAt(0)}}else alert(s.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(c,n,i,r,l)},e}();t.KeyUtils=l,function(e){e[e.None=0]="None",e[e.Ctrl=65536]="Ctrl",e[e.Shift=262144]="Shift",e[e.Alt=1048576]="Alt",e[e.Meta=16777216]="Meta"}(i=t.ModifierKey||(t.ModifierKey={})),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key_0=48]="Key_0",e[e.Key_1=49]="Key_1",e[e.Key_2=50]="Key_2",e[e.Key_3=51]="Key_3",e[e.Key_4=52]="Key_4",e[e.Key_5=53]="Key_5",e[e.Key_6=54]="Key_6",e[e.Key_7=55]="Key_7",e[e.Key_8=56]="Key_8",e[e.Key_9=57]="Key_9",e[e.Key_a=65]="Key_a",e[e.Key_b=66]="Key_b",e[e.Key_c=67]="Key_c",e[e.Key_d=68]="Key_d",e[e.Key_e=69]="Key_e",e[e.Key_f=70]="Key_f",e[e.Key_g=71]="Key_g",e[e.Key_h=72]="Key_h",e[e.Key_i=73]="Key_i",e[e.Key_j=74]="Key_j",e[e.Key_k=75]="Key_k",e[e.Key_l=76]="Key_l",e[e.Key_m=77]="Key_m",e[e.Key_n=78]="Key_n",e[e.Key_o=79]="Key_o",e[e.Key_p=80]="Key_p",e[e.Key_q=81]="Key_q",e[e.Key_r=82]="Key_r",e[e.Key_s=83]="Key_s",e[e.Key_t=84]="Key_t",e[e.Key_u=85]="Key_u",e[e.Key_v=86]="Key_v",e[e.Key_w=87]="Key_w",e[e.Key_x=88]="Key_x",e[e.Key_y=89]="Key_y",e[e.Key_z=90]="Key_z",e[e.Windows=91]="Windows",e[e.ContextMenu=93]="ContextMenu",e[e.Numpad_0=96]="Numpad_0",e[e.Numpad_1=97]="Numpad_1",e[e.Numpad_2=98]="Numpad_2",e[e.Numpad_3=99]="Numpad_3",e[e.Numpad_4=100]="Numpad_4",e[e.Numpad_5=101]="Numpad_5",e[e.Numpad_6=102]="Numpad_6",e[e.Numpad_7=103]="Numpad_7",e[e.Numpad_8=104]="Numpad_8",e[e.Numpad_9=105]="Numpad_9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"}(o=t.KeyCode||(t.KeyCode={}))},6623:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleCommandState=void 0;var n=function(e,t){this.visible=!0,this.enabled=e,this.value=t};t.SimpleCommandState=n},6626:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EtalonSizeValues=void 0;var n=function(){this.scaleItemWidths={}};t.EtalonSizeValues=n},6662:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManagerDialogShowingArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,void 0)||this;return n.values.resources=t.resources,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.ResourceManagerDialogShowingArguments=o},6711:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceBase=void 0;var i=n(5215),o=n(6204),r=n(9873),s=n(9129),a=n(961),l=n(3509),c=n(86),d=function(e){function t(t,n,i,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=1),void 0===o&&(o=0);var r=e.call(this)||this;return r._start=null,r._end=null,r._interval=1,r._occurrenceCount=0,r._dayOfWeek=0,r._day=1,r._dayOfWeekOccurrence=0,r._month=0,r._calculateByDayOfWeek=!1,r.start=t,r.end=n,r.interval=i,r.occurrenceCount=o,r}return i.__extends(t,e),t.prototype.assignFromObject=function(t){(0,a.isDefined)(t)&&(e.prototype.assignFromObject.call(this,t),this.start=l.DateTimeUtils.convertToDate(t.start),this.end=l.DateTimeUtils.convertToDate(t.end),(0,a.isDefined)(t.interval)&&(this.interval=t.interval),(0,a.isDefined)(t.occurrenceCount)&&(this.occurrenceCount=t.occurrenceCount),(0,a.isDefined)(t.dayOfWeek)&&(this.dayOfWeekInternal=c.RecurrenceFactory.getEnumValue(o.DayOfWeek,t.dayOfWeek)),(0,a.isDefined)(t.day)&&(this.dayInternal=t.day),(0,a.isDefined)(t.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=c.RecurrenceFactory.getEnumValue(r.DayOfWeekMonthlyOccurrence,t.dayOfWeekOccurrence)),(0,a.isDefined)(t.month)&&(this.monthInternal=c.RecurrenceFactory.getEnumValue(s.Month,t.month)),(0,a.isDefined)(t.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!t.calculateByDayOfWeek))},t.prototype.calculatePoints=function(e,t){if(!e||!t)return new Array;var n=l.DateTimeUtils.getMaxDate(e,this._start),i=l.DateTimeUtils.getMinDate(t,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(n,i):this.calculatePointsByDateRange(n,i)},t.prototype.calculatePointsByOccurrenceCount=function(e,t){for(var n=new Array,i=this.getFirstPoint(e);i&&n.length<this._occurrenceCount&&l.DateTimeUtils.compareDates(i,t)>=0;)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.calculatePointsByDateRange=function(e,t){for(var n=new Array,i=this.getFirstPoint(e);i&&l.DateTimeUtils.compareDates(i,t)>=0;)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.getFirstPoint=function(e){return this.isRecurrencePoint(e)?e:this.getNextPoint(e)},t.prototype.isRecurrencePoint=function(e){return this.isDateInRange(e)&&this.checkDate(e)&&(!this.useIntervalInCalc()||this.checkInterval(e))},t.prototype.isDateInRange=function(e){return!!e&&!(this._start&&l.DateTimeUtils.compareDates(this.start,e)<0)&&!(0==this._occurrenceCount&&this.end&&l.DateTimeUtils.compareDates(e,this.end)<0)},t.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},t.prototype.getNextPoint=function(e){return this.isDateInRange(e)?this.useIntervalInCalc()?this.calculatePointByInterval(e):this.calculateNearestPoint(e):null},t.prototype.getSpecDayInMonth=function(e,t){return this._calculateByDayOfWeek?l.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,e,t,this.dayOfWeekOccurrenceInternal):new Date(e,t,this.dayInternal)},Object.defineProperty(t.prototype,"dayInternal",{get:function(){return this._day},set:function(e){e>0&&e<=31&&(this._day=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(e){e>=o.DayOfWeek.Sunday&&e<=o.DayOfWeek.Saturday&&(this._dayOfWeek=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(e){e>=r.DayOfWeekMonthlyOccurrence.First&&e<=r.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monthInternal",{get:function(){return this._month},set:function(e){e>=s.Month.January&&e<=s.Month.December&&(this._month=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){e&&(this._start=e,this._end&&e>this._end&&(this._end=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(e){e&&(this._end=e,this._start&&e<this._start&&(this._start=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(e){e<0&&(e=0),this._occurrenceCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(e){e>0&&(this._interval=e)},enumerable:!1,configurable:!0}),t}(n(5593).DataObject);t.RecurrenceBase=d},6735:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandAllCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.expandAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.ExpandAllCommand=s},6837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PredefinedStyles=void 0;var n=function(){function e(){}return e.getPredefinedStringOrUndefined=function(e,t){var n=e&&t&&e.toLowerCase()||void 0;return n&&(t.filter(function(e){return e.toLowerCase()===n})[0]||t.filter(function(e){return n.indexOf(e.toLowerCase())>-1})[0])},e.fontFamilies=["helvetica","times","courier"],e.fontStyles=["normal","bold","italic","bolditalic"],e.headerFooterVisibility=["everyPage","firstPage","never"],e.horizontalAlign=["left","center","right"],e.overflow=["linebreak","ellipsize","visible","hidden"],e.pageBreak=["auto","avoid","always"],e.rowPageBreak=["auto","avoid"],e.verticalAlign=["top","middle","bottom"],e.width=["auto","wrap"],e}();t.PredefinedStyles=n},6875:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaManager=t.TOUCH_ACTION_NONE=void 0;var i=n(8424),o=n(750),r=n(8451),s=n(2578);t.TOUCH_ACTION_NONE="dx-gantt-touch-action";var a=function(){function e(e,t,n){this._eventListener=e,this._taskArea=t,this._cellSize=n,this.attachEvents()}return e.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():i.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},e.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():i.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},e.prototype.attachEventsOnTask=function(e){window.PointerEvent?null==e||e.addEventListener("pointerenter",this.onTaskPointerEnterHandler):i.Browser.TouchUI?null==e||e.addEventListener("touchstart",this.onTaskTouchStartHandler):(null==e||e.addEventListener("mouseenter",this.onTaskMouseEnterHandler),null==e||e.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},e.prototype.detachEventsOnTask=function(e){window.PointerEvent?null==e||e.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):i.Browser.TouchUI?null==e||e.removeEventListener("touchstart",this.onTaskTouchStartHandler):(null==e||e.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),null==e||e.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},e.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(r.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},e.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(r.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},e.prototype.attachPointerEvents=function(){o.DomUtils.addClassName(this.taskArea,t.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},e.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),o.DomUtils.removeClassName(this.taskArea,t.TOUCH_ACTION_NONE)},e.prototype.attachTouchEvents=function(){o.DomUtils.addClassName(this.taskArea,t.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},e.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),o.DomUtils.removeClassName(this.taskArea,t.TOUCH_ACTION_NONE)},e.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},e.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(e.prototype,"stateController",{get:function(){var e;return null!==(e=this._stateController)&&void 0!==e||(this._stateController=new s.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),e.prototype.taskAreaAddEventListener=function(e,t){this.taskArea.addEventListener(e,t)},e.prototype.taskAreaRemoveEventListener=function(e,t){this.taskArea.removeEventListener(e,t)},Object.defineProperty(e.prototype,"onContextMenuHandler",{get:function(){var e,t=this;return null!==(e=this._onContextMenuHandler)&&void 0!==e||(this._onContextMenuHandler=function(e){t.stateController.onContextMenu(e)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseWheelHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseWheelHandler)&&void 0!==e||(this._onMouseWheelHandler=function(e){t.stateController.onMouseWheel(e)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScrollHandler",{get:function(){var e,t=this;return null!==(e=this._onScrollHandler)&&void 0!==e||(this._onScrollHandler=function(e){t.stateController.onScroll(e)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onKeyDownHandler",{get:function(){var e,t=this;return null!==(e=this._onKeyDownHandler)&&void 0!==e||(this._onKeyDownHandler=function(e){t.stateController.onKeyDown(e)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskPointerEnterHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskPointerEnterHandler)&&void 0!==e||(this._onTaskPointerEnterHandler=function(e){t.stateController.onTaskPointerEnter(e)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskAreaPointerLeaveHandler)&&void 0!==e||(this._onTaskAreaPointerLeaveHandler=function(e){t.stateController.onTaskAreaPointerLeave(e)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDocumentPointerDownHandler",{get:function(){var e,t=this;return null!==(e=this._onDocumentPointerDownHandler)&&void 0!==e||(this._onDocumentPointerDownHandler=function(e){t.stateController.onDocumentPointerDown(e)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDocumentPointerUpHandler",{get:function(){var e,t=this;return null!==(e=this._onDocumentPointerUpHandler)&&void 0!==e||(this._onDocumentPointerUpHandler=function(e){t.stateController.onDocumentPointerUp(e)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var e,t=this;return null!==(e=this._onDocumentPointerCancelHandler)&&void 0!==e||(this._onDocumentPointerCancelHandler=function(e){t.stateController.onDocumentPointerCancel(e)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDocumentPointerMoveHandler",{get:function(){var e,t=this;return null!==(e=this._onDocumentPointerMoveHandler)&&void 0!==e||(this._onDocumentPointerMoveHandler=function(e){t.stateController.onDocumentPointerMove(e)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTouchStartHandler",{get:function(){var e,t=this;return null!==(e=this._onTouchStartHandler)&&void 0!==e||(this._onTouchStartHandler=function(e){t.stateController.onTouchStart(e)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTouchEndHandler",{get:function(){var e,t=this;return null!==(e=this._onTouchEndHandler)&&void 0!==e||(this._onTouchEndHandler=function(e){t.stateController.onTouchEnd(e)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTouchMoveHandler",{get:function(){var e,t=this;return null!==(e=this._onTouchMoveHandler)&&void 0!==e||(this._onTouchMoveHandler=function(e){t.stateController.onTouchMove(e)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskTouchStartHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskTouchStartHandler)&&void 0!==e||(this._onTaskTouchStartHandler=function(e){t.stateController.onTaskTouchStart(e)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseClickHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseClickHandler)&&void 0!==e||(this._onMouseClickHandler=function(e){t.stateController.onClick(e)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClickHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseDblClickHandler)&&void 0!==e||(this._onMouseDblClickHandler=function(e){t.stateController.onDblClick(e)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDownHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseDownHandler)&&void 0!==e||(this._onMouseDownHandler=function(e){t.stateController.onMouseDown(e)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskAreaMouseLeaveHandler)&&void 0!==e||(this._onTaskAreaMouseLeaveHandler=function(e){t.stateController.onTaskAreaMouseLeave(e)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseMoveHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseMoveHandler)&&void 0!==e||(this._onMouseMoveHandler=function(e){t.stateController.onMouseMove(e)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMouseUpHandler",{get:function(){var e,t=this;return null!==(e=this._onMouseUpHandler)&&void 0!==e||(this._onMouseUpHandler=function(e){t.stateController.onMouseUp(e)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskMouseEnterHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskMouseEnterHandler)&&void 0!==e||(this._onTaskMouseEnterHandler=function(e){t.stateController.onTaskElementHover(e)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTaskMouseLeaveHandler",{get:function(){var e,t=this;return null!==(e=this._onTaskMouseLeaveHandler)&&void 0!==e||(this._onTaskMouseLeaveHandler=function(e){t.stateController.onTaskElementLeave(e)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),e.DBLCLICK_INTERVAL=300,e.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",e}();t.TaskAreaManager=a},6931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleFullScreenCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInFullScreenMode=!1,t.fullScreenTempVars={},t}return i.__extends(t,e),t.prototype.getState=function(){var e=new r.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},t}(o.CommandBase);t.ToggleFullScreenCommand=s},7053:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemInfo=void 0;var n=function(e,t){void 0===t&&(t=!1),this.item=e,this.isUndo=t};t.HistoryItemInfo=n},7086:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StripLineSettings=void 0;var i=n(961),o=n(7140),r=function(){function e(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return e.parse=function(t){var n=new e;if(t&&((0,i.isDefined)(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),(0,i.isDefined)(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),(0,i.isDefined)(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),(0,i.isDefined)(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),(0,i.isDefined)(t.stripLines)))for(var r=0;r<t.stripLines.length;r++)n.stripLines.push(o.StripLine.parse(t.stripLines[r]));return n},e.prototype.equal=function(e){var t=!0;if(t=(t=(t=(t=(t=t&&this.showCurrentTime==e.showCurrentTime)&&this.currentTimeUpdateInterval==e.currentTimeUpdateInterval)&&this.currentTimeTitle==e.currentTimeTitle)&&this.currentTimeCssClass==e.currentTimeCssClass)&&this.stripLines.length===e.stripLines.length)for(var n=0;n<e.stripLines.length;n++)t=t&&this.stripLines[n].equal(e.stripLines[n]);return t},e}();t.StripLineSettings=r},7102:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceRemovingArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.ResourceRemovingArguments=o},7105:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ElementTextHelper=void 0;var i=n(750),o=n(9312),r=n(3227),s=function(){function e(e){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d"),this.cultureInfo=e}return e.prototype.setFont=function(e){var t=i.DomUtils.getCurrentStyle(e),n=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=n},e.prototype.setSettings=function(e,t,n){this.startTime=e,this.viewType=t,this.modelItems=n},e.prototype.getScaleItemText=function(e,t){var n=this.viewType.valueOf()===t.valueOf();switch(t){case o.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(e);case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemText(e);case o.ViewType.Days:return this.getDaysScaleItemText(e,n);case o.ViewType.Weeks:return this.getWeeksScaleItemText(e,n);case o.ViewType.Months:return this.getMonthsScaleItemText(e,n);case o.ViewType.Quarter:return this.getQuarterScaleItemText(e,n);case o.ViewType.Years:return this.getYearsScaleItemText(e);case o.ViewType.FiveYears:return this.getFiveYearsScaleItemText(e)}},e.prototype.getTenMinutesScaleItemText=function(e){var t=e.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},e.prototype.getThirtyMinutesScaleItemText=function(e){return e.getMinutes()<30?"30":"60"},e.prototype.getHoursScaleItemText=function(e){var t=e.getHours(),n=this.getHourDisplayText(t),i=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(n,i)},e.prototype.getDaysScaleItemText=function(e,t){return this.getDayTotalText(e,!0,t,t,!t)},e.prototype.getWeeksScaleItemText=function(e,t){var n=r.DateUtils.getDSTCorrectedTaskEnd(e,r.DateUtils.msPerWeek-r.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(e,t,!0,t,!t),this.getDayTotalText(n,t,!0,t,!t))},e.prototype.getMonthsScaleItemText=function(e,t){var n=this.getMonthNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[e.getMonth()],i)},e.prototype.getQuarterScaleItemText=function(e,t){var n=this.getQuarterNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[Math.floor(e.getMonth()/3)],i)},e.prototype.getYearsScaleItemText=function(e){return e.getFullYear().toString()},e.prototype.getFiveYearsScaleItemText=function(e){return e.getFullYear().toString()+" - "+(e.getFullYear()+4).toString()},e.prototype.getHourDisplayText=function(e){return this.hasAmPm()?(0==e?12:e<=12?e:e-12).toString():e<10?"0"+e:e.toString()},e.prototype.getDayTotalText=function(e,t,n,i,o){var r=i?this.getAbbrMonthNames():this.getMonthNames(),s=n?this.getAbbrDayNames():this.getDayNames(),a=t?s[e.getDay()]:"",l=e.getDate(),c=r[e.getMonth()],d=o?e.getFullYear().toString():"";return this.getDayTotalTextCore(a,l.toString(),c,d)},e.prototype.getTaskText=function(e){var t=this.modelItems[e];return t?t.task.title:""},e.prototype.getTaskVisibility=function(e){var t=this.modelItems[e];return!!t&&t.getVisible()},e.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},e.prototype.getScaleItemTextTemplate=function(e){switch(e){case o.ViewType.TenMinutes:return"00";case o.ViewType.Hours:case o.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case o.ViewType.Days:return this.getDayTextTemplate();case o.ViewType.Weeks:return this.getWeekTextTemplate();case o.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case o.ViewType.Quarter:return"Q4";case o.ViewType.Years:return"0000"}},e.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},e.prototype.getWeekTextTemplate=function(){var e=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(e,e)},e.prototype.getHoursScaleItemTextCore=function(e,t){return e+":00"+(this.hasAmPm()?" "+t:"")},e.prototype.getDayTotalTextCore=function(e,t,n,i){var o=e.length>0?e+", ":"";return o+=t+" "+n,o+(i.length>0?" "+i:"")},e.prototype.getWeeksScaleItemTextCore=function(e,t){return e+" - "+t},e.prototype.getMonthsScaleItemTextCore=function(e,t){var n=e;return t.length>0&&(n+=" "+t),n},e.prototype.getLongestAbbrMonthName=function(){return null==this.longestAbbrMonthName&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},e.prototype.getLongestMonthName=function(){return null==this.longestMonthName&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},e.prototype.getLongestAbbrDayName=function(){return null==this.longestAbbrDayName&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},e.prototype.getLongestText=function(e){var t=this,n="",i=0;return e.forEach(function(e){var o=t.getTextWidth(e);o>i&&(i=o,n=e)}),n},e.prototype.getTextWidth=function(e){return Math.round(this.textMeasureContext.measureText(e).width)},e.prototype.getAmText=function(){return this.cultureInfo.amText},e.prototype.getPmText=function(){return this.cultureInfo.pmText},e.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},e.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},e.prototype.getDayNames=function(){return this.cultureInfo.dayNames},e.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},e.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},e}();t.ElementTextHelper=s},7122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorCommand=void 0;var i=n(5215),o=n(6483),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){return this.control.viewModel.resources.getItemById(e).color!==t&&(this.history.addAndRedo(new o.ResourceColorHistoryItem(this.modelManipulator,e,t)),!0)},t}(n(8247).ResourcePropertyCommandBase);t.ResourceColorCommand=r},7140:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StripLine=void 0;var i=n(961),o=function(){function e(e,t,n,i,o){this.isCurrent=!1,this.start=e,this.end=t,this.title=n,this.cssClass=i,this.isCurrent=o}return e.parse=function(t){var n=new e;return t&&((0,i.isDefined)(t.start)&&(n.start=t.start),(0,i.isDefined)(t.end)&&(n.end=t.end),(0,i.isDefined)(t.title)&&(n.title=t.title),(0,i.isDefined)(t.cssClass)&&(n.cssClass=t.cssClass)),n},e.prototype.clone=function(){return new e(this.start,this.end,this.title,this.cssClass,this.isCurrent)},e.prototype.equal=function(e){var t=!0;return(t=(t=(t=t&&this.start==e.start)&&this.end==e.end)&&this.title==e.title)&&this.cssClass==e.cssClass},e}();t.StripLine=o},7141:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmationDialog=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.applyParameters=function(e,t){return this.history.beginTransaction(),t.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},t.prototype.createParameters=function(e){return e},t.prototype.getDialogName=function(){return"Confirmation"},t}(n(6533).DialogBase);t.ConfirmationDialog=o},7184:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyRemovingArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.DependencyRemovingArguments=o},7283:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollection=void 0;var i=n(5215),o=n(5675),r=n(4055),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Dependency},t}(o.CollectionBase);t.DependencyCollection=s},7302:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenModeHelper=void 0;var i=n(8424),o=n(3887),r=n(750),s=function(){function e(e){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=e}return Object.defineProperty(e.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),e.prototype.getMainElement=function(){return this.settings.getMainElement()},e.prototype.adjustControl=function(){this.settings.adjustControl()},e.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},e.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},e.prototype.prepareFullScreenMode=function(){var e=this.getMainElement();o.AttrUtils.changeElementStyleAttribute(e,"border-top-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-left-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-right-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=r.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=r.DomUtils.getDocumentScrollLeft(),o.AttrUtils.changeElementStyleAttribute(e,"background-color","white"),o.AttrUtils.changeElementStyleAttribute(e,"position","fixed"),o.AttrUtils.changeElementStyleAttribute(e,"top","0px"),o.AttrUtils.changeElementStyleAttribute(e,"left","0px"),o.AttrUtils.changeElementStyleAttribute(e,"z-index","1010"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=e.style.width,this.fullScreenTempVars.height=e.style.height||e.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},e.prototype.setNormalMode=function(){this.cancelFullScreen(document);var e=this.getMainElement();o.AttrUtils.restoreElementStyleAttribute(e,"left"),o.AttrUtils.restoreElementStyleAttribute(e,"top"),o.AttrUtils.restoreElementStyleAttribute(e,"background-color"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,o.AttrUtils.restoreElementStyleAttribute(e,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"border-top-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-left-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-right-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},e.prototype.adjustControlInFullScreenMode=function(){var e=0==document.documentElement.clientWidth?document.body.clientWidth:document.documentElement.clientWidth,t=0==document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(e),this.setHeight(t),this.adjustControl()},e.prototype.requestFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},e.prototype.cancelFullScreen=function(e){i.Browser.Firefox&&!this.getFullScreenElement(e)||(e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():e.exitFullscreen&&e.exitFullscreen())},e.prototype.getFullScreenElement=function(e){return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement},e.prototype.setWidth=function(e){this.getMainElement().style.width=this.isNumber(e)?e+"px":e},e.prototype.setHeight=function(e){this.getMainElement().style.height=this.isNumber(e)?e+"px":e},e.prototype.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}();t.FullScreenModeHelper=s},7364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTaskCommand=void 0;var i=n(5215),o=n(961),r=n(6172),s=n(8741),a=n(2254),l=n(1113),c=n(3227),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.tasks.getItemById(e);if(!n)return!1;var i=this.control.modelManipulator.dispatcher.raiseTaskUpdating(n,t,function(e){t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end,t.color=e.color});if(i){(0,o.isDefined)(t.start)&&(0,o.isDefined)(t.end)&&t.end.getTime()<t.start.getTime()&&(t.end=t.start),(0,o.isDefined)(t.progress)&&(t.progress=Math.max(Math.min(t.progress,100),0));var r=this.filterChangedValues(t,n);this.processDependecyValidation(r,n)}return i},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},t.prototype.filterChangedValues=function(e,t){if(!e)return null;var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(0,o.isDefined)(e[i])&&t[i]!==e[i]&&(n[i]=e[i]);return n},t.prototype.processDependecyValidation=function(e,t){var n=this,i=function(i){n.onAfterValidationCallback(e,t,i)},r=this.control.isValidateDependenciesRequired();if(r){var a=[],l=(0,o.isDefined)(e.start)&&e.start!==t.start,c=(0,o.isDefined)(e.end)&&e.end!==t.end;l&&r&&(a=a.concat(this.control.validationController.checkStartDependencies(t.internalId,e.start))),c&&r&&(a=a.concat(this.control.validationController.checkEndDependencies(t.internalId,e.end))),a.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new s.ConstraintViolationDialogParameters(a,i)):i(null)}else i(null)},t.prototype.onAfterValidationCallback=function(e,t,n){var i=this;if(!n||n.option!==r.ConstraintViolationOption.DoNothing||(delete e.start,delete e.end),Object.keys(e).length>0){this.history.beginTransaction(),(null==n?void 0:n.option)===r.ConstraintViolationOption.RemoveDependency&&n.validationErrors.forEach(function(e){return i.history.addAndRedo(new a.RemoveDependencyHistoryItem(i.modelManipulator,e.dependencyId))});var s=this.control.isValidateDependenciesRequired(),c=t.internalId,d=t.start,u=t.end;this.history.addAndRedo(new l.UpdateTaskHistoryItem(this.modelManipulator,c,e)),(0,o.isDefined)(e.start)&&s&&this.control.validationController.moveStartDependTasks(c,d),(0,o.isDefined)(e.end)&&s&&this.control.validationController.moveEndDependTasks(c,u),this.processAutoParentUpdate(c,e,d,u),this.history.endTransaction(),(null==n?void 0:n.option)!==r.ConstraintViolationOption.RemoveDependency&&(null==n?void 0:n.option)!==r.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},t.prototype.processAutoParentUpdate=function(e,t,n,i){var r=(0,o.isDefined)(t.start),s=(0,o.isDefined)(t.end),a=(0,o.isDefined)(t.progress)||r||s,l=r?t.start.getTime()-n.getTime():null,d=s?t.end.getTime()-i.getTime():null,u=r&&0!==c.DateUtils.getTimezoneOffsetDiff(n,t.start),p=s&&0!==c.DateUtils.getTimezoneOffsetDiff(i,t.end),h=(u||p)&&Math.abs(d-l)===c.DateUtils.msPerHour;a?0===l||l!==d&&!h?this.validationController.updateParentsIfRequired(e):this.validationController.correctParentsOnChildMoving(e,l):this.control.updateOwnerInAutoParentMode()},t}(n(4130).TaskCommandBase);t.UpdateTaskCommand=d},7368:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttMovingHelper=void 0;var i=n(8424),o=n(8451),r=function(){function e(e){this.taskAreaContainer=e,this.movingInfo=null}return e.prototype.startMoving=function(e){this.movingInfo=this.calcMovingInfo(e),this.updateGanttAreaCursor(!0)},e.prototype.cancelMoving=function(){this.movingInfo=null},e.prototype.onMouseMove=function(e){this.move(e)},e.prototype.onMouseUp=function(e){this.cancelMoving(),this.updateGanttAreaCursor(!1)},e.prototype.move=function(e){this.updateScrollPosition(e)},e.prototype.updateScrollPosition=function(e){var t=Math.round(o.EvtUtils.getEventX(e)),n=Math.round(o.EvtUtils.getEventY(e)),i=t-this.movingInfo.eventX,r=n-this.movingInfo.eventY,s=i<0?-1:1,a=r<0?-1:1,l=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,c=a<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(i)>l&&(i=l*s),Math.abs(r)>c&&(r=c*a);var d=this.movingInfo.scrollLeft-i,u=this.movingInfo.scrollTop-r,p=this.taskAreaContainer;p.scrollLeft!==d&&(p.scrollLeft=d),p.scrollTop!==u&&(p.scrollTop=u)},e.prototype.calcMovingInfo=function(e){var t=this.taskAreaContainer;return{eventX:o.EvtUtils.getEventX(e),eventY:o.EvtUtils.getEventY(e),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,maxLeftDelta:t.scrollLeft,maxRightDelta:t.scrollWidth-t.scrollLeft-t.getElement().offsetWidth,maxTopDelta:t.scrollTop,maxBottomDelta:t.scrollHeight-t.scrollTop-t.getElement().offsetHeight}},e.prototype.updateGanttAreaCursor=function(e){var t=i.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=e?t:"default"},e}();t.GanttMovingHelper=r},7394:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoWorkingIntervalRender=void 0;var i=n(1040),o=function(){function e(e){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=e}return Object.defineProperty(e.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(e){this._renderedNoWorkingIntervals=e},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},e.prototype.createNoWorkingIntervalElement=function(e){return i.RenderElementUtils.create(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.removeNoWorkingIntervalElement=function(e){i.RenderElementUtils.remove(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.recreateNoWorkingIntervalElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);i.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,t,function(t){e.removeNoWorkingIntervalElement(t)},function(t){e.createNoWorkingIntervalElement(t)}),this.renderedNoWorkingIntervals=t},e}();t.NoWorkingIntervalRender=o},7484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskDragBaseState=void 0;var i=n(5215),o=n(5327),r=n(8451),s=n(8211),a=n(6118),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDownInternal=function(e){this.onStart(e)},t.prototype.onMouseUp=function(e){this.onEnd(e)},t.prototype.onMouseMoveInternal=function(e){this.onDrag(e)},t.prototype.onTouchStartInternal=function(e){this.onStart(e)},t.prototype.onTouchEndInternal=function(e){this.onEnd(e)},t.prototype.onTouchMoveInternal=function(e){this.onDrag(e)},t.prototype.onDocumentPointerDownInternal=function(e){this.onStart(e)},t.prototype.onDocumentPointerUpInternal=function(e){this.onEnd(e)},t.prototype.onDocumentPointerMoveInternal=function(e){this.onDrag(e)},t.prototype.onStart=function(e){this.currentPosition=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e)),this.raiseDependencySelection(e,null),this.onStartInternal(e)},t.prototype.onDrag=function(e){var t;e.preventDefault();var n=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e));null!==(t=this.currentPosition)&&void 0!==t||(this.currentPosition=n),this.onDragInternal(n),this.currentPosition=n},t.prototype.onEnd=function(e){this.onEndInternal(e),this.raiseEvent(a.TaskAreaStateEventNames.STATE_EXIT,e)},t.prototype.onStartInternal=function(e){},t.prototype.onEndInternal=function(e){},t.prototype.onDragInternal=function(e){},t.prototype.finish=function(){this.raiseEvent(a.TaskAreaStateEventNames.TASK_EDIT_END)},t}(s.TaskAreaStateBase);t.TaskDragBaseState=l},7509:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RedoCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new r.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.redo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canRedo()},t}(o.CommandBase);t.RedoCommand=s},7520:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseAllCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.collapseAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.CollapseAllCommand=s},7558:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JsonUtils=void 0;var n=function(){function e(){}return e.isValid=function(e){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/"(\\.|[^"\\])*"/g,""))},e}();t.JsonUtils=n},7612:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertiesHistoryItemBase=void 0;var i=n(5215),o=n(5593),r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.newValue=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:o.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(t){return e.resourceId=t}}]},enumerable:!1,configurable:!0}),t}(n(9105).HistoryItem);t.ResourcePropertiesHistoryItemBase=r},7622:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceUnassigningArguments=void 0;var i=n(5215),o=function(e){function t(t){var n=e.call(this,t.internalId)||this;return n.values=t,n}return i.__extends(t,e),t}(n(1237).BaseArguments);t.ResourceUnassigningArguments=o},7646:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomInCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomIn(),!0},t}(o.CommandBase);t.ZoomInCommand=s},7648:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskRender=void 0;var i=n(750),o=n(9312),r=n(9443),s=n(1040),a=function(){function e(e){this._selectionElements=[],this._taskElements=[],this._renderHelper=e,this.customTaskRender=new r.CustomTaskRender(e,this)}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),e.prototype.isHighlightRowElementAllowed=function(e){return this._renderHelper.isHighlightRowElementAllowed(e)},e.prototype.getTaskVisibility=function(e){return this._renderHelper.getTaskVisibility(e)},e.prototype.getTaskText=function(e){return this._renderHelper.getTaskText(e)},Object.defineProperty(e.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fakeTaskWrapper",{get:function(){var e;return null!==(e=this._fakeTaskWrapper)&&void 0!==e||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),e.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},e.prototype.getTask=function(e){return this._renderHelper.getTask(e)},e.prototype.createHighlightRowElement=function(e){this._renderHelper.createHighlightRowElement(e)},e.prototype.getTaskDependencies=function(e){return this._renderHelper.getTaskDependencies(e)},e.prototype.addInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(e)},e.prototype.removeInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter(function(t){return t.predecessorId!=e||t.successorId!=e})},e.prototype.createResources=function(e){this.showResources&&this._renderHelper.createResources(e)},e.prototype.attachEventsOnTask=function(e){this._renderHelper.attachEventsOnTask(e)},e.prototype.detachEventsOnTask=function(e){this._renderHelper.detachEventsOnTask(e)},e.prototype.recreateConnectorLineElement=function(e,t){void 0===t&&(t=!1),this._renderHelper.recreateConnectorLineElement(e,t)},e.prototype.renderTaskElement=function(e){this._renderHelper.createTaskElement(e)},e.prototype.reset=function(){var e=this;this._taskElements.forEach(function(t,n){return e.removeTaskElement(n)}),this._selectionElements=[],this._taskElements=[]},e.prototype.createTaskWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);s.RenderElementUtils.create(t,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.getTaskVisibility(e)?"":"none"},e.prototype.createTaskElement=function(e,t){var n=this.getViewItem(e);if(t)this.customTaskRender.createCustomTaskElement(e,t);else{if(!n.task.isValid()||!n.visible){var i=this.getTaskDependencies(n.task.internalId);return this.addInvalidTaskDependencies(i),void(n.selected&&this.createTaskSelectionElement(e))}this.createDefaultTaskElement(e)}},e.prototype.createTaskVisualElement=function(e){var t=this.gridLayoutCalculator.getTaskElementInfo(e,this.taskTitlePosition!==o.TaskTitlePosition.Inside),n=s.RenderElementUtils.create(t,e,this.taskElements[e]);return this.attachEventsOnTask(e),n},e.prototype.createDefaultTaskElement=function(e){var t=this.getViewItem(e);this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e),t.selected&&this.createTaskSelectionElement(e),this.createTaskWrapperElement(e),this.taskTitlePosition===o.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var n=this.createTaskVisualElement(e);t.task.isMilestone()||(this.taskTitlePosition===o.TaskTitlePosition.Inside&&this.createTaskTextElement(e,n),this.createTaskProgressElement(e,n)),this.createResources(e)},e.prototype.removeTaskElement=function(e){var t=this.getTask(e);if(t&&this.removeInvalidTaskDependencies(t.id),this.detachEventsOnTask(e),this._renderHelper.hasTaskTemplate()){var n=this.taskElements[e],i=null==n?void 0:n.firstElementChild;i&&(this._renderHelper.destroyTemplate(i),n.removeChild(i))}s.RenderElementUtils.remove(null,e,this.taskArea,this.taskElements),s.RenderElementUtils.remove(null,e,this.taskArea,this.resourcesElements),s.RenderElementUtils.remove(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&s.RenderElementUtils.remove(null,e,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(e)},e.prototype.recreateTaskElement=function(e){var t=this,n=this.renderedRowIndices.filter(function(t){return t===e}).length>0,i=this.getTask(e);if(i){n&&(this.removeTaskElement(e),this.renderTaskElement(e));var o=this.getTaskDependencies(i.internalId);o.length&&o.forEach(function(e){return t.recreateConnectorLineElement(e.internalId,!0)})}},e.prototype.createFakeTaskWrapper=function(){var e,t,n=null!==(t=null===(e=this.viewModelItems.filter(function(e){return e.task&&!e.task.isMilestone})[0])||void 0===e?void 0:e.visibleIndex)&&void 0!==t?t:0,i=this.gridLayoutCalculator,o=s.RenderElementUtils.create(i.getTaskWrapperElementInfo(n),null,this.taskArea),r=s.RenderElementUtils.create(i.getTaskElementInfo(n),null,o);return this.createTaskTextElement(n,r),this.createTaskProgressElement(n,r),o.style.display="none",o},e.prototype.createTaskProgressElement=function(e,t){var n=this.gridLayoutCalculator.getTaskProgressElementInfo(e);s.RenderElementUtils.create(n,e,t)},e.prototype.getTextWidth=function(e){return this._renderHelper.getTextWidth(e)},Object.defineProperty(e.prototype,"minTextWidth",{get:function(){var e;return null!==(e=this._minTextWidth)&&void 0!==e||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),e.prototype.createTaskTextElement=function(t,n){var r,a,l=this.gridLayoutCalculator.getTaskTextElementInfo(t,this.taskTitlePosition===o.TaskTitlePosition.Inside);if(!l.additionalInfo.hidden){var c=s.RenderElementUtils.create(l,t,n),d=this.getTaskText(t);if(this.taskTitlePosition===o.TaskTitlePosition.Outside&&l.size.width>0){var u=getComputedStyle(c),p=l.size.width-i.DomUtils.pxToInt(u.paddingLeft);if(p>=this.minTextWidth){var h=i.DomUtils.pxToInt(u.paddingRight),g=d?this.getTextWidth(d):0;h&&g>p-h&&(h=Math.min(e.minTitleOutRightPadding,p-this.minTextWidth),c.style.paddingRight=h+"px"),g>p-h&&(c.style.overflowX="hidden",c.style.textOverflow="ellipsis")}else c.style.display="none"}d||(null!==(r=this[a=this.taskTextHeightKey])&&void 0!==r||(this[a]=this.getTaskTextHeight(c)),c.style.height=this[this.taskTextHeightKey]),c.innerText=d}},e.prototype.createTaskSelectionElement=function(e){var t=this.gridLayoutCalculator.getSelectionElementInfo(e);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&t.size.height++,s.RenderElementUtils.create(t,e,this.taskArea,this.selectionElements)},e.prototype.getTaskTextHeight=function(e){e.innerText="WWW";var t=getComputedStyle(e).height;return e.innerText="",t},e.prototype.getSmallTaskWidth=function(e){var t=0;if(null!=e&&""!==e){var n=e.indexOf("rem");if(n>-1)try{t=parseFloat(e.substr(0,n))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch(e){}else t=i.DomUtils.pxToInt(e)}return 2*t},e.minTitleOutRightPadding=5,e}();t.TaskRender=a},7678:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridElementInfo=void 0;var i=n(5327),o=n(3844),r=n(5226),s=function(){function e(t,n,s){this.id=e.id++,this.position=new i.Point(void 0,void 0),this.size=new o.Size(0,0),this.margins=new r.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},t&&(this.className=t),n&&this.setPosition(n),s&&this.setSize(s)}return e.prototype.setSize=function(e){this.size.width=e.width,this.size.height=e.height},e.prototype.setPosition=function(e){this.position.x=e.x,this.position.y=e.y},e.prototype.assignToElement=function(e){this.assignPosition(e),this.assignSize(e),this.assignMargins(e),this.className&&(e.className=this.className)},e.prototype.assignPosition=function(e){null!=this.position.x&&(e.style.left=this.position.x+"px"),null!=this.position.y&&(e.style.top=this.position.y+"px")},e.prototype.assignSize=function(e){this.size.width&&(e.style.width=this.size.width+"px"),this.size.height&&(e.style.height=this.size.height+"px")},e.prototype.assignMargins=function(e){this.margins.left&&(e.style.marginLeft=this.margins.left+"px"),this.margins.top&&(e.style.marginTop=this.margins.top+"px"),this.margins.right&&(e.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(e.style.marginBottom=this.margins.bottom+"px")},e.prototype.setAttribute=function(e,t){this.attr[e]=t},e.id=0,e}();t.GridElementInfo=s},7699:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeRule=void 0;var i=n(5215),o=n(5593),r=n(961),s=n(3509),a=n(86),l=n(9643),c=function(e){function t(t,n,i){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===i&&(i=null);var o=e.call(this)||this;return o.isWorkDay=!0,o.workTimeRanges=new Array,o.recurrence=t,o.isWorkDay=n,i&&o.workTimeRanges.concat(i),o}return i.__extends(t,e),t.prototype.assignFromObject=function(t){if((0,r.isDefined)(t)){e.prototype.assignFromObject.call(this,t),this.recurrence=a.RecurrenceFactory.createRecurrenceByType(t.recurrenceType)||new l.Daily,(0,r.isDefined)(t.recurrence)&&this.recurrence.assignFromObject(t.recurrence),(0,r.isDefined)(t.isWorkDay)&&(this.isWorkDay=!!t.isWorkDay);var n=s.DateTimeUtils.convertToTimeRanges(t.workTimeRanges);n&&(this.workTimeRanges=n)}},t}(o.DataObject);t.WorkingTimeRule=c},7861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MonthInfo=void 0;var i=n(3509),o=function(){function e(e,t){this.month=e,this.year=t}return e.prototype.addMonths=function(e){var t=i.DateTimeUtils.getNextMonth(this.month,e),n=Math.floor(e/12);t<this.month&&++n,this.month=t,this.year+=n},e}();t.MonthInfo=o},7907:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingDayRuleCollection=void 0;var i=n(5215),o=n(5675),r=n(7699),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.WorkingTimeRule},t}(o.CollectionBase);t.WorkingDayRuleCollection=s},7999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelDependencyInfo=void 0;var n=function(e,t,n){this.id=e,this.predecessor=t,this.type=n};t.ViewVisualModelDependencyInfo=n},8009:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttPageDrawer=void 0;var i=n(5327),o=n(2684),r=n(3820),s=n(6100),a=n(2424),l=function(){function e(e,t){this._pdfDoc=e,this._props=t}return e.prototype.drawPage=function(e){var t=this._pdfDoc,n=new a.PdfGanttTableDrawer(t);return this.needDrawChart()&&(n.drawTable(e.tables[r.PdfPageTableNames.chartMain]),new o.PdfObjectDrawer(t,e.objects).draw(),n.drawTable(e.tables[r.PdfPageTableNames.chartScaleTop]),n.drawTable(e.tables[r.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(n.drawTable(e.tables[r.PdfPageTableNames.treeListMain]),n.drawTable(e.tables[r.PdfPageTableNames.treeListHeader])),this.drawMargins(e),t},e.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.chart},e.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.treeList},e.prototype.getContentRightBottom=function(e){var t=new i.Point(0,0);for(var n in e.tables)if(Object.prototype.hasOwnProperty.call(e.tables,n)){var o=e.tables[n];t.x=Math.max(t.x,o.position.x+o.size.width),t.y=Math.max(t.y,o.position.y+o.size.height)}return t},e.prototype.drawMargins=function(e){var t=this._pdfDoc,n=this._props,i=t.getPageWidth(),o=t.getPageHeight(),r=this.getContentRightBottom(e);t.setFillColor(255,255,255),t.rect(0,0,n.margins.left,o,"F"),t.rect(0,0,i,n.margins.top,"F"),t.rect(r.x,0,i,o,"F"),t.rect(0,r.y,i,o,"F")},e}();t.PdfGanttPageDrawer=l},8053:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationController=void 0;var i=n(5215),o=n(961),r=n(3227),s=n(8154),a=n(1113),l=n(4414),c=n(3509),d=n(4507),u=function(){function e(e){this.lockPredecessorToSuccessor=!0,this.settings=e}return Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),e.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},e.prototype.checkStartDependencies=function(e,t){var n=this,i=[],o=this.viewModel.tasks.getItemById(e);return this.viewModel.dependencies.items.filter(function(t){return t.successorId===e}).forEach(function(e){var r=n.viewModel.tasks.getItemById(e.predecessorId);(e.type===s.DependencyType.FS&&r.end>t||e.type===s.DependencyType.SS&&r.start>t)&&i.push(new d.ValidationError(e.internalId,!0)),(e.type===s.DependencyType.FS&&r.end.valueOf()===o.start.valueOf()&&t>r.end||e.type===s.DependencyType.SS&&r.start.valueOf()===o.start.valueOf()&&t>r.start)&&i.push(new d.ValidationError(e.internalId))}),i},e.prototype.checkEndDependencies=function(e,t){var n=this,i=[],o=this.viewModel.tasks.getItemById(e);return this.viewModel.dependencies.items.filter(function(t){return t.successorId===e}).forEach(function(e){var r=n.viewModel.tasks.getItemById(e.predecessorId);(e.type===s.DependencyType.SF&&r.start>t||e.type===s.DependencyType.FF&&r.end>t)&&i.push(new d.ValidationError(e.internalId,!0)),(e.type===s.DependencyType.SF&&r.start.valueOf()===o.end.valueOf()&&t>r.start||e.type===s.DependencyType.FF&&r.end.valueOf()===o.end.valueOf()&&t>r.end)&&i.push(new d.ValidationError(e.internalId))}),i},e.prototype.moveEndDependTasks=function(e,t,n){var i=this;void 0===n&&(n=null);var o=this.viewModel.dependencies.items.filter(function(t){return t.predecessorId===e&&!t.isStartDependency}),r=this.viewModel.tasks.getItemById(e);o.forEach(function(e){var o=i.viewModel.tasks.getItemById(e.successorId);if(!(!o||n&&i.viewModel.checkParent(o.internalId,n)||o.parentId===r.id)){var c=new l.DateRange(new Date(o.start.getTime()),new Date(o.end.getTime())),d=new l.DateRange(new Date(o.start.getTime()),new Date(o.end.getTime())),u=r.end.getTime()-t.getTime(),p=i.enablePredecessorGap?r.end:t;if(e.type===s.DependencyType.FS&&(o.start<p||i.lockPredecessorToSuccessor&&o.start.getTime()===t.getTime())?(d.start.setTime(r.end.getTime()),d.end.setTime(d.start.getTime()+(o.end.getTime()-o.start.getTime())),i.correctMoving(o.internalId,d)):e.type===s.DependencyType.FF&&(o.end<p||i.lockPredecessorToSuccessor&&o.end.getTime()===t.getTime())?(d.start.setTime(r.end.getTime()-(o.end.getTime()-o.start.getTime())),d.end.setTime(r.end.getTime()),i.correctMoving(o.internalId,d)):i.enablePredecessorGap||(d.start.setTime(o.start.getTime()+u),d.end.setTime(o.end.getTime()+u)),!c.equal(d)){var h={start:d.start,end:d.end};i.history.addAndRedo(new a.UpdateTaskHistoryItem(i.modelManipulator,e.successorId,h)),i.moveRelatedTasks(e,c,o,d)}}})},e.prototype.moveStartDependTasks=function(e,t,n){var i=this;void 0===n&&(n=null);var o=this.viewModel.dependencies.items.filter(function(t){return t.predecessorId===e&&t.isStartDependency}),r=this.viewModel.tasks.getItemById(e);o.forEach(function(e){var o=i.viewModel.tasks.getItemById(e.successorId);if(!(!o||n&&i.viewModel.checkParent(o.internalId,n)||o.parentId===r.id)){var c=new l.DateRange(new Date(o.start.getTime()),new Date(o.end.getTime())),d=new l.DateRange(new Date(o.start.getTime()),new Date(o.end.getTime())),u=r.start.getTime()-t.getTime(),p=i.enablePredecessorGap?r.start:t;if(e.type===s.DependencyType.SF&&(o.end<p||i.lockPredecessorToSuccessor&&o.end.getTime()===t.getTime())?(d.start.setTime(r.start.getTime()-(o.end.getTime()-o.start.getTime())),d.end.setTime(r.start.getTime()),i.correctMoving(o.internalId,d)):e.type===s.DependencyType.SS&&(o.start<p||i.lockPredecessorToSuccessor&&o.start.getTime()===t.getTime())?(d.start.setTime(r.start.getTime()),d.end.setTime(r.start.getTime()+(o.end.getTime()-o.start.getTime())),i.correctMoving(o.internalId,d)):i.enablePredecessorGap||(d.start.setTime(o.start.getTime()+u),d.end.setTime(o.end.getTime()+u)),!c.equal(d)){var h={start:d.start,end:d.end};i.history.addAndRedo(new a.UpdateTaskHistoryItem(i.modelManipulator,e.successorId,h)),i.moveRelatedTasks(e,c,o,d)}}})},e.prototype.moveRelatedTasks=function(e,t,n,i){var o=i.start.getTime()-t.start.getTime();this.correctParentsOnChildMoving(n.internalId,o),this.moveStartDependTasks(e.successorId,t.start),this.moveEndDependTasks(e.successorId,t.end)},e.prototype.getCorrectDateRange=function(e,t,n){var o=this,r=new l.DateRange(new Date(t),new Date(n));return i.__spreadArray(i.__spreadArray([],this.checkStartDependencies(e,r.start),!0),this.checkEndDependencies(e,r.end),!0).filter(function(e){return e.critical}).forEach(function(e){var t=o.viewModel.dependencies.getItemById(e.dependencyId),n=o.viewModel.tasks.getItemById(t.predecessorId);t.type===s.DependencyType.FS&&r.start<n.end&&r.start.setTime(n.end.getTime()),t.type===s.DependencyType.SS&&r.start<n.start&&r.start.setTime(n.start.getTime()),t.type===s.DependencyType.FF&&r.end<n.end&&r.end.setTime(n.end.getTime()),t.type===s.DependencyType.SF&&r.end<n.start&&r.end.setTime(n.start.getTime())}),r},e.prototype.correctMoving=function(e,t){var n=this,o=t.end.getTime()-t.start.getTime();return i.__spreadArray(i.__spreadArray([],this.checkStartDependencies(e,t.start),!0),this.checkEndDependencies(e,t.end),!0).filter(function(e){return e.critical}).forEach(function(e){var i=n.viewModel.dependencies.getItemById(e.dependencyId),r=n.viewModel.tasks.getItemById(i.predecessorId);i.type===s.DependencyType.FS&&t.start<r.end&&(t.start.setTime(r.end.getTime()),t.end.setTime(t.start.getTime()+o)),i.type===s.DependencyType.SS&&t.start<r.start&&(t.start.setTime(r.start.getTime()),t.end.setTime(t.start.getTime()+o)),i.type===s.DependencyType.FF&&t.end<r.end&&(t.end.setTime(r.end.getTime()),t.start.setTime(t.end.getTime()-o)),i.type===s.DependencyType.SF&&t.end<r.start&&(t.end.setTime(r.start.getTime()),t.start.setTime(t.end.getTime()-o))}),t},e.prototype.recalculateParents=function(e,t){for(var n=e&&e.parent;n&&n.task;){for(var i=n.children,o=this.range.end,r=this.range.start,s=0,a=0,l={id:n.task.internalId},d=0;d<i.length;d++){var u=i[d].task;if(u.isValid()){o=c.DateTimeUtils.getMinDate(o,u.start),r=c.DateTimeUtils.getMaxDate(r,u.end);var p=u.getDuration();s+=u.progress*p,a+=p}}c.DateTimeUtils.areDatesEqual(n.task.start,o)||(l.start=o),c.DateTimeUtils.areDatesEqual(n.task.end,r)||(l.end=r),l.oldStart=n.task.start,l.oldEnd=n.task.end,(s=a>0?Math.round(s/a):0)!==n.task.progress&&(l.progress=s),t(l),n=n.parent}},e.prototype.updateParentsRangeByChild=function(e){var t=this;this.recalculateParents(this.viewModel.findItem(e),function(e){if((0,o.isDefined)(e.id)){var n=t.history,i=t.modelManipulator;(0,o.isDefined)(e.start)&&(n.addAndRedo(new a.UpdateTaskHistoryItem(i,e.id,{start:e.start})),t.moveStartDependTasks(e.id,e.oldStart)),(0,o.isDefined)(e.end)&&(n.addAndRedo(new a.UpdateTaskHistoryItem(i,e.id,{end:e.end})),t.moveEndDependTasks(e.id,e.oldEnd)),(0,o.isDefined)(e.progress)&&n.addAndRedo(new a.UpdateTaskHistoryItem(i,e.id,{progress:e.progress}))}})},e.prototype.updateChildRangeByParent=function(e,t,n){var i=this.viewModel.findItem(e);if(i&&0!==i.children.length)for(var o=i.children,s=0;s<o.length;s++){var l=o[s].task,c=new Date(l.start.getTime()+t),d=r.DateUtils.getRangeMSPeriod(l.start,l.end),u=r.DateUtils.getDSTCorrectedTaskEnd(c,d);n.push({id:l.internalId,start:l.start,end:l.end}),this.history.addAndRedo(new a.UpdateTaskHistoryItem(this.modelManipulator,l.internalId,{start:c,end:u})),this.updateChildRangeByParent(l.internalId,t,n)}},e.prototype.updateParentsIfRequired=function(e){this._parentAutoCalc&&(this.updateParentsRangeByChild(e),this.updateOwnerInAutoParentMode())},e.prototype.correctParentsOnChildMoving=function(e,t){var n=this;if(this._parentAutoCalc&&0!==t){this.updateParentsRangeByChild(e);var i=[];this.updateChildRangeByParent(e,t,i),this.isValidateDependenciesRequired&&i.forEach(function(t){n.moveStartDependTasks(t.id,t.start,e),n.moveEndDependTasks(t.id,t.end,e)}),this.updateOwnerInAutoParentMode()}},e.prototype.canCreateDependency=function(e,t){return this.viewModel.canCreateDependency(e,t)},e}();t.ValidationController=u},8077:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeCalculator=void 0;var i=n(7907),o=n(8927),r=n(3509),s=function(){function e(e,t){this._workingRules=new i.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=e,this._workingRules.importFromObject(t)}return e.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var e=this._workingRules.items,t=0;t<e.length;t++)this.processRule(e[t]);this.sortList()}},e.prototype.processRule=function(e){for(var t=e.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),n=function(n){var s=t[n],a=r.DateTimeUtils.getDayNumber(s),l=i._workDayList.filter(function(e){return e.dayNumber==a})[0];l?(l.isWorkDay=l.isWorkDay&&e.isWorkDay,l.addWorkingIntervals(e.workTimeRanges)):i._workDayList.push(new o.DayWorkingTimeInfo(a,e.isWorkDay,e.workTimeRanges))},i=this,s=0;s<t.length;s++)n(s)},e.prototype.sortList=function(){this._workDayList.sort(function(e,t){return e.dayNumber-t.dayNumber})},e.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},e.prototype.calculateNoWorkTimeIntervals=function(){var e=this,t=new Array;return 0==this._workDayList.length&&this.calculateWorkDayList(),this._workDayList.forEach(function(n){return t=t.concat(e.getNoWorkTimeRangesFromDay(n))}),this.concatJointedRanges(t)},e.prototype.concatJointedRanges=function(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n];t.length>0&&r.DateTimeUtils.compareDates(t[t.length-1].end,i.start)<2?t[t.length-1].end=i.end:t.push(i)}return t},e.prototype.getNoWorkTimeRangesFromDay=function(e){return e.noWorkingIntervals.map(function(t){return r.DateTimeUtils.convertTimeRangeToDateRange(t,e.dayNumber)})},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._calculationRange=e,this.invalidate()},e.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},e}();t.WorkingTimeCalculator=s},8100:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAddContextItemCommand=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t.prototype.execute=function(){return!1},t}(n(4130).TaskCommandBase);t.TaskAddContextItemCommand=o},8111:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorLinesRender=void 0;var i=n(1040),o=n(3402),r=function(){function e(e){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=e}return Object.defineProperty(e.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},e.prototype.createConnectorLineElement=function(e){if(this.showDependencies){var t=e.attr["dependency-id"];if(!this.invalidTaskDependencies.some(function(e){return e.id==t})){this.taskEditController.isDependencySelected(t)&&(e.className=e.className+" active");var n=e.className.indexOf(o.GridLayoutCalculator.arrowClassName)>-1,r=i.RenderElementUtils.create(e,null,this.taskArea,this.connectorLinesToElementsMap);return n&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(r),r}}},e.prototype.removeConnectorLineElement=function(e){i.RenderElementUtils.remove(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.recreateConnectorLineElement=function(e,t){var n=this;void 0===t&&(t=!1);var i=[];this._renderedConnectorLines=this.renderedConnectorLines.filter(function(t){return t.attr["dependency-id"]!=e||(i.push(t),!1)});var o=i.length>0;i.forEach(function(e){n.removeConnectorLineElement(e)}),i=this.gridLayoutCalculator.updateTileToConnectorLinesMap(e),(o||t)&&i.forEach(function(e){n.createConnectorLineElement(e),n.renderedConnectorLines.push(e)})},e.prototype.recreateConnectorLineElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);i.RenderElementUtils.recreate(this.renderedConnectorLines,t,function(t){e.removeConnectorLineElement(t)},function(t){e.createConnectorLineElement(t)}),this._renderedConnectorLines=t},e.prototype.updateRenderedConnectorLinesId=function(e,t){for(var n in this._renderedConnectorLines.forEach(function(n){n.attr["dependency-id"]===e&&(n.attr["dependency-id"]=t)}),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,n)){var i=this.connectorLinesToElementsMap[n];i.getAttribute("dependency-id")===e&&i.setAttribute("dependency-id",t)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(e),this.gridLayoutCalculator.updateTileToConnectorLinesMap(t)},e}();t.ConnectorLinesRender=r},8133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHistoryItem=void 0;var i=n(5215),o=function(e){function t(){var t=e.call(this,null)||this;return t.historyItems=[],t}return i.__extends(t,e),t.prototype.redo=function(){for(var e,t=0;e=this.historyItems[t];t++)e.redo()},t.prototype.undo=function(){for(var e,t=this.historyItems.length-1;e=this.historyItems[t];t--)e.undo()},t.prototype.add=function(e){if(null==e)throw new Error("Can't add null HistoryItem");this.historyItems.push(e)},t.prototype.undoItemsQuery=function(){this.undo()},t.prototype.setModelManipulator=function(t){if(e.prototype.setModelManipulator.call(this,t),this.historyItems)for(var n=0;n<this.historyItems.length;n++)this.historyItems[n].setModelManipulator(t)},t}(n(9105).HistoryItem);t.CompositionHistoryItem=o},8154:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyType=t.TaskType=void 0,function(e){e[e.Regular=0]="Regular",e[e.Summary=1]="Summary",e[e.Milestone=2]="Milestone"}(t.TaskType||(t.TaskType={})),function(e){e[e.FS=0]="FS",e[e.SS=1]="SS",e[e.FF=2]="FF",e[e.SF=3]="SF"}(t.DependencyType||(t.DependencyType={}))},8179:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UndoCommand=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new r.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.undo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canUndo()},t}(o.CommandBase);t.UndoCommand=s},8185:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskDependencyManipulator=void 0;var i=n(5215),o=n(5593),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.insertDependency=function(e,t,n,i){var r=this.viewModel;r.onBeginDataObjectCreate();var s=r.dependencies.createItem();return s.predecessorId=e,s.successorId=t,s.type=n,i&&(s.internalId=i),s.id=s.internalId,r.dependencies.add(s),r.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(s.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(s),function(e){var t=s.internalId;s.updateId(e),r.processServerInsertedKey(t,s.internalId,o.GanttDataObjectNames.dependency)},this.getErrorCallback()),r.onEndDataObjectCreate(),s},t.prototype.removeDependency=function(e){var t=this.viewModel.dependencies.getItemById(e);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(t)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(t.internalId),t},t.prototype.getObjectForDataSource=function(e){var t=this.viewModel.tasks.getItemById(e.predecessorId),n=this.viewModel.tasks.getItemById(e.successorId);return{id:e.id,predecessorId:t.id,successorId:n.id,type:e.type}},t}(n(3161).BaseManipulator);t.TaskDependencyManipulator=r},8211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaStateBase=void 0;var i=n(8424),o=n(5327),r=n(750),s=n(8451),a=n(6537),l=n(4977),c=n(9091),d=n(6118),u=function(){function e(e,t,n){this.position=new o.Point(-1,-1),this.isCursorInArea=!1,this._listener=e,this._taskArea=t,this._cellSize=n}return e.prototype.start=function(){},e.prototype.finish=function(){},e.prototype.isTouchEvent=function(e){return c.TaskAreaDomHelper.isTouchEvent(e)},e.prototype.isPointerEvent=function(e){return c.TaskAreaDomHelper.isPointerEvent(e)},e.prototype.isMouseEvent=function(e){return c.TaskAreaDomHelper.isMouseEvent(e)},e.prototype.onMouseWheel=function(e){},e.prototype.onScroll=function(e){this.raiseEvent(d.TaskAreaStateEventNames.TASK_AREA_SCROLL)},e.prototype.onKeyDown=function(e){this.isCursorInArea&&this.raiseEvent(d.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,e,null,{code:this.getShortcutCode(e)})},e.prototype.onContextMenu=function(e){var t=this.getClickedRowIndex(e),n=c.TaskAreaDomHelper.isConnectorLine(e);n||this.raiseTaskSelection(e,t),e.stopPropagation(),e.preventDefault(),i.Browser.WebKitFamily&&(e.returnValue=!1),this.raiseEvent(d.TaskAreaStateEventNames.CONTEXTMENU_SHOW,e,t,{type:n?"dependency":"task"})},e.prototype.onTaskPointerEnter=function(e){this.onTaskPointerEnterBase(e)},e.prototype.onDocumentPointerMove=function(e){this.processPointerMove(e)},e.prototype.onDocumentPointerDown=function(e){this.processPointerDown(e)},e.prototype.onDocumentPointerUp=function(e){this.processPointerUp(e)},e.prototype.onTaskTouchStart=function(e){this.onTaskPointerEnterBase(e)},e.prototype.onTouchMove=function(e){this.processPointerMove(e)},e.prototype.onTouchStart=function(e){this.processPointerDown(e)},e.prototype.onTouchEnd=function(e){this.processPointerUp(e)},e.prototype.onMouseDown=function(e){this.processPointerDown(e)},e.prototype.onMouseUp=function(e){},e.prototype.onMouseMove=function(e){this.processPointerMove(e)},e.prototype.onTaskHover=function(e){this.onTaskPointerEnterBase(e)},e.prototype.onTaskLeave=function(e){this.raiseEvent(d.TaskAreaStateEventNames.TASK_LEAVE,e,this.getClickedRowIndex(e))},e.prototype.onClick=function(e){var t=this.getClickedRowIndex(e);this.raiseTaskSelection(e,t),this.raiseEvent(d.TaskAreaStateEventNames.TASK_AREA_CLICK,e,t)},e.prototype.onDblClick=function(e){e.preventDefault(),this.raiseEvent(d.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,e,this.getClickedRowIndex(e))},e.prototype.onTaskAreaLeave=function(e){(!this.isPointerEvent(e)||c.TaskAreaDomHelper.isMousePointer(e))&&(this.isCursorInArea=!1,this.raiseEvent(d.TaskAreaStateEventNames.TASK_EDIT_END,e)),this.onTaskAreaLeaveInternal(e)},e.prototype.onTaskPointerEnterBase=function(e){this.isTouchEvent(e)||this.isPointerEvent(e)||e.preventDefault(),this.raiseEvent(d.TaskAreaStateEventNames.TASK_EDIT_START,e,this.getClickedRowIndex(e))},e.prototype.processPointerDown=function(e){var t=this.isTouchEvent(e),n=this.isPointerEvent(e);(t||n)&&this.checkAndProcessTouchOutsideArea(e)||(this.position=new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e)),(t||n)&&e.preventDefault(),t?this.onTouchStartInternal(e):n?this.onDocumentPointerDownInternal(e):this.onMouseDownInternal(e))},e.prototype.processPointerMove=function(e){var t,n=this.isTouchEvent(e),i=this.isPointerEvent(e);null!==(t=this.position)&&void 0!==t||(this.position=new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e)));var r=Math.abs(this.position.x-s.EvtUtils.getEventX(e))>2||Math.abs(this.position.y-s.EvtUtils.getEventY(e))>2;(!n&&!i||!this.checkAndProcessTouchOutsideArea(e))&&r&&((n||i)&&e.preventDefault(),this.isTouchEvent(e)?this.onTouchMoveInternal(e):this.isPointerEvent(e)?this.onDocumentPointerMoveInternal(e):(this.isCursorInArea=!0,this.onMouseMoveInternal(e)))},e.prototype.processPointerUp=function(e){this.checkAndProcessTouchOutsideArea(e)||(e.preventDefault(),this.isTouchEvent(e)?this.onTouchEndInternal(e):this.onDocumentPointerUpInternal(e))},e.prototype.onMouseDownInternal=function(e){},e.prototype.onMouseMoveInternal=function(e){},e.prototype.onDocumentPointerUpInternal=function(e){},e.prototype.onDocumentPointerDownInternal=function(e){},e.prototype.onDocumentPointerMoveInternal=function(e){},e.prototype.onTouchStartInternal=function(e){},e.prototype.onTouchEndInternal=function(e){},e.prototype.onTouchMoveInternal=function(e){},e.prototype.onTaskAreaLeaveInternal=function(e){},e.prototype.checkAndProcessTouchOutsideArea=function(e){var t=!this.isInTaskArea(e);return t&&this.raiseEvent(d.TaskAreaStateEventNames.TASK_EDIT_END,e),this.isCursorInArea=!t,t},e.prototype.raiseEvent=function(e,t,n,i){var o=new l.TaskAreaEventArgs(e,t,n,i),r=this._listener.getHandler(e);return r&&r(o)},e.prototype.raiseDependencySelection=function(e,t){this.raiseEvent(d.TaskAreaStateEventNames.DEPENDENCY_SELECTION,e,null,{key:t})},e.prototype.raiseTaskSelection=function(e,t){r.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(e))&&!c.TaskAreaDomHelper.isConnectorLine(e)&&this.raiseEvent(d.TaskAreaStateEventNames.TASK_SELECTION,e,t)},e.prototype.getClickedRowIndex=function(e){if(!e)return-1;var t=s.EvtUtils.getEventY(e)-r.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(t/this._cellSize.height)},e.prototype.getRelativePos=function(e){var t=r.DomUtils.getAbsolutePositionX(this._taskArea),n=r.DomUtils.getAbsolutePositionY(this._taskArea);return new o.Point(e.x-t,e.y-n)},e.prototype.isInTaskArea=function(e){return r.DomUtils.isItParent(this._taskArea,s.EvtUtils.getEventSource(e))},e.prototype.getShortcutCode=function(e){var t=a.KeyUtils.getEventKeyCode(e),n=0;return e.altKey&&(n|=a.ModifierKey.Alt),e.ctrlKey&&(n|=a.ModifierKey.Ctrl),e.shiftKey&&(n|=a.ModifierKey.Shift),e.metaKey&&i.Browser.MacOSPlatform&&(n|=a.ModifierKey.Meta),n|t},e}();t.TaskAreaStateBase=u},8247:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertyCommandBase=void 0;var i=n(5215),o=n(4339),r=n(6623),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new r.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},t}(o.CommandBase);t.ResourcePropertyCommandBase=s},8374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertiesManipulator=void 0;var i=n(5215),o=n(3161),r=n(9384),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.color=new r.ResourceColorManipulator(t,n),i}return i.__extends(t,e),t}(o.BaseManipulator);t.ResourcePropertiesManipulator=s},8424:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Browser=t.addBrowserClassNamesToHtml=void 0;var n=null;t.addBrowserClassNamesToHtml=function(){n&&"function"==typeof n&&n()};var i=function(){function e(){}return e.IdentUserAgent=function(t,n){void 0===n&&(n=!1);var i=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],o="IE",r="Win",s={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(t&&0!==t.length){t=t.toLowerCase(),e.indentPlatformMajorVersion(t);try{for(var a={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},l="(?:/|\\s*)?",c="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",d="(?:"+c+")?",u={Safari:"applewebkit(?:.*?(?:version/"+c+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+l+d,Mozilla:"mozilla(?:.*rv:"+d+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+d,Firefox:"firefox"+l+d,Opera:"(?:opera|\\sopr)"+l+d,Opera10:"opera.*\\s*version"+l+d,IE:"msie\\s*"+d,Edge:"edge"+l+d},p=null,h=-1,g=0;g<i.length;g++){var f=i[g],m=new RegExp(u[f],"i").exec(t);if(m&&m.index>=0){if("IE"===p&&h>=11&&"Safari"===f)continue;"Opera10"===(p=f)&&(p="Opera");var y="trident"+l+d;h=e.GetBrowserVersion(t,m,y,e.getIECompatibleVersionString()),"Mozilla"===p&&h>=11&&(p="IE")}}p||(p=o);var v=-1!==h;v||(h=s[p]);var T=null,_=Number.MAX_VALUE;for(var k in a)if(Object.prototype.hasOwnProperty.call(a,k)){var b="!"===k.substr(0,1),w=t.indexOf((b?k.substr(1):k).toLowerCase());w>=0&&(w<_||b)&&(_=b?0:w,T=a[k])}var S=t.toUpperCase().match("SM-[A-Z]"),C=S&&S.length>0;"WinPhone"===T&&h<9&&(h=Math.floor(e.getVersionFromTrident(t,"trident"+l+d))),!n&&"IE"===p&&h>7&&document.documentMode<h&&(h=document.documentMode),"WinPhone"===T&&(h=Math.max(9,h)),T||(T=r),T!==a["cpu os"]||v||(h=4),e.fillUserAgentInfo(i,p,h,T,C)}catch(t){e.fillUserAgentInfo(i,o,s[o],r)}}else e.fillUserAgentInfo(i,o,s[o],r)},e.GetBrowserVersion=function(t,n,i,o){var r=e.getVersionFromMatches(n);if(o){var s=e.getVersionFromTrident(t,i);if("edge"===o||parseInt(o)===s)return s}return r},e.getIECompatibleVersionString=function(){if(document.compatible)for(var e=0;e<document.compatible.length;e++)if("IE"===document.compatible[e].userAgent&&document.compatible[e].version)return document.compatible[e].version.toLowerCase();return""},e.isTouchEnabled=function(){return e.hasTouchStart()||e.hasMaxTouchPoints()||e.hasMsMaxTouchPoints()},e.hasTouchStart=function(){return"ontouchstart"in window},e.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},e.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},e.hasNavigator=function(){return"undefined"!=typeof navigator},e.fillUserAgentInfo=function(t,n,i,o,r){void 0===r&&(r=!1);for(var s=0;s<t.length;s++){var a=t[s];e[a]=a===n}e.Version=Math.floor(10*i)/10,e.MajorVersion=Math.floor(e.Version),e.WindowsPlatform="Win"===o||"WinPhone"===o,e.MacOSMobilePlatform="MacMobile"===o||"Mac"===o&&e.isTouchEnabled(),e.MacOSPlatform="Mac"===o&&!e.MacOSMobilePlatform,e.AndroidMobilePlatform="Android"===o,e.WindowsPhonePlatform="WinPhone"===o,e.WebKitFamily=e.Safari||e.Chrome||e.Opera&&e.MajorVersion>=15,e.NetscapeFamily=e.Netscape||e.Mozilla||e.Firefox,e.WebKitTouchUI=e.MacOSMobilePlatform||e.AndroidMobilePlatform;var l=e.IE&&e.MajorVersion>9&&e.WindowsPlatform&&e.UserAgent.toLowerCase().indexOf("touch")>=0;if(e.MSTouchUI=l||e.Edge&&!!window.navigator.maxTouchPoints,e.TouchUI=e.WebKitTouchUI||e.MSTouchUI,e.MobileUI=e.WebKitTouchUI||e.WindowsPhonePlatform,e.AndroidDefaultBrowser=e.AndroidMobilePlatform&&!e.Chrome,e.AndroidChromeBrowser=e.AndroidMobilePlatform&&e.Chrome,r&&(e.SamsungAndroidDevice=r),e.MSTouchUI){var c=e.UserAgent.toLowerCase().indexOf("arm;")>-1;e.VirtualKeyboardSupported=c||e.WindowsPhonePlatform}else e.VirtualKeyboardSupported=e.WebKitTouchUI;e.fillDocumentElementBrowserTypeClassNames(t)},e.indentPlatformMajorVersion=function(t){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(t);n&&(e.PlaformMajorVersion=n[1])},e.getVersionFromMatches=function(e){var t=-1,n="";return e&&(e[1]&&(n+=e[1],e[2]&&(n+="."+e[2])),""!==n&&(t=parseFloat(n),isNaN(t)&&(t=-1))),t},e.getVersionFromTrident=function(t,n){var i=new RegExp(n,"i").exec(t);return e.getVersionFromMatches(i)+4},e.fillDocumentElementBrowserTypeClassNames=function(t){for(var n="",i=t.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),o=0;o<i.length;o++){var r=i[o];e[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+e.MajorVersion,"undefined"!=typeof document&&document&&document.documentElement&&(""!==document.documentElement.className&&(n=" "+n),e.Info=n,e.applyClassNamesOnDemand(document.documentElement,n))},e.applyClassNamesOnDemand=function(e,t){return new Promise(function(e){n=e}).then(function(){e.className+=t})},e.getUserAgent=function(){return e.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},e.UserAgent=e.getUserAgent(),e._foo=e.IdentUserAgent(e.UserAgent),e}();t.Browser=i},8451:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EvtUtils=void 0;var i=n(8424),o=n(961),r=n(750),s=n(1065),a=function(){function e(){}return e.preventEvent=function(e){e.cancelable&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},e.getEventSource=function(t){return o.isDefined(t)?e.getEventSourceCore(t):null},e.getEventSourceByPosition=function(t){if(!o.isDefined(t))return null;if(!document.elementFromPoint)return e.getEventSourceCore(t);var n=e.getEventX(t)-(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0),i=e.getEventY(t)-(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0);return void 0===n||void 0===i?e.getEventSourceCore(t):document.elementFromPoint(n,i)},e.getEventSourceCore=function(e){return e.srcElement?e.srcElement:e.target},e.getMouseWheelEventName=function(){return i.Browser.Safari?"mousewheel":i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},e.isLeftButtonPressed=function(t){return!!s.TouchUtils.isTouchEvent(t)||!!(t=i.Browser.IE&&o.isDefined(event)?event:t)&&(i.Browser.IE&&i.Browser.Version<11?!!i.Browser.MSTouchUI||t.button%2==1:i.Browser.WebKitFamily?"pointermove"===t.type||"pointerenter"===t.type||"pointerleave"===t.type?1===t.buttons:1===t.which:i.Browser.NetscapeFamily||i.Browser.Edge||i.Browser.IE&&i.Browser.Version>=11?e.isMoveEventName(t.type)?1===t.buttons:1===t.which:!i.Browser.Opera||0===t.button)},e.isMoveEventName=function(t){return t===s.TouchUtils.touchMouseMoveEventName||t===e.getMoveEventName()},e.getMoveEventName=function(){return window.PointerEvent?"pointermove":i.Browser.TouchUI?"touchmove":"mousemove"},e.preventEventAndBubble=function(t){e.preventEvent(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},e.clientEventRequiresDocScrollCorrection=function(){var e=i.Browser.Safari&&i.Browser.Version<3,t=i.Browser.MacOSMobilePlatform&&i.Browser.Version<5.1;return i.Browser.AndroidDefaultBrowser||i.Browser.AndroidChromeBrowser||!(e||t)},e.getEventX=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventX(t):t.clientX+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0)},e.getEventY=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventY(t):t.clientY+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0)},e.cancelBubble=function(e){e.cancelBubble=!0},e.getWheelDelta=function(e){var t;return t=i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?-e.detail:i.Browser.Safari?e.wheelDelta:-e.deltaY,i.Browser.Opera&&i.Browser.Version<9&&(t=-t),t},e}();t.EvtUtils=a},8471:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=n(5215),o=n(1251),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new o.Task},t}(n(5675).CollectionBase);t.TaskCollection=r},8601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Offsets=void 0;var n=function(){function e(e,t,n,i){this.left=e,this.right=t,this.top=n,this.bottom=i}return e.empty=function(){return new e(0,0,0,0)},Object.defineProperty(e.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),e.fromNumber=function(t){return new e(t,t,t,t)},e.fromOffsets=function(t){return new e(t.left,t.right,t.top,t.bottom)},e.fromSide=function(t,n){return new e(t,t,n,n)},e.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.isEmpty=function(){return 0===this.left&&0===this.right&&0===this.top&&0===this.bottom},e.prototype.offset=function(e){return this.left+=e.left,this.right+=e.right,this.top+=e.top,this.bottom+=e.bottom,this},e.prototype.multiply=function(e,t,n,i){switch(arguments.length){case 1:return this.left*=e,this.right*=e,this.top*=e,this.bottom*=e,this;case 2:return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this;case 4:return this.left*=e,this.right*=t,this.top*=n,this.bottom*=i,this}return this},e.prototype.clone=function(){return new e(this.left,this.right,this.top,this.bottom)},e.prototype.copyFrom=function(e){this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom},e.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.right===e.right&&this.left===e.left},e.prototype.applyConverter=function(e){return this.left=e(this.left),this.right=e(this.right),this.top=e(this.top),this.bottom=e(this.bottom),this},e}();t.Offsets=n},8610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesDialogParameters=void 0;var i=n(5215),o=n(2698),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.resources=new o.ResourceCollection,e.resources.addRange(this.resources.items),e},t}(n(3282).DialogParametersBase);t.ResourcesDialogParameters=r},8741:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintViolationDialogParameters=void 0;var i=n(5215),o=function(e){function t(t,n){var i=e.call(this)||this;return i.validationErrors=t,i.callback=n,i}return i.__extends(t,e),t.prototype.clone=function(){var e=new t(this.validationErrors,this.callback);return e.option=this.option,e},Object.defineProperty(t.prototype,"hasCriticalErrors",{get:function(){var e;return null===(e=this.validationErrors)||void 0===e?void 0:e.some(function(e){return e.critical})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"errorsCount",{get:function(){var e;return null===(e=this.validationErrors)||void 0===e?void 0:e.length},enumerable:!1,configurable:!0}),t}(n(3282).DialogParametersBase);t.ConstraintViolationDialogParameters=o},8789:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateSubTaskCommand=void 0;var i=n(5215),o=n(4680),r=n(3550),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(t){t=t||this.control.currentSelectedTaskID;var n=this.control.viewModel.findItem(t);if(n.selected){var i={start:new Date(n.task.start.getTime()),end:new Date(n.task.end.getTime()),title:"New task",progress:0,parentId:t},s=new o.TaskInsertingArguments(null,i);if(this.modelManipulator.dispatcher.notifyTaskCreating(s),!s.cancel){this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,s));var a=this.control.viewModel.findItem(i.parentId);e.prototype.updateParent.call(this,a)}return!s.cancel}return!1},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID);return e.prototype.isEnabled.call(this)&&!!n&&n.selected},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskInsert,t},t}(n(4130).TaskCommandBase);t.CreateSubTaskCommand=s},8885:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditState=void 0;var i=n(5215),o=n(8451),r=n(9312),s=n(9091),a=n(6118),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onStartInternal=function(e){var t;null!==(t=this._source)&&void 0!==t||(this._source=s.TaskAreaDomHelper.getEventSource(o.EvtUtils.getEventSource(e)))},t.prototype.onEndInternal=function(e){this.raiseEvent(this.getEventOnEndKey(),e)},t.prototype.onDragInternal=function(e){var t=this.getRelativePos(e);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:t})},t.prototype.getEventOnDragKey=function(){switch(this._source){case r.TaskAreaEventSource.TaskEdit_Start:return a.TaskAreaStateEventNames.TASK_PROCESS_START;case r.TaskAreaEventSource.TaskEdit_End:return a.TaskAreaStateEventNames.TASK_PROCESS_END;case r.TaskAreaEventSource.TaskEdit_Progress:return a.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},t.prototype.getEventOnEndKey=function(){switch(this._source){case r.TaskAreaEventSource.TaskEdit_Start:return a.TaskAreaStateEventNames.TASK_CONFIRM_START;case r.TaskAreaEventSource.TaskEdit_End:return a.TaskAreaStateEventNames.TASK_CONFIRM_END;case r.TaskAreaEventSource.TaskEdit_Progress:return a.TaskAreaStateEventNames.TASK_END_PROGRESS}},t}(n(7484).TaskDragBaseState);t.TaskEditState=l},8927:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DayWorkingTimeInfo=void 0;var i=n(3693),o=n(3509),r=n(3726),s=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=null),this._workingIntervals=new Array,this.dayNumber=e,this.isWorkDay=t,this.addWorkingIntervals(n)}return e.prototype.addWorkingIntervals=function(e){e&&(this._workingIntervals=this._workingIntervals.concat(e.filter(function(e){return!!e})),this.rearrangeWorkingIntervals())},e.prototype.rearrangeWorkingIntervals=function(){for(var e=0;e<this._workingIntervals.length;e++)this.concatWithIntersectedRanges(this._workingIntervals[e]);this.sortIntervals()},e.prototype.concatWithIntersectedRanges=function(e){var t=this;this.getIntersectedIntervals(e).forEach(function(n){e.concatWith(n),t.removeInterval(n)})},e.prototype.getIntersectedIntervals=function(e){return this._workingIntervals.filter(function(t){return t.hasIntersect(e)&&t!==e})},e.prototype.sortIntervals=function(){this._workingIntervals.sort(function(e,t){return o.DateTimeUtils.caclTimeDifference(t.start,e.start)})},e.prototype.removeInterval=function(e){var t=this._workingIntervals.indexOf(e);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},e.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(e.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){var e=new Array;if(this.isWorkDay&&0===this._workingIntervals.length)return e;var t=this._workingIntervals.map(function(e){return e.end});t.splice(0,0,new r.Time);var n=this._workingIntervals.map(function(e){return e.start});n.push(o.DateTimeUtils.getLastTimeOfDay());for(var s=0;s<t.length;s++){var a=t[s],l=n[s];o.DateTimeUtils.areTimesEqual(a,l)||e.push(new i.TimeRange(a,l))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(e){this._isWorkDay=e,e||this.clearIntervals()},enumerable:!1,configurable:!0}),e}();t.DayWorkingTimeInfo=s},8942:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AssignResourceHistoryItem=void 0;var i=n(5215),o=n(9105),r=n(5593),s=n(594),a=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.taskId=i,o}return i.__extends(t,e),t.prototype.redo=function(){var e;null!==(e=this.insertedKey)&&void 0!==e||(this.insertedKey=s.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:r.GanttDataObjectNames.resourceAssignment,getKey:function(){return e.insertedKey},updateKey:function(t){return e.insertedKey=t}},{objectType:r.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(t){return e.taskId=t}},{objectType:r.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(t){return e.resourceId=t}}]},enumerable:!1,configurable:!0}),t}(o.HistoryItem);t.AssignResourceHistoryItem=a},9017:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaRender=void 0;var i=n(750),o=n(1040),r=function(){function e(e){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=e}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(e){this._renderHelper.renderedRowIndices=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(e){this._renderHelper.renderedColIndices=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),e.prototype.getExternalTaskAreaContainer=function(e){return this._renderHelper.getExternalTaskAreaContainer(e)},e.prototype.prepareExternalTaskAreaContainer=function(e,t){return this._renderHelper.prepareExternalTaskAreaContainer(e,t)},e.prototype.isAllowTaskAreaBorders=function(e){return this._renderHelper.isAllowTaskAreaBorders(e)},e.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},e.prototype.initTaskAreaContainer=function(e){this._renderHelper.createTaskArea(e),this._taskAreaContainer=this.getExternalTaskAreaContainer(e),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,null==this.taskAreaContainer&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(e))},e.prototype.createTaskElement=function(e){this._renderHelper.createTaskElement(e)},e.prototype.removeTaskElement=function(e){this._renderHelper.removeTaskElement(e)},e.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},e.prototype.prepareTaskAreaContainer=function(){var e="dx-gantt-tac-hb",t=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?i.DomUtils.addClassName(t,e):i.DomUtils.removeClassName(t,e);var n=parseInt(getComputedStyle(t).getPropertyValue("margin-top"))||0,o="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+n,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(t,{height:o}):t.style.height=o},e.prototype.createTaskAreaContainer=function(){var e=document.createElement("DIV");e.className="dx-gantt-tac",this.mainElement.appendChild(e),this.initTaskAreaContainer(e),this.prepareTaskAreaContainer()},e.prototype.createTaskAreaBorder=function(e,t){var n=this.gridLayoutCalculator.getTaskAreaBorderInfo(e,t);o.RenderElementUtils.create(n,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.createTaskArea=function(){var e=document.createElement("DIV");return e.id="dx-gantt-ta",e},e.prototype.removeTaskAreaBorder=function(e,t){o.RenderElementUtils.remove(null,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.createTaskAreaBorderAndTaskElement=function(e,t){this.isAllowTaskAreaBorders(t)&&this.createTaskAreaBorder(e,!t),t&&this.createTaskElement(e)},e.prototype.removeTaskAreaBorderAndTaskElement=function(e,t){this.isAllowTaskAreaBorders(t)&&this.removeTaskAreaBorder(e,!t),t&&this.removeTaskElement(e)},e.prototype.recreateTaskAreaBordersAndTaskElements=function(e){var t=this,n=e?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,i=this.gridLayoutCalculator.getRenderedRowColumnIndices(n,e),r=e?this.renderedRowIndices:this.renderedColIndices;o.RenderElementUtils.recreate(r,i,function(n){t.removeTaskAreaBorderAndTaskElement(n,e)},function(n){t.createTaskAreaBorderAndTaskElement(n,e)}),e?this.renderedRowIndices=i:this.renderedColIndices=i,this.gridLayoutCalculator.createTileToConnectorLinesMap()},e.prototype.getTaskAreaBordersDictionary=function(e){return e?this.vertTaskAreaBorders:this.horTaskAreaBorders},e.prototype.setSizeForTaskArea=function(e,t){this.taskArea.style.width=e+"px",this.taskArea.style.height=t+"px"},e.prototype.createHighlightRowElement=function(e){var t=this.gridLayoutCalculator.getHighlightRowInfo(e);o.RenderElementUtils.create(t,e,this.taskArea,this.hlRowElements)},e}();t.TaskAreaRender=r},9030:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EncodeUtils=void 0;var n=function(){function e(){}return e.encodeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.decodeHtml=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},e.prepareTextForRequest=function(e){return e.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},e.prepareTextForCallBackRequest=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.decodeViaTextArea=function(e){var t=document.createElement("TEXTAREA");return t.innerHTML=e,t.value},e}();t.EncodeUtils=n},9091:(e,t,n)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaDomHelper=void 0;var o=n(750),r=n(8451),s=n(2792),a=n(9312),l=n(3402),c=function(){function e(){}return e.getEventSource=function(t){var n,i=(t.nodeType===(null===(n=null===window||void 0===window?void 0:window.Node)||void 0===n?void 0:n.ELEMENT_NODE)?t:t.parentNode).classList[0];return e.classToSource[i]||a.TaskAreaEventSource.TaskArea},e.isConnectorLine=function(e){var t=r.EvtUtils.getEventSource(e);return o.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||o.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},e.isTaskElement=function(t){var n=r.EvtUtils.getEventSource(t),i=e.classToSource[n.classList[0]];return i===a.TaskAreaEventSource.TaskEdit_Frame||i===a.TaskAreaEventSource.TaskEdit_Progress||i===a.TaskAreaEventSource.TaskEdit_Start||i===a.TaskAreaEventSource.TaskEdit_End||i===a.TaskAreaEventSource.TaskEdit_DependencyStart||i===a.TaskAreaEventSource.TaskEdit_DependencyFinish},e.isMouseEvent=function(e){return e instanceof MouseEvent},e.isTouchEvent=function(e){return window.TouchEvent&&e instanceof TouchEvent},e.isPointerEvent=function(e){return window.PointerEvent&&e instanceof PointerEvent},e.isMousePointer=function(e){return this.isPointerEvent(e)&&"mouse"===e.pointerType},e.classToSource=((i={})[s.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=a.TaskAreaEventSource.TaskEdit_Progress,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_START]=a.TaskAreaEventSource.TaskEdit_Start,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_END]=a.TaskAreaEventSource.TaskEdit_End,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=a.TaskAreaEventSource.TaskEdit_Frame,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=a.TaskAreaEventSource.TaskEdit_DependencyStart,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=a.TaskAreaEventSource.TaskEdit_DependencyFinish,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=a.TaskAreaEventSource.Successor_DependencyStart,i[s.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=a.TaskAreaEventSource.Successor_DependencyFinish,i),e}();t.TaskAreaDomHelper=c},9105:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItem=void 0;var n=function(){function e(e){this.setModelManipulator(e)}return e.prototype.setModelManipulator=function(e){this.modelManipulator=e},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),e}();t.HistoryItem=n},9119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveTaskCommand=void 0;var i=n(5215),o=n(6172),r=n(338),s=n(6272),a=n(2254),l=n(3771),c=n(1470),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i,s,a,l){var c=this;return void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===s&&(s=!0),this.isApiCall=i,this.isUpdateParentTaskRequired=s,n?(this.control.commandManager.showConfirmationDialog.execute(new r.ConfirmationDialogParameters(o.ConfirmationType.TaskDelete,function(){c.executeInternal(t,a,l)})),!1):e.prototype.execute.call(this,t,a,l)},t.prototype.executeInternal=function(n,i,o){var r=this,d=o||[];n=n||this.control.currentSelectedTaskID;var u=this.control.viewModel.findItem(n),p=u?u.task:this.control.viewModel.tasks.getItemById(n),h=new s.TaskRemovingArguments(p);if(this.modelManipulator.dispatcher.notifyTaskRemoving(h),h.cancel)return!1;var g=this.history,f=this.control.viewModel;g.beginTransaction(),f.beginUpdate();var m=!!i,y=new c.RemoveTaskHistoryItem(this.modelManipulator,n),v=f.tasks.items.filter(function(e){return e.parentId===n}),T=v.map(function(e){return e.internalId}),_=f.dependencies.items.filter(function(e){return-1===d.indexOf(e.internalId)&&(e.predecessorId===n||e.successorId===n)&&!T.some(function(t){return e.predecessorId===t||e.successorId===t})});if(_.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;_.forEach(function(e){y.add(new a.RemoveDependencyHistoryItem(r.modelManipulator,e.internalId)),d.push(e.internalId)})}if(f.assignments.items.filter(function(e){return e.taskId===n}).forEach(function(e){r.modelManipulator.dispatcher.fireResourceUnassigning(e)&&y.add(new l.DeassignResourceHistoryItem(r.modelManipulator,e.internalId))}),v.reverse().forEach(function(e){return new t(r.control).execute(e.internalId,!1,!0,!1,y,d)}),m?i.add(y):g.addAndRedo(y),this.isUpdateParentTaskRequired){var k=this.control.viewModel.findItem(p.parentId);e.prototype.updateParent.call(this,k)}return g.endTransaction(),f.endUpdate(),!0},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID);return e.prototype.isEnabled.call(this)&&(!!n&&n.selected||this.isApiCall)},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskDelete,t},t}(n(4130).TaskCommandBase);t.RemoveTaskCommand=d},9129:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Month=void 0,function(e){e[e.January=0]="January",e[e.February=1]="February",e[e.March=2]="March",e[e.April=3]="April",e[e.May=4]="May",e[e.June=5]="June",e[e.July=6]="July",e[e.August=7]="August",e[e.September=8]="September",e[e.October=9]="October",e[e.November=10]="November",e[e.December=11]="December"}(t.Month||(t.Month={}))},9150:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Yearly=void 0;var i=n(5215),o=n(6711),r=n(3509),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!!r.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getYearsDifference(this.start,e),n=Math.floor(t/this.interval)*this.interval,i=this.start.getFullYear()+n,o=this.getSpecDayInMonth(i,this.monthInternal);return r.DateTimeUtils.compareDates(o,e)>=0&&(i+=this.interval,o=this.getSpecDayInMonth(i,this.monthInternal)),o},t.prototype.calculateNearestPoint=function(e){var t=e.getFullYear(),n=this.getSpecDayInMonth(t,this.monthInternal);return r.DateTimeUtils.compareDates(n,e)>=0&&(n=this.getSpecDayInMonth(++t,this.monthInternal)),n},Object.defineProperty(t.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Yearly=s},9244:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PdfTaskInfo=void 0;var i=n(5327),o=n(1922),r=n(2945),s=function(){function e(){}return Object.defineProperty(e.prototype,"left",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=this.bottom-this.top;return this.isParent&&(t-=e.defaultParentHeightCorrection),t},enumerable:!1,configurable:!0}),e.prototype.assign=function(e){var t,n,i;this.isMilestone=e.isMilestone,this._copyPoints(e.sidePoints),this.progressWidth=e.progressWidth,this.isSmallTask=e.isSmallTask,this.text=e.text,this.textPosition=e.textPosition,null!==(t=this.progressColor)&&void 0!==t||(this.progressColor=new o.Color),this.progressColor.assign(e.progressColor),null!==(n=this.taskColor)&&void 0!==n||(this.taskColor=new o.Color),this.taskColor.assign(e.taskColor),null!==(i=this.textStyle)&&void 0!==i||(this.textStyle=new r.StyleDef),this.textStyle.assign(e.textStyle),this.isParent=e.isParent},e.prototype._copyPoints=function(e){var t=this;this.sidePoints=new Array,null==e||e.forEach(function(e){return t.sidePoints.push(new i.Point(e.x,e.y))})},e.defaultParentHeightCorrection=4,e}();t.PdfTaskInfo=s},9299:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskUpdatingArguments=void 0;var i=n(5215),o=function(e){function t(t,n){var i=e.call(this,t.id)||this;return i.values=t,i.createNewValues(n),i}return i.__extends(t,e),t.prototype.createNewValues=function(e){var t=this;this.newValues={};var n=function(n){Object.prototype.hasOwnProperty.call(e,n)&&(i.newValues[n]=e[n],Object.defineProperty(i,n,{get:function(){return t.newValues[n]}}))},i=this;for(var o in e)n(o)},t}(n(1237).BaseArguments);t.TaskUpdatingArguments=o},9312:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaEventSource=t.TaskTitlePosition=t.Position=t.ViewType=void 0,function(e){e[e.TenMinutes=0]="TenMinutes",e[e.Hours=1]="Hours",e[e.SixHours=2]="SixHours",e[e.Days=3]="Days",e[e.Weeks=4]="Weeks",e[e.Months=5]="Months",e[e.Quarter=6]="Quarter",e[e.Years=7]="Years",e[e.FiveYears=8]="FiveYears"}(t.ViewType||(t.ViewType={})),function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom"}(t.Position||(t.Position={})),function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside",e[e.None=2]="None"}(t.TaskTitlePosition||(t.TaskTitlePosition={})),function(e){e[e.TaskArea=0]="TaskArea",e[e.TaskEdit_Frame=1]="TaskEdit_Frame",e[e.TaskEdit_Progress=2]="TaskEdit_Progress",e[e.TaskEdit_Start=3]="TaskEdit_Start",e[e.TaskEdit_End=4]="TaskEdit_End",e[e.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",e[e.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",e[e.Successor_Wrapper=7]="Successor_Wrapper",e[e.Successor_DependencyStart=8]="Successor_DependencyStart",e[e.Successor_DependencyFinish=9]="Successor_DependencyFinish"}(t.TaskAreaEventSource||(t.TaskAreaEventSource={}))},9384:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorManipulator=void 0;var i=n(5215),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.color},t.prototype.setPropertyValue=function(e,t){e.color=t,this.dispatcher.notifyResourceColorChanged(e.id,t,this.getErrorCallback())},t}(n(3634).ResourcePropertyManipulator);t.ResourceColorManipulator=o},9392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesManipulator=void 0;var i=n(5215),o=n(5593),r=n(3161),s=n(8374),a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.properties=new s.ResourcePropertiesManipulator(t,n),i}return i.__extends(t,e),t.prototype.create=function(e,t,n,i){var r=this.viewModel;r.onBeginDataObjectCreate();var s=r.resources.createItem();return s.text=e,t&&(s.color=t),n&&(s.internalId=n),s.id=s.internalId,this.viewModel.resources.add(s),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(s),function(e){var t=s.internalId;s.updateId(e),r.processServerInsertedKey(t,s.internalId,o.GanttDataObjectNames.resource),i&&i(e)},this.getErrorCallback()),r.onEndDataObjectCreate(),s},t.prototype.remove=function(e){var t=this.viewModel.resources.getItemById(e);if(!t)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter(function(t){return t.resourceId===e}).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(t),this.dispatcher.notifyResourceRemoved(t.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(t)),t},t.prototype.assign=function(e,t,n){var i=this.viewModel;i.onBeginDataObjectCreate();var r=i.assignments.createItem();return r.resourceId=e,r.taskId=t,n&&(r.internalId=n),r.id=r.internalId,this.viewModel.assignments.add(r),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(r),function(e){var t=r.internalId;r.updateId(e),i.processServerInsertedKey(t,r.internalId,o.GanttDataObjectNames.resourceAssignment)},this.getErrorCallback()),this.viewModel.updateModel(),i.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),r},t.prototype.deassig=function(e){var t=this.viewModel.assignments.getItemById(e);return this.viewModel.assignments.remove(t),this.dispatcher.notifyResourceUnassigned(t.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(t)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getResourceObjectForDataSource=function(e){return{id:e.id,text:e.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(e){return{id:e.id,taskId:this.viewModel.tasks.getItemById(e.taskId).id,resourceId:this.viewModel.resources.getItemById(e.resourceId).id}},t}(r.BaseManipulator);t.ResourcesManipulator=a},9443:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTaskRender=void 0;var i=n(9312),o=n(1040),r=function(){function e(e,t){this._pendingTemplateFuncsToRender=[],this._renderHelper=e,this._taskRender=t}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),e.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},e.prototype.getTask=function(e){return this._renderHelper.getTask(e)},e.prototype.destroyTemplate=function(e){this._renderHelper.destroyTemplate(e)},e.prototype.getTaskDependencies=function(e){return this._renderHelper.getTaskDependencies(e)},e.prototype.getTaskResources=function(e){return this._renderHelper.getTaskResources(e)},e.prototype.attachEventsOnTask=function(e){this._renderHelper.attachEventsOnTask(e)},e.prototype.recreateConnectorLineElement=function(e,t){void 0===t&&(t=!1),this._renderHelper.recreateConnectorLineElement(e,t)},e.prototype.createTaskSelectionElement=function(e){this._taskRender.createTaskSelectionElement(e)},e.prototype.createCustomTaskElement=function(e,t){if(this._saveTemplateFuncToStack(e,t),!this._hasRepeatedTemplateRenderCall(e)){var n=this.getViewItem(e);if(n){n.isCustom=!1;var i=document.createElement("DIV"),o=this.createCustomTaskInformation(e);n.isCustom=!0,t(i,o,this.onTaskTemplateContainerRendered.bind(this),e)}this._clearTemplateFuncsStack(e)}},e.prototype.onTaskTemplateContainerRendered=function(e,t){var n=this;if(this._hasRepeatedTemplateRenderCall(t)){e&&this._renderHelper.destroyTemplate(e);var i=this._getLastPendingTemplateFunc(t);setTimeout(function(){return n.createCustomTaskElement(t,i)})}else this.drawCustomTask(e,t);this._clearTemplateFuncsStack(t)},e.prototype._saveTemplateFuncToStack=function(e,t){var n,i;null!==(n=(i=this._pendingTemplateFuncsToRender)[e])&&void 0!==n||(i[e]=[]),this._pendingTemplateFuncsToRender[e].push(t)},e.prototype._clearTemplateFuncsStack=function(e){this._pendingTemplateFuncsToRender[e]=[]},e.prototype._hasRepeatedTemplateRenderCall=function(e){return this._pendingTemplateFuncsToRender[e].length>1},e.prototype._getLastPendingTemplateFunc=function(e){var t=this._pendingTemplateFuncsToRender[e];return t[t.length-1]},e.prototype.createCustomTaskWrapperElement=function(e,t){o.RenderElementUtils.create(t,e,this.taskArea,this.taskElements)},e.prototype.createCustomTaskVisualElement=function(e,t){return o.RenderElementUtils.create(t,e,this.taskElements[e])},e.prototype.drawCustomTask=function(e,t){var n=this,i=this.getViewItem(t);if(i&&this.taskElements[t]){if(i.visible=!!e.innerHTML,this.taskElements[t].innerHTML=e.innerHTML,i.size.height=this.taskElements[t].offsetHeight,i.size.width=this.taskElements[t].offsetWidth,this.destroyTemplate(this.taskElements[t]),this._taskRender.removeTaskElement(t),i.visible&&i.task.isValid()){var o=this.gridLayoutCalculator.getTaskWrapperElementInfo(t);this.createCustomTaskWrapperElement(t,o),this.taskElements[t].appendChild(e),this.attachEventsOnTask(t)}else{var r=this.getTaskDependencies(i.task.internalId);r.length&&(this._taskRender.addInvalidTaskDependencies(r),r.forEach(function(e){return n.recreateConnectorLineElement(e.internalId,!0)}))}this._taskRender.isHighlightRowElementAllowed(t)&&this._taskRender.createHighlightRowElement(t),i.selected&&this.createTaskSelectionElement(t)}},e.prototype.createCustomTaskInformation=function(e){var t=this.getTask(e),n=this.getViewItem(e),o=this.gridLayoutCalculator.getTaskWrapperElementInfo(e),r=this.gridLayoutCalculator.getTaskElementInfo(e,this.taskTitlePosition!==i.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(e,o);var s=this.taskElements[e];this._renderHelper.taskTitlePosition===i.TaskTitlePosition.Outside&&this._taskRender.createTaskTextElement(e,s),this.createCustomTaskVisualElement(e,r);var a=this.getTaskResources(t.id);return{cellSize:this.tickSize,isMilestone:t.isMilestone(),isParent:!!(null==n?void 0:n.children.length),taskData:t,taskHTML:s.children,taskPosition:o.position,taskResources:a,taskSize:r.size}},e}();t.CustomTaskRender=r},9523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Margin=void 0;var i=n(961),o=n(750),r=function(){function e(e){this.assign(e)}return e.prototype.assign=function(e){if((0,i.isDefined)(e))if("string"==typeof e)this.assignFromString(e);else if("number"==typeof e||e instanceof Array)this.assignWithValues(e);else{var t=e||e;this.assignWithMargin(t)}},e.prototype.assignFromString=function(e){var t=e.split(" ").map(function(e){return o.DomUtils.pxToInt(e)});this.assignWithValues(t)},e.prototype.assignWithMargin=function(e){(0,i.isDefined)(e.top)&&(this.top=e.top),(0,i.isDefined)(e.right)&&(this.right=e.right),(0,i.isDefined)(e.bottom)&&(this.bottom=e.bottom),(0,i.isDefined)(e.left)&&(this.left=e.left)},e.prototype.assignWithValues=function(e){var t=this.getCorrectedValues(e);this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]},e.prototype.getCorrectedValues=function(e){var t=[this.top,this.right,this.bottom,this.left];if("number"==typeof e)t=[e,e,e,e];else{var n=e;switch(n.length){case 1:t=[n[0],n[0],n[0],n[0]];break;case 2:t=[n[0],n[1],n[0],n[1]];break;case 3:t=[n[0],n[1],n[2],n[1]];break;default:n.forEach(function(e,n){return t[n]=e})}}return t},e.prototype.hasValue=function(){return(0,i.isDefined)(this.top)||(0,i.isDefined)(this.left)||(0,i.isDefined)(this.right)||(0,i.isDefined)(this.bottom)},e.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var e={};return(0,i.isDefined)(this.top)&&(e.top=this.top),(0,i.isDefined)(this.left)&&(e.left=this.left),(0,i.isDefined)(this.right)&&(e.right=this.right),(0,i.isDefined)(this.bottom)&&(e.bottom=this.bottom),e},e}();t.Margin=r},9643:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Daily=void 0;var i=n(5215),o=n(6711),r=n(3509),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!0},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.interval;return this.isRecurrencePoint(e)||(t-=r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),r.DateTimeUtils.addDays(e,t)},t.prototype.calculateNearestPoint=function(e){return r.DateTimeUtils.addDays(e,1)},t}(o.RecurrenceBase);t.Daily=s},9747:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Weekly=void 0;var i=n(5215),o=n(6711),r=n(3509),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return r.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getWeeksBetween(this.start,e),n=Math.floor(t/this.interval);(t%this.interval>0||e.getDay()>=this.dayOfWeekInternal)&&n++;var i=n*this.interval;return this.calcNextPointWithWeekCount(this.start,i)},t.prototype.calculateNearestPoint=function(e){var t=this.dayOfWeekInternal-e.getDay();return t>0?r.DateTimeUtils.addDays(new Date(e),t):this.calcNextPointWithWeekCount(e,1)},t.prototype.calcNextPointWithWeekCount=function(e,t){void 0===t&&(t=1);var n=7*t+this.dayOfWeekInternal-e.getDay();return r.DateTimeUtils.addDays(new Date(e),n)},Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Weekly=s},9795:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EtalonsHelper=void 0;var i=n(750),o=n(9312),r=n(7678),s=n(1040),a=function(){function e(e){this._renderHelper=e}return Object.defineProperty(e.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),e.prototype.getScaleItemTextTemplate=function(e){return this._renderHelper.getScaleItemTextTemplate(e)},e.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},e.prototype.getSmallTaskWidth=function(e){return this._renderHelper.getSmallTaskWidth(e)},e.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},e.prototype.createEtalonElements=function(e){var t=[],n=s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-taskWrapper"),null,e),i=s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-task"),null,n);s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,i).innerText="WWW",t.push(n);var o=s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-taskWrapper"),null,e);s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,o),t.push(o);for(var a=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],l=0;l<a.length;l++){var c=new r.GridElementInfo(a[l]);t.push(s.RenderElementUtils.create(c,null,e))}var d=s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-taskWrapper"),null,e),u=s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,d);return s.RenderElementUtils.create(new r.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,u).innerText="WWW",t.push(d),t},e.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),t=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(t),this.mainElement.removeChild(e)},e.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=i.DomUtils.pxToInt(i.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=i.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=i.DomUtils.getHorizontalBordersWidth(e[3]);for(var t=0;t<=o.ViewType.Years;t++)e[4].innerText=this.getScaleItemTextTemplate(t),this.etalonSizeValues.scaleItemWidths[t]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(i.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=i.DomUtils.pxToFloat(i.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},e}();t.EtalonsHelper=a},9873:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeekMonthlyOccurrence=void 0,function(e){e[e.First=0]="First",e[e.Second=1]="Second",e[e.Third=2]="Third",e[e.Forth=3]="Forth",e[e.Last=4]="Last"}(t.DayOfWeekMonthlyOccurrence||(t.DayOfWeekMonthlyOccurrence={}))},9895:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GanttJsonUtils=void 0;var i=n(7558),o=function(){function e(){}return e.parseJson=function(e){return i.JsonUtils.isValid(e)?JSON.parse(e):null},e}();t.GanttJsonUtils=o},9896:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaExportHelper=void 0;var i=n(750),o=n(4414),r=n(3402),s=n(3227),a=n(1922),l=n(6100),c=function(){function e(e,t){this._owner=e,this._props=t}return Object.defineProperty(e.prototype,"customRangeLeftOffset",{get:function(){var e;return null!==(e=this._customRangeLeftOffset)&&void 0!==e||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var e=this.visibleTaskIndices[0];return this.getCellTop(e)+this.getTaskCellOffsetTop(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetLeft",{get:function(){var e;return null!==(e=this._offsetLeft)&&void 0!==e||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){var e;return null!==(e=this._offsetTop)&&void 0!==e||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){var e=this.settings.viewType;return[s.DateUtils.ViewTypeToScaleMap[e],e]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleRanges",{get:function(){var e;return null!==(e=this._scaleRanges)&&void 0!==e||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopWidths",{get:function(){var e;return null!==(e=this._scaleTopWidths)&&void 0!==e||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBottomWidths",{get:function(){var e;return null!==(e=this._scaleBottomWidths)&&void 0!==e||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var e=this.scaleElements[0].filter(function(e){return!!e&&e.offsetHeight})[0];this._headerRowHeight=null==e?void 0:e.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTaskIndices",{get:function(){var e;return null!==(e=this._visibleTaskIndices)&&void 0!==e||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTableStyle",{get:function(){var e;return null!==(e=this._scaleTableStyle)&&void 0!==e||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartMainTableStyle",{get:function(){var e;return null!==(e=this._chartMainTableStyle)&&void 0!==e||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentRowBackColor",{get:function(){var e;return null!==(e=this._parentRowBackColor)&&void 0!==e||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arrowWidth",{get:function(){var e;return null!==(e=this._arrowWidth)&&void 0!==e||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dependencyColor",{get:function(){var e;return null!==(e=this._dependencyColor)&&void 0!==e||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),e.prototype.getTaskElementBackColor=function(e,t){var n=this.getTaskElementStyle(e,t);return null==n?void 0:n.backgroundColor},e.prototype.getTaskElementStyle=function(e,t){var n=this.getTaskWrapper(e);return this.getElementStyle(n.getElementsByClassName(t)[0])},e.prototype.isElementVisible=function(e){return e&&"none"!==getComputedStyle(e).display},Object.defineProperty(e.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleLeft",{get:function(){var e;return null!==(e=this._visibleLeft)&&void 0!==e||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTop",{get:function(){var e;return null!==(e=this._visibleTop)&&void 0!==e||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleRight",{get:function(){var e;return null!==(e=this._visibleRight)&&void 0!==e||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),e.prototype.getVisibleRight=function(){var e=this.container.getElement().offsetWidth;return this.visibleLeft+e},Object.defineProperty(e.prototype,"visibleBottom",{get:function(){var e;return null!==(e=this._visibleBottom)&&void 0!==e||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),e.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(e.prototype,"scaleLeft",{get:function(){var e;return null!==(e=this._scaleLeft)&&void 0!==e||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleRight",{get:function(){var e;return null!==(e=this._scaleRight)&&void 0!==e||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),e.prototype.getScaleTopWidths=function(){var e=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),t=this.layoutCalculator,n=t.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),i=t.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),o=Math.max(n.position.x-i.position.x,0);e[this.scaleTopStartIndex]-=o;var r=t.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),s=t.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return o=Math.max(r.position.x+r.size.width-s.position.x-s.size.width,0),e[this.scaleTopEndIndex]-=o,e},e.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},e.prototype.getScaleWidths=function(e,t,n){for(var i=new Array,o=e;o<=t;o++)i[o]=this.layoutCalculator.getScaleItemInfo(o,n).size.width;return i},e.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(e.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),e.prototype.getTaskCellOffsetTop=function(e){var t=this.getCellTop(e);return Math.max(this.visibleTop-t,0)},e.prototype.getCellTop=function(e){return this.layoutCalculator.getGridBorderPosition(e-1,!1).y},e.prototype.getCellLeft=function(e){return this.layoutCalculator.getScaleItemInfo(e,this.scales[1]).position.x},e.prototype.getTaskIndices=function(){var e,t;return this.dataMode===l.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices(null===(e=this.exportRange)||void 0===e?void 0:e.startIndex,null===(t=this.exportRange)||void 0===t?void 0:t.endIndex):this.getVisibleTaskIndices()},e.prototype.getVisibleTaskIndices=function(){var e=this,t=[];return this.taskElements.forEach(function(n,o){if(n){var r=i.DomUtils.pxToInt(n.style.top),s=r+n.offsetHeight,a=r>=e.visibleTop&&r<=e.visibleBottom,l=s>=e.visibleTop&&s<=e.visibleBottom;(a||l)&&t.push(o)}}),t},Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter(function(e){return!!e})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter(function(e){return!!e})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectorLines",{get:function(){var e,t=this;return null!==(e=this._connectorLines)&&void 0!==e||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter(function(e){return t.isLineVisible(e)})),this._connectorLines},enumerable:!1,configurable:!0}),e.prototype.isLineVisible=function(e){if(this.dataMode===l.DataExportMode.all)return!0;var t=e.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(t)>-1},Object.defineProperty(e.prototype,"visibleDependencyKeys",{get:function(){var e;return null!==(e=this._visibleDependencyKeys)&&void 0!==e||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesElements",{get:function(){var e,t=this;return null!==(e=this._resourcesElements)&&void 0!==e||(this._resourcesElements=this.visibleTaskIndices.map(function(e){return t._owner.renderHelper.resourcesElements[e]}).filter(function(e){return t.isElementVisible(e)&&e.parentElement})),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var e=this._owner.renderHelper.stripLinesMap.filter(function(e){return!!e}).map(function(e){return e});this._stripLinesElements=e.map(function(e){return e})}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var e=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&this._noWorkingIntervalsElements.push(e[t])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataMode",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportRange",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisibleMode",{get:function(){return this.dataMode===l.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startDate",{get:function(){var e,t,n,i;if((null===(e=this.exportRange)||void 0===e?void 0:e.startDate)&&(null===(t=this.exportRange)||void 0===t?void 0:t.endDate)){var o=Math.min(null===(n=this.exportRange)||void 0===n?void 0:n.startDate.getTime(),null===(i=this.exportRange)||void 0===i?void 0:i.endDate.getTime());return new Date(o)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endDate",{get:function(){var e,t,n,i;if((null===(e=this.exportRange)||void 0===e?void 0:e.startDate)&&(null===(t=this.exportRange)||void 0===t?void 0:t.endDate)){var o=Math.max(null===(n=this.exportRange)||void 0===n?void 0:n.startDate.getTime(),null===(i=this.exportRange)||void 0===i?void 0:i.endDate.getTime());return new Date(o)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var e=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new r.GridLayoutCalculator,this._layoutCalculator.setSettings(e.visibleTaskAreaSize,e.tickSize,e.elementSizeValues,new o.DateRange(this.startDate,this.endDate),e.viewModel,e.viewType,e.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=e}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),e.prototype.getPosByDate=function(e){return this.layoutCalculator.getPosByDate(e)},e.prototype.getScaleTableStyle=function(){var e={},t=this.scaleElements[0].filter(function(e){return!!e})[0],n=this.getElementStyle(t);return e.backgroundColor=this.findElementBackColor(t),e.borderColor=this.getChartTableBorderColor(),e.verticalAlign="middle",e.textAlign="center",e.fontSize=n.fontSize,e.fontFamily=n.fontFamily,e.fontWeight=n.fontWeight,e.fontStyle=n.fontStyle,e.color=n.color,e},e.prototype.getChartMainTableStyle=function(){var e={};return e.backgroundColor=this.findElementBackColor(this.taskArea),e.borderColor=this.getChartTableBorderColor(),e},e.prototype.findElementBackColor=function(e){if(!e)return null;for(var t=e,n=new a.Color("transparent");0===n.opacity&&t;){var i=this.getElementStyle(t);n.assign(i.backgroundColor),t=t.parentElement}return n},e.prototype.getChartTableBorderColor=function(){var e=this.getElementStyle(this.scaleBorders[0].filter(function(e){return!!e})[0]);return null==e?void 0:e.borderColor},e.prototype.getParentBackColor=function(){var e=this.getElementStyle(this.hlRowElements[0]);return null==e?void 0:e.backgroundColor},e.prototype.getArrowWidth=function(){var e=this.getDependencyLineStyle(r.GridLayoutCalculator.arrowClassName),t=e.borderWidth||e.borderLeftWidth||e.borderRightWidth||e.borderTopWidth||e.borderBottomWidth;return e&&i.DomUtils.pxToInt(t)},e.prototype.getDependencyColor=function(){var e=this.getDependencyLineStyle(r.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return null==e?void 0:e.borderColor},e.prototype.getDependencyLineStyle=function(e){return this.getElementStyle(this.taskArea.getElementsByClassName(e)[0])},e.prototype.getElementStyle=function(e){return e&&getComputedStyle(e)},e.prototype.getTaskWrapper=function(e){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[e]||this._owner.renderHelper.createDefaultTaskElement(e),this.taskElements[e])},Object.defineProperty(e.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),e}();t.TaskAreaExportHelper=c},9912:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleCalculator=t.ScaleItemInfo=void 0;var i=n(5327),o=n(3844),r=n(3227),s=n(9312),a=function(e,t,n,i){this.start=e,this.end=t,this.position=n,this.size=i};t.ScaleItemInfo=a;var l=function(){function e(){this.firstDayOfWeek=0}return e.prototype.setSettings=function(e,t,n,i){void 0===i&&(i=0),this.range=e,this.viewType=t,this.tickSize=n,this.firstDayOfWeek=i,this.reset()},e.prototype.setViewType=function(e){this.viewType=e,this.reset()},e.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},e.prototype.getScaleIndexByPos=function(e,t){null!=t||(t=this.viewType);var n=t===this.viewType?this.bottomScaleItems:this.topScaleItems,i=-1;if(n.findIndex)i=n.findIndex(function(t){return e>=t.position.x&&e<=t.position.x+t.size.width});else{var o=n.filter(function(t){return e>=t.position.x&&e<=t.position.x+t.size.width})[0];o&&(i=n.indexOf(o))}return i},e.prototype.getScaleBorderPosition=function(e,t){var n=this.getScaleItems(t)[e];if(n)return n.position.x+n.size.width},e.prototype.getScaleItems=function(e){return e===this.viewType?this.bottomScaleItems:e===r.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},e.prototype.getScaleItem=function(e,t){return this.getScaleItems(t)[e]},e.prototype.getScaleItemAdjustedStart=function(e,t){var n=this.getScaleItems(t)[e];if(e>0)return n.start;var i=t!==this.viewType,o=i?r.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(n.start,t,this.firstDayOfWeek);if(i&&t===s.ViewType.Months){var a=this.range.start;o=new Date(a.getFullYear(),a.getMonth(),1)}if(i&&t===s.ViewType.FiveYears){var l=5*Math.trunc(o.getFullYear()/5);o=new Date(l,o.getMonth(),o.getDate())}return o},Object.defineProperty(e.prototype,"topScaleItems",{get:function(){var e;return null!==(e=this._topScaleItems)&&void 0!==e||(this._topScaleItems=this.calculateTopScale(r.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomScaleItems",{get:function(){var e;return null!==(e=this._bottomScaleItems)&&void 0!==e||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleWidth",{get:function(){var e;return null!==(e=this._scaleWidth)&&void 0!==e||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),e.prototype.getFirstScaleIndexForRender=function(e){var t=this.getScaleIndexByPos(e);return Math.max(t-10,0)},e.prototype.getLastScaleIndexForRender=function(e){var t=this.getScaleIndexByPos(e);return-1===t?this.bottomScaleItems.length-1:Math.min(t+10,this.bottomScaleItems.length-1)},e.prototype.getTopScaleIndexByBottomIndex=function(e){var t=this.bottomScaleItems[e];return t?this.getScaleIndexByPos(t.position.x,r.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},e.prototype.calculateBottomScale=function(e){for(var t=new Array,n=this.tickSize.width,l=this.range.start,c=0;l.getTime()<this.range.end.getTime();){var d=this.getNextScaleDate(l,e),u=l.getTime()===this.range.start.getTime(),p=d.getTime()>=this.range.end.getTime(),h=u||p||e>s.ViewType.Hours&&r.DateUtils.hasDST()?this.getRangeTickCount(l,d)*n:n;t.push(new a(l,d,new i.Point(c,void 0),new o.Size(h,0))),l=d,c+=h}return t},e.prototype.calculateTopScale=function(e){for(var t=new Array,n=this.range.end.getTime(),r=this.range.start,s=0,l=0;r.getTime()<n;)for(var c=this.getNextScaleDate(r,e),d=c.getTime(),u=l;u<this.bottomScaleItems.length;u++){var p=this.bottomScaleItems[u],h=p.start.getTime(),g=p.end.getTime();if(d>=h&&d<=g){var f=(d-h)/(g-h)*p.size.width+p.position.x;t.push(new a(r,c,new i.Point(s,void 0),new o.Size(f-s,0))),l=u,s=f,r=c;break}}return t},e.prototype.getDateInScale=function(e){if(e<0){var t=e/this.tickSize.width,n=r.DateUtils.getTickTimeSpan(this.viewType);return new Date(this.range.start.getTime()+t*n)}for(var i=0;i<this.bottomScaleItems.length;i++){var o=this.bottomScaleItems[i],s=o.size.width,a=o.position.x;if(e>=a&&e<=a+s){var l=o.start.getTime();return t=(e-a)/s*(o.end.getTime()-l),new Date(o.start.getTime()+t)}}return new Date(this.range.end)},e.prototype.getNextScaleDate=function(e,t){var n;switch(t){case s.ViewType.TenMinutes:n=this.getNextDateInTenMinutesScale(e);break;case s.ViewType.Hours:n=this.getNextDateInHoursScale(e);break;case s.ViewType.SixHours:n=this.getNextDateInSixHoursScale(e);break;case s.ViewType.Days:n=this.getNextDateInDaysScale(e);break;case s.ViewType.Weeks:n=this.getNextDateInWeeksScale(e,this.firstDayOfWeek);break;case s.ViewType.Months:n=this.getNextDateInMonthsScale(e);break;case s.ViewType.Quarter:n=this.getNextDateInQuartersScale(e);break;case s.ViewType.Years:n=this.getNextDateInYearsScale(e);break;case s.ViewType.FiveYears:n=this.getNextDateInFiveYearsScale(e)}return n.getTime()>this.range.end.getTime()&&(n=this.range.end),n},e.prototype.getNextTimeBySpan=function(e,t){return(Math.trunc(e/t)+1)*t},e.prototype.getNextDateInTenMinutesScale=function(e){var t=this.getNextTimeBySpan(e.getMinutes(),10);return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),t)},e.prototype.getNextDateInHoursScale=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1)},e.prototype.getNextDateInSixHoursScale=function(e){var t=this.getNextTimeBySpan(e.getHours(),6);return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t)},e.prototype.getNextDateInDaysScale=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)},e.prototype.getNextDateInWeeksScale=function(e,t){return void 0===t&&(t=0),new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+t+7)},e.prototype.getNextDateInMonthsScale=function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)},e.prototype.getNextDateInQuartersScale=function(e){var t=this.getNextTimeBySpan(e.getMonth(),3);return new Date(e.getFullYear(),t,1)},e.prototype.getNextDateInYearsScale=function(e){return new Date(e.getFullYear()+1,0,1)},e.prototype.getNextDateInFiveYearsScale=function(e){var t=this.getNextTimeBySpan(e.getFullYear(),5);return new Date(t,0,1)},e.prototype.getAdjustedBottomScaleItemStart=function(e,t,n){switch(void 0===n&&(n=0),t){case s.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),10*Math.floor(e.getMinutes()/10));case s.ViewType.SixHours:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),6*Math.floor(e.getHours()/6));case s.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case s.ViewType.Days:return new Date(e.getFullYear(),e.getMonth(),e.getDate());case s.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+n);case s.ViewType.Months:return new Date(e.getFullYear(),e.getMonth(),1);case s.ViewType.Quarter:return new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1);case s.ViewType.Years:return new Date(e.getFullYear(),0,1);default:return new Date}},e.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce(function(e,t){return e+t.size.width},0)},e.prototype.getScaleItemColSpan=function(e){return e.valueOf()===this.viewType.valueOf()?1:this.viewType===s.ViewType.TenMinutes?6:this.viewType===s.ViewType.Hours?24:this.viewType===s.ViewType.SixHours?4:this.viewType===s.ViewType.Days?7:this.viewType===s.ViewType.Weeks?4.29:this.viewType===s.ViewType.Months?12:this.viewType===s.ViewType.Quarter?4:this.viewType===s.ViewType.Years?5:1},e.prototype.getRangeTickCount=function(e,t){return r.DateUtils.getRangeTickCount(e,t,this.viewType)},e}();t.ScaleCalculator=l}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.GanttView=e.default=void 0,n(540);var t=n(4931);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.GanttView}}),Object.defineProperty(e,"GanttView",{enumerable:!0,get:function(){return t.GanttView}})})(),i})())}}]);